{
    ".github/workflows/build-electron-clean-room.yml": "name: Electron Clean Room (Refined)\n\non:\n  push:\n    branches: [ \"main\" ]\n  workflow_dispatch:\n\nenv:\n  NODE_VERSION: '20'\n  PYTHON_VERSION: '3.12'\n  BACKEND_DIR: 'python_service'\n  FRONTEND_DIR: 'web_platform/frontend'\n  ELECTRON_DIR: 'electron'\n\njobs:\n  build-and-package:\n    name: \ud83d\udce6 Build & Package\n    runs-on: windows-latest\n    outputs:\n      semver: ${{ steps.meta.outputs.semver }}\n    steps:\n      - uses: actions/checkout@v4\n\n      - name: \ud83c\udff7\ufe0f Metadata\n        id: meta\n        shell: pwsh\n        run: |\n          $ver = if (\"${{ github.ref }}\" -match 'refs/tags/v(.*)') { $Matches[1] } else { \"0.0.${{ github.run_number }}\" }\n          \"semver=$ver\" | Out-File $env:GITHUB_OUTPUT -Encoding utf8 -Append\n          Write-Host \"Build Version: $ver\"\n\n      # --- BACKEND ---\n      - uses: actions/setup-python@v5\n        with:\n          python-version: ${{ env.PYTHON_VERSION }}\n          cache: 'pip'\n\n      - name: \ud83d\udc0d Install Python Dependencies\n        run: |\n          pip install -r ${{ env.BACKEND_DIR }}/requirements.txt\n          pip install pyinstaller==6.6.0\n\n      - name: \ud83d\udc0d Build Python Backend\n        shell: pwsh\n        env:\n          BACKEND_DIR: ${{ env.BACKEND_DIR }}\n          PYTHONUTF8: '1'\n        run: python scripts/generate_spec_electron.py\n\n      # --- FRONTEND ---\n      - uses: actions/setup-node@v4\n        with:\n          node-version: ${{ env.NODE_VERSION }}\n          cache: 'npm'\n          cache-dependency-path: '${{ env.FRONTEND_DIR }}/package-lock.json'\n\n      - name: \ud83c\udfa8 Build Frontend\n        shell: pwsh\n        run: |\n          cd ${{ env.FRONTEND_DIR }}\n          npm ci --prefer-offline\n          npm run build\n          # Ensure output exists\n          if (-not (Test-Path \"out\")) { throw \"Frontend build failed to produce 'out' directory\" }\n\n      # --- ELECTRON ---\n      - name: \ud83d\udcc4 Ensure WiX License Exists for electron-builder\n        shell: pwsh\n        run: |\n          # electron-builder uses build_wix/license.rtf by convention\n          $wixDir = 'build_wix'\n          if (-not (Test-Path $wixDir)) { New-Item -ItemType Directory -Path $wixDir | Out-Null }\n          $licensePath = Join-Path $wixDir 'license.rtf'\n          if (-not (Test-Path $licensePath)) {\n            Write-Host '\u26a0\ufe0f License file missing. Generating placeholder for electron-builder...'\n            $rtfContent = '{\\rtf1\\ansi\\deff0{\\fonttbl{\\f0 Arial;}}\\f0\\fs24 END USER LICENSE AGREEMENT\\par\\par This is a placeholder license for Fortuna Faucet. Please replace with actual terms.}'\n            Set-Content -Path $licensePath -Value $rtfContent -Encoding Ascii\n            Write-Host '\u2705 Placeholder license.rtf created.'\n          } else {\n            Write-Host '\u2705 Existing license.rtf found.'\n          }\n      - name: \u26a1 Build Electron MSI\n        shell: pwsh\n        working-directory: ${{ env.ELECTRON_DIR }}\n        env:\n          CSC_IDENTITY_AUTO_DISCOVERY: 'false'\n        run: |\n          npm ci --prefer-offline\n\n          # Dynamic Config Patching (No external YAML parser needed)\n          $config = Get-Content \"electron-builder-config.yml\" -Raw\n          # Ensure icon path is correct (simple string replace if needed, or rely on relative paths)\n\n          $artifactName = \"Fortuna-Electron-${{ steps.meta.outputs.semver }}.msi\"\n\n          npm run dist -- --win msi --config electron-builder-config.yml --publish never --config.artifactName=$artifactName\n\n      - name: \ud83d\udce4 Upload MSI\n        uses: actions/upload-artifact@v4\n        with:\n          name: electron-msi\n          path: ${{ env.ELECTRON_DIR }}/dist/*.msi\n          retention-days: 1\n\n  smoke-test:\n    name: '\ud83d\udd2c Smoke Test'\n    runs-on: windows-latest\n    needs: build-and-package\n    steps:\n      - name: \ud83d\udce5 Download MSI\n        uses: actions/download-artifact@v4\n        with:\n          name: electron-msi\n          path: installer\n\n      - name: \ud83e\udd2b Install & Verify\n        shell: pwsh\n        run: |\n          $msi = Get-ChildItem \"installer\" -Filter \"*.msi\" -Recurse | Select -First 1\n          if (!$msi) { throw \"No MSI found\" }\n\n          Write-Host \"Installing $($msi.Name)...\"\n          $proc = Start-Process msiexec.exe -ArgumentList \"/i `\"$($msi.FullName)`\" /qn /L*v install.log\" -Wait -PassThru\n\n          if ($proc.ExitCode -ne 0) {\n            Get-Content install.log -Tail 50\n            throw \"Install failed with code $($proc.ExitCode)\"\n          }\n\n      - name: \ud83d\ude80 Launch & Wait (Dual Process)\n        shell: pwsh\n        run: |\n          # Dynamic Executable Finding\n          $root = \"C:\\Program Files\\Fortuna Faucet\"\n          $exe = Get-ChildItem $root -Filter \"*.exe\" -Recurse | Where { $_.Name -notmatch 'uninstall' } | Select -First 1\n          if (!$exe) { throw \"Executable not found in $root\" }\n\n          Start-Process $exe.FullName\n\n          Write-Host \"Waiting for Electron + Python...\"\n          for ($i=0; $i -lt 30; $i++) {\n            $e = Get-Process \"Fortuna Faucet\" -ErrorAction SilentlyContinue\n            $b = Get-Process \"fortuna-backend\" -ErrorAction SilentlyContinue\n\n            if ($e -and $b) {\n              Write-Host \"\u2705 SUCCESS: App and Backend are running.\"\n              exit 0\n            }\n            Start-Sleep 2\n          }\n          throw \"Timeout waiting for processes.\"\n\n      - name: \ud83e\uddf9 Cleanup\n        if: always()\n        run: Stop-Process -Name \"Fortuna Faucet\", \"fortuna-backend\" -Force -ErrorAction SilentlyContinue\n\n  release:\n    name: '\ud83d\udce6 Release'\n    runs-on: windows-latest\n    needs: smoke-test\n    steps:\n      - name: \ud83d\udce5 Download MSI\n        uses: actions/download-artifact@v4\n        with:\n          name: electron-msi\n          path: staging\n\n      - name: \ud83d\ude9a Robocopy Safe-Stage\n        shell: pwsh\n        run: |\n          $dest = \"final-artifact\"\n          New-Item -ItemType Directory -Path $dest -Force | Out-Null\n\n          # The \"Clean Room\" Robocopy Logic\n          robocopy staging $dest /E /np\n\n          # 0-3 = Success. 4+ = Error.\n          if ($LASTEXITCODE -le 3) {\n            Write-Host \"\u2705 Staged successfully.\"\n            exit 0\n          } else {\n            throw \"Robocopy failed with code $LASTEXITCODE\"\n          }\n\n      - name: \ud83d\udce4 Upload Final\n        uses: actions/upload-artifact@v4\n        with:\n          name: Final-Electron-MSI\n          path: final-artifact/\n",
    ".github/workflows/build-electron-msi-gpt5.yml": "# System Timestamp: 2025-12-03 22:44:34.655552917\nname: \ud83d\udd28 Build Electron MSI Installer (Production)\n\non:\n  push:\n    branches: [\"main\"]\n\nconcurrency:\n  group: build-electron-msi-${{ github.ref }}\n  cancel-in-progress: false\n\nenv:\n  NODE_VERSION: '18'\n  PYTHON_VERSION: '3.11'\n  ELECTRON_BUILDER_CACHE: ${{ github.workspace }}/.cache/electron-builder\n  BACKEND_DIR: 'python_service'\n  PYTHONUTF8: '1'\n\njobs:\n  validate-environment:\n    name: \u2705 Pre-flight Validation\n    runs-on: windows-latest\n    timeout-minutes: 5\n    outputs:\n      node_version: ${{ steps.versions.outputs.node }}\n      python_version: ${{ steps.versions.outputs.python }}\n      build_id: ${{ steps.versions.outputs.build_id }}\n      semver: ${{ steps.meta.outputs.semver }}\n      short_sha: ${{ steps.meta.outputs.short_sha }}\n    steps:\n      - name: \ud83d\udce5 Checkout Repository\n        uses: actions/checkout@v4\n        with:\n          fetch-depth: 1\n\n      - name: \ud83d\udd0d Verify Critical Files Exist\n        shell: pwsh\n        run: |\n          $criticalFiles = @(\n            'fortuna-backend-electron.spec',\n            'electron/electron-builder-config.yml',\n            'web_platform/frontend/package.json',\n            '${{ env.BACKEND_DIR }}/requirements-dev.txt',\n            'electron/package.json'\n          )\n\n          $manifest = @{\n            timestamp = Get-Date -Format 'o'\n            checks = @()\n            errors = @()\n          }\n\n          foreach ($file in $criticalFiles) {\n            if (Test-Path -LiteralPath $file) {\n              $hash = (Get-FileHash -LiteralPath $file -Algorithm SHA256).Hash\n              $manifest.checks += @{\n                file = $file\n                exists = $true\n                sha256 = $hash\n              }\n              Write-Host \"\u2713 $file ($hash.Substring(0,8)...)\"\n            } else {\n              $manifest.errors += @{ file = $file; error = 'MISSING' }\n              Write-Error \"\u2717 CRITICAL: $file not found\"\n              exit 1\n            }\n          }\n\n          $manifest | ConvertTo-Json | Out-File -FilePath \".\\validation-manifest.json\"\n          Write-Host \"Manifest saved\"\n\n      - name: \ud83d\udcca Capture Version Information\n        id: versions\n        shell: pwsh\n        run: |\n          $nodeVersion = node --version\n          $pythonVersion = python --version\n          $buildId = \"${{ github.run_id }}-${{ github.run_attempt }}\"\n\n          Write-Host \"Node: $nodeVersion\"\n          Write-Host \"Python: $pythonVersion\"\n          Write-Host \"Build ID: $buildId\"\n\n          \"node=$nodeVersion\" | Out-File -FilePath $env:GITHUB_OUTPUT -Encoding utf8 -Append\n          \"python=$pythonVersion\" | Out-File -FilePath $env:GITHUB_OUTPUT -Encoding utf8 -Append\n          \"build_id=$buildId\" | Out-File -FilePath $env:GITHUB_OUTPUT -Encoding utf8 -Append\n\n      - name: \ud83d\udea8 Capture Environment State\n        if: always()\n        shell: pwsh\n        run: |\n          New-Item -ItemType Directory -Path \"debug-artifacts\" -Force | Out-Null\n\n          # System info\n          systeminfo | Out-File \"debug-artifacts/systeminfo.txt\"\n          Get-CimInstance -ClassName Win32_OperatingSystem | Select-Object Caption, Version, BuildNumber | Out-File \"debug-artifacts/os-version.txt\"\n\n          # Disk space\n          Get-Volume | Out-File \"debug-artifacts/disk-space.txt\"\n\n          # File permissions\n          Get-ChildItem -Recurse -Include \"*.yml\", \"*.spec\", \"*.json\" -ErrorAction SilentlyContinue |\n            ForEach-Object { \"{0} {1}\" -f $_.FullName, $_.Length } |\n            Out-File \"debug-artifacts/file-manifest.txt\"\n\n      - name: Derive Build Metadata\n        id: meta\n        shell: pwsh\n        run: |\n          Set-StrictMode -Version Latest\n          $ref = \"${{ github.ref }}\"\n          if ($ref -like 'refs/tags/v*') {\n            $semver = $ref -replace 'refs/tags/v', ''\n          } else {\n            $semver = \"0.0.${{ github.run_number }}\"\n          }\n          $shortSha = \"${{ github.sha }}\".Substring(0,7)\n          \"semver=$semver\" | Out-File $env:GITHUB_OUTPUT -Encoding utf8 -Append\n          \"short_sha=$shortSha\" | Out-File $env:GITHUB_OUTPUT -Encoding utf8 -Append\n          Write-Host \"\ud83d\udd16 Version: $semver ($shortSha)\"\n\n      - name: \ud83d\udce4 Upload Validation Artifacts\n        if: always()\n        uses: actions/upload-artifact@v4\n        with:\n          name: validation-${{ github.run_id }}\n          path: |\n            validation-manifest.json\n            debug-artifacts/\n          retention-days: 14\n\n  build-python-service:\n    name: \ud83d\udc0d Build Python Service Bundle\n    runs-on: windows-latest\n    timeout-minutes: 20\n    needs: validate-environment\n    steps:\n      - name: \ud83d\udce5 Checkout Repository\n        uses: actions/checkout@v4\n        with:\n          fetch-depth: 1\n\n      - name: \ud83d\udc0d Setup Python\n        uses: actions/setup-python@v5\n        with:\n          python-version: ${{ env.PYTHON_VERSION }}\n          cache: 'pip'\n\n      - name: \ud83d\udce6 Install Python Dependencies\n        shell: pwsh\n        run: |\n          python -m pip install --upgrade pip setuptools wheel\n          pip install -r ${{ env.BACKEND_DIR }}/requirements-dev.txt\n          Write-Host \"\u2713 Python dependencies installed\"\n\n      - name: \u2622\ufe0f NUCLEAR FIX -- Ensure Python Package Structure & Double Injection\n        shell: pwsh\n        run: |\n          Set-Content -Path \"python_service/__init__.py\" -Value \"# This file is intentionally non-empty to ensure package recognition.\"\n          Write-Host \"\u2705 Ensured non-empty __init__.py files exist for package discovery.\"\n\n      - name: Create Dynamic fortuna-backend-electron.spec for PyInstaller\n        shell: pwsh\n        run: |\n          Set-StrictMode -Version Latest\n          $entry_point = '${{ env.BACKEND_DIR }}/main.py'.Replace('\\', '/')\n          $other_service = \"web_service\"\n\n          # Ensure absolute paths for the init files\n          $backend_init = (Resolve-Path \"python_service/__init__.py\").Path.Replace('\\', '/')\n\n          $specContent = @(\n          \"# -*- mode: python ; coding: utf-8 -*-\",\n          \"import os\",\n          \"from pathlib import Path\",\n          \"from PyInstaller.utils.hooks import collect_data_files, collect_submodules\",\n          \"\",\n          \"block_cipher = None\",\n          \"project_root = Path(os.getcwd())\",\n          \"\",\n          \"datas = []\",\n          \"datas += collect_data_files('uvicorn')\",\n          \"datas += collect_data_files('slowapi')\",\n          \"datas += collect_data_files('structlog')\",\n          \"\",\n          \"hiddenimports = collect_submodules('python_service')\",\n          \"hiddenimports += [\",\n          \"    'uvicorn.logging', 'uvicorn.loops.auto', 'uvicorn.lifespan.on',\",\n          \"    'uvicorn.protocols.http.h11_impl', 'uvicorn.protocols.websockets.wsproto_impl',\",\n          \"    'fastapi.routing', 'starlette.staticfiles', 'anyio._backends._asyncio',\",\n          \"    'httpcore', 'httpx', 'slowapi', 'structlog', 'tenacity', 'aiosqlite',\",\n          \"    'pydantic_core'\",\n          \"]\",\n          \"\",\n          \"a = Analysis(\",\n          \"    ['$entry_point'],\",\n          \"    pathex=[str(project_root)],\",\n          \"    binaries=[],\",\n          \"    datas=datas,\",\n          \"    hiddenimports=hiddenimports,\",\n          \"    hookspath=[],\",\n          \"    runtime_hooks=[],\",\n          \"    excludes=['tests', 'pytest', '$other_service'],\",\n          \"    win_no_prefer_redirects=False,\",\n          \"    win_private_assemblies=False,\",\n          \"    cipher=block_cipher,\",\n          \"    noarchive=False\",\n          \")\",\n          \"\",\n          \"# \u2622\ufe0f NUCLEAR OVERRIDE: Force __init__ files into the PYZ archive\",\n          \"a.pure += [\",\n          \"    ('python_service', '$backend_init', 'PYMODULE')\",\n          \"]\",\n          \"\",\n          \"pyz = PYZ(a.pure, a.zipped_data, cipher=block_cipher)\",\n          \"exe = EXE(\",\n          \"    pyz,\",\n          \"    a.scripts,\",\n          \"    a.binaries,\",\n          \"    a.zipfiles,\",\n          \"    a.datas,\",\n          \"    [],\",\n          \"    name='fortuna-backend',\",\n          \"    debug=False,\",\n          \"    bootloader_ignore_signals=False,\",\n          \"    strip=False,\",\n          \"    upx=True,\",\n          \"    runtime_tmpdir=None,\",\n          \"    console=True,\",\n          \"    disable_windowed_traceback=False,\",\n          \"    argv_emulation=False,\",\n          \"    target_arch=None,\",\n          \"    codesign_identity=None,\",\n          \"    entitlements_file=None\",\n          \")\"\n          )\n          Set-Content -Path \"fortuna-backend-electron.spec\" -Value $specContent\n          Write-Host \"\u2705 Dynamically generated 'fortuna-backend-electron.spec' with PYZ Injection.\"\n\n      - name: \ud83d\udd28 Build Python Service with PyInstaller\n        shell: pwsh\n        run: |\n          $specFile = 'fortuna-backend-electron.spec'\n\n          if (-not (Test-Path $specFile)) {\n            Write-Error \"Spec file not found: $specFile\"\n            exit 1\n          }\n\n          pyinstaller `\n            --distpath \".\\dist\\service\" `\n            --workpath \".\\build\\service\" `\n            --clean `\n            $specFile\n\n          if ($LASTEXITCODE -ne 0) {\n            Write-Error \"PyInstaller failed with code $LASTEXITCODE\"\n            exit $LASTEXITCODE\n          }\n\n          $serviceExe = Get-ChildItem -Path \".\\dist\\service\" -Filter \"*.exe\" | Select-Object -First 1\n          if ($null -eq $serviceExe) {\n            Write-Error \"No executable generated by PyInstaller\"\n            exit 1\n          }\n\n          Write-Host \"\u2713 Service executable: $($serviceExe.FullName) ($('{0:N0}' -f $serviceExe.Length) bytes)\"\n\n      - name: \ud83e\uddea Verify Service Executable\n        shell: pwsh\n        run: |\n          $serviceExe = Get-ChildItem -Path \".\\dist\\service\" -Filter \"*.exe\" | Select-Object -First 1\n\n          if ($null -eq $serviceExe) {\n            Write-Error \"Service executable not found\"\n            exit 1\n          }\n\n          # Verify it's a valid PE executable\n          $bytes = [System.IO.File]::ReadAllBytes($serviceExe.FullName)\n          if ($bytes[0] -ne 0x4D -or $bytes[1] -ne 0x5A) {\n            Write-Error \"Invalid PE executable signature\"\n            exit 1\n          }\n\n          Write-Host \"\u2713 Service executable is valid PE binary\"\n\n      - name: \ud83d\udce4 Upload Service Artifact\n        uses: actions/upload-artifact@v4\n        with:\n          name: python-service-${{ needs.validate-environment.outputs.build_id }}\n          path: dist/service/\n          retention-days: 1\n\n      - name: \ud83d\udea8 Upload Failure Diagnostics\n        if: failure()\n        uses: actions/upload-artifact@v4\n        with:\n          name: python-build-failure-logs-${{ needs.validate-environment.outputs.build_id }}\n          path: |\n            build/service/\n            spec-working/\n          retention-days: 30\n\n  build-frontend:\n    name: \ud83c\udfa8 Build Web Frontend\n    runs-on: windows-latest\n    timeout-minutes: 15\n    needs: validate-environment\n    steps:\n      - name: \ud83d\udce5 Checkout Repository\n        uses: actions/checkout@v4\n        with:\n          fetch-depth: 1\n\n      - name: \ud83d\udce6 Setup Node.js\n        uses: actions/setup-node@v4\n        with:\n          node-version: ${{ env.NODE_VERSION }}\n          cache: 'npm'\n          cache-dependency-path: 'web_platform/frontend/package.json'\n\n      - name: \ud83d\udce5 Install Frontend Dependencies\n        shell: pwsh\n        working-directory: web_platform/frontend\n        run: |\n          npm ci --prefer-offline --no-audit\n          if ($LASTEXITCODE -ne 0) {\n            Write-Error \"npm ci failed\"\n            exit 1\n          }\n          npm list --depth=0\n\n      - name: \ud83d\udd28 Build Frontend\n        shell: pwsh\n        working-directory: web_platform/frontend\n        run: |\n          npm run build 2>&1\n\n          if ($LASTEXITCODE -ne 0) {\n            Write-Error \"Frontend build failed\"\n            exit 1\n          }\n\n          $outDir = Get-Item -Path \".\\out\" -ErrorAction SilentlyContinue\n          if ($null -eq $outDir) {\n            Write-Error \"No out/ directory generated\"\n            exit 1\n          }\n\n          $fileCount = (Get-ChildItem -Recurse -Path \".\\out\" | Measure-Object).Count\n          Write-Host \"\u2713 Frontend built: $fileCount files\"\n\n      - name: \ud83d\udce4 Upload Frontend Artifact\n        uses: actions/upload-artifact@v4\n        with:\n          name: frontend-dist-${{ needs.validate-environment.outputs.build_id }}\n          path: web_platform/frontend/out/\n          retention-days: 1\n\n      - name: \ud83d\udea8 Upload Failure Diagnostics\n        if: failure()\n        uses: actions/upload-artifact@v4\n        with:\n          name: frontend-build-failure-logs-${{ needs.validate-environment.outputs.build_id }}\n          path: |\n            web_platform/frontend/.next/\n            web_platform/frontend/npm-debug.log\n          if-no-files-found: ignore\n          retention-days: 30\n\n  verify-assets:\n    name: '\ud83d\uddbc\ufe0f Verify Critical Build Assets'\n    runs-on: windows-latest\n    timeout-minutes: 5\n    needs: validate-environment\n    steps:\n      - name: \ud83d\udce5 Checkout Repository\n        uses: actions/checkout@v4\n\n      - name: \ud83e\uddd0 Forensic Asset Verification\n        shell: pwsh\n        run: |\n          Set-StrictMode -Version Latest\n          $asset_manifest = @(\n            @{ Path = \"electron/assets/icon.ico\"; Purpose = \"Main Application & MSI Icon\" }\n          )\n\n          Write-Host \"--- Asset Verification Forensics ---\"\n          $all_assets_found = $true\n\n          foreach ($asset in $asset_manifest) {\n            Write-Host \"Checking for: $($asset.Path) ($($asset.Purpose))\"\n            if (Test-Path -LiteralPath $asset.Path) {\n              $file_info = Get-Item -LiteralPath $asset.Path\n              $hash = (Get-FileHash -LiteralPath $asset.Path -Algorithm SHA256).Hash\n              Write-Host \"  \u2705 FOUND: $($file_info.Length) bytes, SHA256: $($hash.Substring(0,12))\" -ForegroundColor Green\n            } else {\n              Write-Host \"  \u274c MISSING\" -ForegroundColor Red\n              $all_assets_found = $false\n            }\n          }\n\n          if (-not $all_assets_found) {\n            Write-Error \"CRITICAL: One or more required assets are missing.\"\n            Write-Host \"\\n--- Filesystem State ---\"\n            Write-Host \"Listing contents of 'electron/assets' directory for debugging:\"\n            Get-ChildItem -Path \"electron/assets\" -Recurse | ForEach-Object {\n              Write-Host \"  - $($_.FullName.Replace($env:GITHUB_WORKSPACE, ''))\"\n            }\n            exit 1\n          }\n\n          Write-Host \"\\n\u2705 All critical assets verified.\" -ForegroundColor Green\n  build-electron-msi:\n    name: \ud83d\ude80 Build Electron MSI Package\n    runs-on: windows-latest\n    timeout-minutes: 30\n    needs: [validate-environment, build-python-service, build-frontend, verify-assets]\n    steps:\n      - name: \ud83d\udce5 Checkout Repository\n        uses: actions/checkout@v4\n        with:\n          fetch-depth: 1\n\n      - name: \ud83d\udce6 Setup Node.js\n        uses: actions/setup-node@v4\n        with:\n          node-version: ${{ env.NODE_VERSION }}\n          cache: 'npm'\n          cache-dependency-path: 'electron/package.json'\n\n      - name: \ud83d\udce5 Download Python Service\n        uses: actions/download-artifact@v4\n        with:\n          name: python-service-${{ needs.validate-environment.outputs.build_id }}\n          path: python-service-bin\n\n      - name: \ud83d\udce5 Download Frontend Dist\n        uses: actions/download-artifact@v4\n        with:\n          name: frontend-dist-${{ needs.validate-environment.outputs.build_id }}\n          path: web_platform/frontend/out\n\n      - name: \ud83d\ude9a Stage Backend for Electron Builder\n        shell: pwsh\n        run: |\n          # FIX: Move the backend to where electron-builder expects it\n          $dest = \"electron/python_service-bin\"\n          New-Item -ItemType Directory -Path $dest -Force | Out-Null\n          Move-Item -Path \"python-service-bin/*\" -Destination $dest -Force\n          Write-Host \"\u2705 Backend staged to $dest\"\n      - name: \ud83d\udce5 Install Electron Dependencies\n        shell: pwsh\n        working-directory: electron\n        run: |\n          npm ci --prefer-offline --no-audit\n          if ($LASTEXITCODE -ne 0) {\n            Write-Error \"npm ci failed\"\n            exit 1\n          }\n\n      - name: '\ud83e\uddd0 Forensically Guarantee Icon Paths'\n        shell: pwsh\n        run: |\n          Set-StrictMode -Version Latest\n          $ErrorActionPreference = \"Stop\"\n\n          # Install and import the required module for YAML parsing\n          Install-Module -Name powershell-yaml -Force -Scope CurrentUser -ErrorAction Stop\n          Import-Module powershell-yaml\n\n          $configPath = 'electron/electron-builder-config.yml'\n          Write-Host \"--- Icon Path Forensics ---\"\n          Write-Host \"Verifying and correcting icon paths in: $configPath\"\n\n          # 1. Verify the icon file physically exists\n          $iconPath = \"electron/assets/icon.ico\"\n          if (-not (Test-Path -LiteralPath $iconPath)) {\n            Write-Error \"CRITICAL: The primary icon file is missing at '$iconPath'.\"\n            exit 1\n          }\n          $absoluteIconPath = (Resolve-Path -LiteralPath $iconPath).Path\n          Write-Host \"\u2705 Primary icon found at: $absoluteIconPath\"\n\n          # 2. Read and parse the YAML configuration\n          $config = Get-Content $configPath | ConvertFrom-Yaml\n\n          # 3. Normalize the icon path for YAML\n          $normalizedIconPath = $absoluteIconPath.Replace('\\', '/')\n\n          # 4. Update the icon paths in the configuration object\n          $config.win.icon = $normalizedIconPath\n\n          # The installerIcon and uninstallerIcon properties are not valid for the MSI target.\n          # electron-builder automatically uses the main application icon for the installer.\n          # We unconditionally remove them here to prevent schema validation errors, catching the error if they don't exist.\n          try {\n            $config.msi.PSObject.Properties.Remove('installerIcon')\n            Write-Host \"  -> Removed 'msi.installerIcon' property.\" -ForegroundColor Yellow\n          } catch {\n            Write-Host \"  -> 'msi.installerIcon' property did not exist, no action needed.\"\n          }\n          try {\n            $config.msi.PSObject.Properties.Remove('uninstallerIcon')\n            Write-Host \"  -> Removed 'msi.uninstallerIcon' property.\" -ForegroundColor Yellow\n          } catch {\n            Write-Host \"  -> 'msi.uninstallerIcon' property did not exist, no action needed.\"\n          }\n\n          Write-Host \"  -> Set win.icon to '$normalizedIconPath'\" -ForegroundColor Green\n\n          # 5. Convert back to YAML and write to a NEW temporary config file\n          $tempConfigPath = 'electron/temp-builder-config.yml'\n          $config | ConvertTo-Yaml | Set-Content -Path $tempConfigPath\n          Write-Host \"\u2705 Successfully created temporary config '$tempConfigPath' with corrected icon paths.\"\n\n          # 6. Display final config for verification\n          Write-Host \"\\n--- Final Config ---\"\n          Get-Content $tempConfigPath | Write-Host\n          Write-Host \"--------------------\"\n\n      - name: \ud83d\udd0d Verify electron-builder Config\n        shell: pwsh\n        run: |\n          $configPath = 'electron/temp-builder-config.yml'\n\n          if (-not (Test-Path $configPath)) {\n            Write-Error \"electron-builder config not found: $configPath\"\n            exit 1\n          }\n\n          # Basic YAML syntax check (non-exhaustive)\n          $content = Get-Content $configPath -Raw\n          if ($content -notmatch 'appId:') {\n            Write-Error \"Invalid electron-builder config: missing appId\"\n            exit 1\n          }\n\n          Write-Host \"\u2713 electron-builder config valid\"\n\n      - name: \ud83d\udcc4 Ensure WiX License Exists for electron-builder\n        shell: pwsh\n        run: |\n          # electron-builder uses build_wix/license.rtf by convention\n          $wixDir = 'build_wix'\n          if (-not (Test-Path $wixDir)) { New-Item -ItemType Directory -Path $wixDir | Out-Null }\n          $licensePath = Join-Path $wixDir 'license.rtf'\n          if (-not (Test-Path $licensePath)) {\n            Write-Host '\u26a0\ufe0f License file missing. Generating placeholder for electron-builder...'\n            $rtfContent = '{\\rtf1\\ansi\\deff0{\\fonttbl{\\f0 Arial;}}\\f0\\fs24 END USER LICENSE AGREEMENT\\par\\par This is a placeholder license for Fortuna Faucet. Please replace with actual terms.}'\n            Set-Content -Path $licensePath -Value $rtfContent -Encoding Ascii\n            Write-Host '\u2705 Placeholder license.rtf created.'\n          } else {\n            Write-Host '\u2705 Existing license.rtf found.'\n          }\n      - name: \ud83d\udd28 Build Electron Application\n        shell: pwsh\n        working-directory: electron\n        run: |\n          # Set code signing to false for CI (unless you have signing certificates)\n          $env:CSC_IDENTITY_AUTO_DISCOVERY = 'false'\n\n          npm run build -- --config temp-builder-config.yml --publish never 2>&1\n\n          if ($LASTEXITCODE -ne 0) {\n            Write-Error \"Electron build failed\"\n            exit 1\n          }\n\n          Write-Host \"\u2713 Electron build completed\"\n\n      - name: \ud83c\udfd7\ufe0f Build MSI with electron-builder\n        shell: pwsh\n        working-directory: electron\n        env:\n          CSC_IDENTITY_AUTO_DISCOVERY: 'false'\n        run: |\n          $semver = \"${{ needs.validate-environment.outputs.semver }}\"\n          $shortSha = \"${{ needs.validate-environment.outputs.short_sha }}\"\n          $artifactName = \"Fortuna-Electron-${semver}-${shortSha}.msi\"\n          npm run dist -- --win msi --config temp-builder-config.yml --publish never --config.artifactName=$artifactName 2>&1\n\n          if ($LASTEXITCODE -ne 0) {\n            Write-Error \"electron-builder MSI creation failed\"\n            exit 1\n          }\n\n          Write-Host \"\u2713 MSI build completed\"\n\n\n      - name: \ud83d\udd0d Verify MSI Output\n        shell: pwsh\n        run: |\n          $msiFiles = Get-ChildItem -Recurse -Filter \"*.msi\" -ErrorAction SilentlyContinue\n\n          if ($msiFiles.Count -eq 0) {\n            Write-Error \"No MSI files generated\"\n            exit 1\n          }\n\n          foreach ($msi in $msiFiles) {\n            $sizeGB = $msi.Length / 1GB\n            $sizeMB = $msi.Length / 1MB\n\n            if ($msi.Length -lt 10MB) {\n              Write-Warning \"MSI suspiciously small: $($msi.Name) ($('{0:N1}' -f $sizeMB) MB)\"\n            }\n\n            Write-Host \"\u2713 MSI: $($msi.FullName) ($('{0:N1}' -f $sizeMB) MB)\"\n\n            # Generate checksum\n            $hash = (Get-FileHash -LiteralPath $msi.FullName -Algorithm SHA256).Hash\n            Write-Host \"  SHA256: $hash\"\n            $hash | Out-File -FilePath \"$($msi.FullName).sha256\"\n          }\n\n      - name: \ud83d\udcca Generate Build Report\n        if: always()\n        shell: pwsh\n        run: |\n          $report = @{\n            build_id = '${{ needs.validate-environment.outputs.build_id }}'\n            timestamp = Get-Date -Format 'o'\n            status = if ($LASTEXITCODE -eq 0) { 'SUCCESS' } else { 'FAILED' }\n            node_version = '${{ needs.validate-environment.outputs.node_version }}'\n            python_version = '${{ needs.validate-environment.outputs.python_version }}'\n            msi_files = @()\n          }\n\n          Get-ChildItem -Filter \"*.msi\" -Recurse -ErrorAction SilentlyContinue | ForEach-Object {\n            $report.msi_files += @{\n              path = $_.FullName\n              size_mb = [math]::Round($_.Length / 1MB, 2)\n              hash = (Get-FileHash -LiteralPath $_.FullName -Algorithm SHA256).Hash\n            }\n          }\n\n          $report | ConvertTo-Json | Out-File -FilePath \"build-report.json\"\n          Get-Content \"build-report.json\" | Out-Host\n\n      - name: \ud83d\udce6 Stage Artifacts (Self-Discovery)\n        shell: pwsh\n        run: |\n          Set-StrictMode -Version Latest\n          $destDir = \"release-artifacts\"\n          New-Item -ItemType Directory -Path $destDir -Force | Out-Null\n          $destAbsolutePath = (Resolve-Path $destDir).Path\n\n          Write-Host \"Staging Destination: $destAbsolutePath\"\n\n          # Find all MSIs, excluding any inside the destination folder.\n          $msiFiles = Get-ChildItem -Path \".\" -Recurse -Filter \"*.msi\" |\n                      Where-Object { $_.FullName -notlike \"$destAbsolutePath*\" }\n\n          if ($msiFiles.Count -eq 0) {\n            Write-Error \"No MSI files found to stage!\"\n            exit 1\n          }\n\n          foreach ($msi in $msiFiles) {\n            Write-Host \"Moving: $($msi.FullName)\"\n            Move-Item $msi.FullName $destAbsolutePath -Force\n\n            # Handle the checksum file if it exists\n            $shaPath = \"$($msi.FullName).sha256\"\n            if (Test-Path $shaPath) {\n              Move-Item -LiteralPath $shaPath -Destination $destAbsolutePath -Force\n            }\n          }\n\n          Write-Host \"\u2705 Staging complete. Contents of $($destDir):\"\n          Get-ChildItem $destAbsolutePath | Select-Object Name, Length\n\n      - name: \ud83d\udce4 Upload Release Artifacts\n        if: success()\n        uses: actions/upload-artifact@v4\n        with:\n          name: fortuna-electron-msi-${{ needs.validate-environment.outputs.build_id }}\n          path: |\n            release-artifacts/\n            build-report.json\n          retention-days: 90\n\n      - name: \ud83d\udea8 Upload Failure Diagnostics\n        if: failure()\n        uses: actions/upload-artifact@v4\n        with:\n          name: build-failure-logs-${{ needs.validate-environment.outputs.build_id }}\n          path: |\n            electron/dist/\n            python-service-bin/\n            web_platform/frontend/out/\n            build-report.json\n          retention-days: 30\n\n  smoke-test:\n    name: '\ud83d\udd2c Smoke Test (Robust)'\n    runs-on: windows-latest\n    timeout-minutes: 15\n    needs: [validate-environment, build-electron-msi]\n    steps:\n      - name: \ud83d\udce5 Download MSI Installer\n        uses: actions/download-artifact@v4\n        with:\n          name: fortuna-electron-msi-${{ needs.validate-environment.outputs.build_id }}\n          path: msi-installer\n\n      - name: \ud83d\udccb Inspect Artifact\n        shell: pwsh\n        run: |\n          Write-Host \"=== Artifact Contents ===\"\n          Get-ChildItem -Path \"msi-installer\" -Recurse | ForEach-Object {\n            Write-Host \"  $($_.FullName)\"\n          }\n\n      - name: \ud83e\udd2b Install MSI & Verify\n        shell: pwsh\n        run: |\n          # EXOTIC INGREDIENT #1: Find MSI with recursion\n          $msi = Get-ChildItem -Path \"msi-installer\" -Filter \"*.msi\" -Recurse -ErrorAction SilentlyContinue |\n                 Select-Object -First 1\n\n          if (-not $msi) {\n            Write-Error \"\u274c FATAL: No MSI file found in artifact\"\n            exit 1\n          }\n\n          Write-Host \"Installing: $($msi.Name)\"\n\n          # EXOTIC INGREDIENT #2: Logging with /L*v\n          $proc = Start-Process msiexec.exe `\n            -ArgumentList \"/i `\"$($msi.FullName)`\" /qn /L*v msi-install.log\" `\n            -Wait `\n            -PassThru\n\n          if ($proc.ExitCode -ne 0) {\n            Write-Error \"\u274c MSI Install Failed with exit code $($proc.ExitCode)\"\n            if (Test-Path msi-install.log) {\n                Get-Content msi-install.log | Select-Object -Last 50\n            }\n            exit 1\n          }\n\n          Write-Host \"\u2705 MSI installation succeeded\"\n\n      - name: \ud83d\udd75\ufe0f Find Installed Executable\n        shell: pwsh\n        run: |\n          # EXOTIC INGREDIENT #3: Don't assume the path. Find it dynamically.\n          # Searches for the main executable, skipping uninstallers\n\n          $root = \"C:\\Program Files\\Fortuna Faucet\"\n          if (-not (Test-Path $root)) {\n            Write-Error \"\u274c Install directory not found: $root\"\n            Get-ChildItem \"C:\\Program Files\" | Write-Host\n            exit 1\n          }\n\n          $exe = Get-ChildItem -Path $root `\n                 -Filter \"*.exe\" `\n                 -Recurse `\n                 -ErrorAction SilentlyContinue |\n                 Where-Object { $_.Name -notmatch 'uninstall' } |\n                 Select-Object -First 1\n\n          if (-not $exe) {\n            Write-Error \"\u274c No main executable found in $root\"\n            Get-ChildItem -Path $root -Recurse | Write-Host\n            exit 1\n          }\n\n          Write-Host \"\u2705 Found Executable: $($exe.FullName)\"\n          $exe.FullName | Out-File \"installed_exe.txt\" -Encoding utf8\n\n      - name: \ud83d\ude80 Launch Application & Wait for Processes\n        shell: pwsh\n        run: |\n          $exePath = Get-Content \"installed_exe.txt\"\n          $exeName = Split-Path -Leaf $exePath\n\n          Write-Host \"Launching: $exePath\"\n          Start-Process -FilePath $exePath\n\n          Write-Host \"Waiting for child processes to spawn (up to 60 seconds)...\"\n\n          # EXOTIC INGREDIENT #4: Poll for BOTH processes with a timeout\n          $deadline = (Get-Date).AddSeconds(60)\n          $electronFound = $false\n          $backendFound = $false\n\n          while ((Get-Date) -lt $deadline) {\n            # Check for Electron process (by name)\n            $electronProc = Get-Process -Name \"Fortuna Faucet\" -ErrorAction SilentlyContinue |\n                            Select-Object -First 1\n\n            # Check for Python backend\n            $backendProc = Get-Process -Name \"fortuna-backend\" -ErrorAction SilentlyContinue |\n                           Select-Object -First 1\n\n            if ($electronProc) {\n              Write-Host \"\u2705 Electron process running (PID: $($electronProc.Id))\"\n              $electronFound = $true\n            }\n\n            if ($backendProc) {\n              Write-Host \"\u2705 Backend process running (PID: $($backendProc.Id))\"\n              $backendFound = $true\n            }\n\n            # Success: Electron is running (backend is optional/secondary)\n            if ($electronFound) {\n              Write-Host \"\u2705 SUCCESS: Main application is running.\"\n              exit 0\n            }\n\n            Start-Sleep -Milliseconds 500\n          }\n\n          Write-Error \"\u274c TIMEOUT: Electron process never started within 60 seconds\"\n          Get-Process | Where-Object { $_.Name -like \"*Fortuna*\" } | Format-Table\n          exit 1\n\n      - name: \ud83d\udce4 Upload Logs on Failure\n        if: failure()\n        uses: actions/upload-artifact@v4\n        with:\n          name: electron-smoke-test-logs-${{ github.run_id }}\n          path: |\n            msi-install.log\n          retention-days: 7\n\n      - name: \ud83e\uddf9 Cleanup\n        if: always()\n        shell: pwsh\n        run: |\n          Stop-Process -Name \"Fortuna Faucet\" -Force -ErrorAction SilentlyContinue\n          Stop-Process -Name \"fortuna-backend\" -Force -ErrorAction SilentlyContinue\n          Write-Host \"\u2705 Cleanup complete\"\n\n  diagnose-asgi-imports:\n    name: '\ud83d\udd0d ASGI Import Killer Pre-Smoke Diagnostic'\n    runs-on: windows-latest\n    timeout-minutes: 15\n    needs: build-python-service\n    continue-on-error: true\n    steps:\n      - name: \ud83d\udce5 Checkout Repository\n        uses: actions/checkout@v4\n        with:\n          fetch-depth: 1\n      - name: 'Run ASGI Diagnostics'\n        uses: ./.github/actions/run-asgi-diagnostics\n        with:\n          python-version: ${{ env.PYTHON_VERSION }}\n          backend-dir: 'python_service'\n          backend-module-path: 'python_service'\n\n  stage-release-artifacts:\n    name: '\ud83d\udce6 Stage Release Artifacts'\n    runs-on: windows-latest\n    timeout-minutes: 5\n    needs:\n      - build-electron-msi\n      - validate-environment\n    steps:\n      - name: \ud83d\udce5 Download Build Artifacts\n        uses: actions/download-artifact@v4\n        with:\n          name: fortuna-electron-msi-${{ needs.validate-environment.outputs.build_id }}\n          path: staging-area\n\n      - name: \ud83d\ude9a Stage Final Artifact\n        shell: pwsh\n        run: |\n          Set-StrictMode -Version Latest\n          $sourceDir = \"staging-area\"\n          $destDir = \"final-release-artifact\"\n          New-Item -ItemType Directory -Path $destDir -Force | Out-Null\n\n          # Run Robocopy\n          robocopy $sourceDir $destDir /E\n\n          # Robocopy Exit Codes:\n          # 0 = No files copied (No errors)\n          # 1 = Files copied successfully (No errors)\n          # 2 = Extra files detected (No errors)\n          # 3 = (2+1) Some files copied, some extras (No errors)\n          # 4+ = Mismatched files or actual errors\n\n          if ($LASTEXITCODE -le 3) {\n            Write-Host \"\u2705 Robocopy completed successfully (Exit Code: $LASTEXITCODE).\"\n            Get-ChildItem -Path $destDir | Write-Host\n            # FORCE SUCCESS\n            exit 0\n          } else {\n            Write-Error \"\u274c Robocopy failed with exit code $LASTEXITCODE.\"\n            exit 1\n          }\n\n      - name: \ud83d\udce4 Upload Final MSI Artifact\n        uses: actions/upload-artifact@v4\n        with:\n          name: Final-MSI-Artifact\n          path: final-release-artifact/\n          retention-days: 90\n",
    ".github/workflows/build-msi-hat-trick-fusion.yml": "# System Timestamp: 2025-12-04 15:59:04.131963\nname: HatTrick Fusion (Perfected)\non:\n  workflow_dispatch:\n  push:\n    branches: [\"main\"]\n\nenv:\n  NODE_VERSION: '20'\n  PYTHON_VERSION: '3.12'\n  DOTNET_VERSION: '8.0.x'\n  WIX_VERSION: '4.0.5'\n  SERVICE_PORT: '8102'\n  FRONTEND_PORT: '3000'\n  MSI_NAME: 'HatTrickFusion.msi'\n  FIREWALL_RULE: 'HatTrickFusion-Port'\n  UPGRADE_CODE: 'FA689549-366B-4C5C-A482-1132F9A34B10'\n\njobs:\n  # 1. Build Frontend First (so Backend can bundle it)\n  build-frontend:\n    name: Build Frontend\n    runs-on: windows-latest\n    steps:\n      - uses: actions/checkout@v4\n      - uses: actions/setup-node@v4\n        with:\n          node-version: ${{ env.NODE_VERSION }}\n          cache: npm\n      - name: Install and Build\n        run: |\n          cd web_platform/frontend\n          npm ci --prefer-offline --no-audit --no-fund\n          npm run build\n      - name: Upload Frontend\n        uses: actions/upload-artifact@v4\n        with:\n          name: frontend-build\n          path: web_platform/frontend/out\n\n  # 2. Build Backend (Downloads Frontend to bundle it)\n  build-backend:\n    name: Build Backend Binary\n    runs-on: windows-latest\n    needs: build-frontend\n    outputs:\n      semver: ${{ steps.meta.outputs.semver }}\n      backend-dir: ${{ steps.meta.outputs.backend_dir }}\n    steps:\n      - uses: actions/checkout@v4\n\n      # Download Frontend for bundling\n      - uses: actions/download-artifact@v4\n        with:\n          name: frontend-build\n          path: web_platform/frontend/out\n\n      - id: meta\n        shell: pwsh\n        run: |\n          $ver = if (\"${{ github.ref }}\" -match 'refs/tags/v(.*)') { $Matches[1] } else { \"0.0.${{ github.run_number }}\" }\n          $backendDir = if (Test-Path 'web_service/backend/main.py') { 'web_service/backend' } else { 'python_service' }\n          $modulePath = if (Test-Path 'web_service/backend/main.py') { 'web_service.backend' } else { 'python_service' }\n          \"semver=$ver\" | Out-File -FilePath $env:GITHUB_OUTPUT -Encoding utf8 -Append\n          \"backend_dir=$backendDir\" | Out-File -FilePath $env:GITHUB_OUTPUT -Encoding utf8 -Append\n          \"module_path=$modulePath\" | Out-File -FilePath $env:GITHUB_ENV -Encoding utf8 -Append\n\n      - uses: actions/setup-python@v5\n        with:\n          python-version: ${{ env.PYTHON_VERSION }}\n          cache: pip\n\n      - name: Install Dependencies\n        run: |\n          pip install -r ${{ steps.meta.outputs.backend_dir }}/requirements.txt\n          pip install pyinstaller==6.6.0\n\n      - name: Generate PyInstaller Spec\n        shell: python\n        env:\n          BACKEND_DIR: ${{ steps.meta.outputs.backend_dir }}\n          MODULE_PATH: ${{ env.module_path }}\n        run: |\n          import os\n          from pathlib import Path\n\n          backend_dir = os.environ['BACKEND_DIR']\n          module_path = os.environ['MODULE_PATH']\n          entry = f\"{backend_dir}/main.py\"\n\n          # FIX: Ensure directories exist before writing __init__.py\n          p_init = Path(\"web_service/__init__.py\")\n          b_init = Path(\"web_service/backend/__init__.py\")\n\n          p_init.parent.mkdir(parents=True, exist_ok=True)\n          b_init.parent.mkdir(parents=True, exist_ok=True)\n\n          p_init.write_text(\"# HatTrick\")\n          b_init.write_text(\"# HatTrick\")\n\n          spec_content = f\"\"\"\n          # -*- mode: python ; coding: utf-8 -*-\n          from PyInstaller.utils.hooks import collect_data_files, collect_submodules\n\n          block_cipher = None\n\n          a = Analysis(\n              ['{entry}'],\n              pathex=[],\n              binaries=[],\n              # Frontend is now present at this path\n              datas=collect_data_files('uvicorn') + collect_data_files('slowapi') + [('web_platform/frontend/out', 'ui')],\n              hiddenimports=collect_submodules('{module_path}') + ['uvicorn.logging', 'uvicorn.loops.auto', 'uvicorn.protocols.http.h11_impl'],\n              hookspath=[],\n              hooksconfig={{}},\n              runtime_hooks=[],\n              excludes=['tests', 'pytest'],\n              win_no_prefer_redirects=False,\n              win_private_assemblies=False,\n              cipher=block_cipher,\n              noarchive=False,\n          )\n\n          # PURE INJECTION (The Gold Standard)\n          a.pure += [\n              ('web_service', '{p_init}', 'PYMODULE'),\n              ('web_service.backend', '{b_init}', 'PYMODULE')\n          ]\n\n          pyz = PYZ(a.pure, a.zipped_data, cipher=block_cipher)\n          exe = EXE(\n              pyz,\n              a.scripts,\n              a.binaries,\n              a.zipfiles,\n              a.datas,\n              [],\n              name='fortuna-backend',\n              debug=False,\n              bootloader_ignore_signals=False,\n              strip=False,\n              upx=True,\n              upx_exclude=[],\n              runtime_tmpdir=None,\n              console=False,\n              disable_windowed_traceback=False,\n              argv_emulation=False,\n              target_arch=None,\n              codesign_identity=None,\n              entitlements_file=None,\n          )\n          \"\"\"\n          Path(\"hat-trick.spec\").write_text(spec_content)\n          print(\"Generated spec\")\n\n      - name: Build Executable\n        run: pyinstaller hat-trick.spec --clean --noconfirm\n\n      - name: Upload Backend\n        uses: actions/upload-artifact@v4\n        with:\n          name: backend-dist\n          path: dist/fortuna-backend.exe\n\n  package-msi:\n    name: Package MSI\n    runs-on: windows-latest\n    needs: build-backend\n    steps:\n      - uses: actions/checkout@v4\n      - uses: actions/download-artifact@v4\n        with:\n          name: backend-dist\n          path: staging/backend\n\n      - uses: actions/setup-dotnet@v4\n        with:\n          dotnet-version: ${{ env.DOTNET_VERSION }}\n\n      - name: \ud83d\udcc4 Ensure WiX License Exists\n        shell: pwsh\n        run: |\n          if (-not (Test-Path build_wix)) { New-Item -ItemType Directory -Path build_wix | Out-Null }\n          $licensePath = 'build_wix/license.rtf'\n          if (-not (Test-Path $licensePath)) {\n            Write-Host '\u26a0\ufe0f License file missing. Generating placeholder...'\n            $rtfContent = '{\\rtf1\\ansi\\deff0{\\fonttbl{\\f0 Arial;}}\\f0\\fs24 END USER LICENSE AGREEMENT\\par\\par This is a placeholder license for Fortuna Faucet. Please replace with actual terms.}'\n            Set-Content -Path $licensePath -Value $rtfContent -Encoding Ascii\n            Write-Host '\u2705 Placeholder license.rtf created.'\n          } else {\n            Write-Host '\u2705 Existing license.rtf found.'\n          }\n      - name: Prepare WiX\n        shell: pwsh\n        run: |\n          Set-StrictMode -Version Latest\n          if (-not (Test-Path build_wix)) { New-Item -ItemType Directory -Path build_wix | Out-Null }\n\n          # Copy the authoritative template to the build location\n          Copy-Item build_wix/Product_WithService.wxs build_wix/Product.wxs -Force\n\n          # Dynamically remove the problematic Start=\"install\" attribute to prevent timeouts\n          $wxsPath = \"build_wix/Product.wxs\"\n          $wxsContent = Get-Content $wxsPath -Raw\n          $wxsContent = $wxsContent -replace 'Start=\"install\"', ''\n          Set-Content -Path $wxsPath -Value $wxsContent -Encoding UTF8 -Force\n\n          if (Test-Path staging/backend/fortuna-backend.exe) {\n            Move-Item staging/backend/fortuna-backend.exe staging/backend/fortuna-webservice.exe -Force\n          }\n\n          $proj = @()\n          $proj += '<Project Sdk=\"WixToolset.Sdk/${{ env.WIX_VERSION }}\">'\n          $proj += '  <PropertyGroup>'\n          $proj += '    <OutputName>HatTrickFusion</OutputName>'\n          $proj += '    <OutputType>Package</OutputType>'\n          $proj += '    <EnableDefaultCompileItems>false</EnableDefaultCompileItems>'\n          $proj += '    <DefineConstants>SourceDir=../staging/backend;Version=${{ needs.build-backend.outputs.semver }};ServicePort=${{ env.SERVICE_PORT }}</DefineConstants>'\n          $proj += '    <Platforms>x64</Platforms>'\n          $proj += '    <BinderIncludeCabinetFilesInPackage>true</BinderIncludeCabinetFilesInPackage>'\n          $proj += '  </PropertyGroup>'\n          $proj += '  <ItemGroup>'\n          $proj += '    <PackageReference Include=\"WixToolset.Firewall.wixext\" Version=\"${{ env.WIX_VERSION }}\" />'\n          $proj += '    <PackageReference Include=\"WixToolset.UI.wixext\" Version=\"${{ env.WIX_VERSION }}\" />'\n          $proj += '    <PackageReference Include=\"WixToolset.Util.wixext\" Version=\"${{ env.WIX_VERSION }}\" />'\n          $proj += '  </ItemGroup>'\n          $proj += '  <ItemGroup>'\n          $proj += '    <Compile Include=\"Product.wxs\" />'\n          $proj += '  </ItemGroup>'\n          $proj += '</Project>'\n          Set-Content build_wix/Fortuna.wixproj ($proj -join \"`n\") -Encoding utf8\n\n      - name: Build MSI\n        working-directory: build_wix\n        run: dotnet build Fortuna.wixproj -c Release -p:Platform=x64\n\n      - name: Upload MSI\n        uses: actions/upload-artifact@v4\n        with:\n          name: hat-trick-msi\n          path: build_wix/bin/x64/Release/*\n\n  smoke-test:\n    name: HatTrick Fusion Smoke Test\n    runs-on: windows-latest\n    needs: package-msi\n    steps:\n      - name: \ud83d\udee1\ufe0f Firewall Rule\n        shell: pwsh\n        run: |\n          New-NetFirewallRule -DisplayName \"HatTrick-Test\" -Direction Inbound -LocalPort ${{ env.SERVICE_PORT }} -Protocol TCP -Action Allow\n      - uses: actions/download-artifact@v4\n        with:\n          name: hat-trick-msi\n          path: installer\n\n      - name: \ud83e\udd2b Install MSI (With Logging)\n        shell: pwsh\n        run: |\n          if (Get-Service -Name FortunaWebService -ErrorAction SilentlyContinue) {\n            sc.exe stop FortunaWebService 2>&1 | Out-Null\n            sc.exe delete FortunaWebService 2>&1 | Out-Null\n          }\n\n          $msi = Get-ChildItem -Path \"installer\" -Filter \"*.msi\" -Recurse | Select-Object -First 1\n          if (-not $msi) {\n            Write-Error \"\u274c FATAL: No MSI found in artifact\"\n            Get-ChildItem -Path \"installer\" -Recurse\n            exit 1\n          }\n\n          Write-Host \"Installing: $($msi.FullName)\"\n\n          # FIX: Use -PassThru to capture the process object\n          $proc = Start-Process msiexec.exe `\n            -ArgumentList \"/i `\"$($msi.FullName)`\" /qn /L*v installation.log\" `\n            -Wait `\n            -NoNewWindow `\n            -PassThru\n\n          # FIX: Check the specific process exit code\n          if ($proc.ExitCode -ne 0) {\n            Write-Error \"\u274c MSI Install Failed with exit code $($proc.ExitCode)\"\n            Get-Content installation.log -Tail 60 | ForEach-Object { Write-Error $_ }\n            throw \"Installation failed\"\n          }\n\n          Write-Host \"\u2705 MSI installation succeeded (Exit Code: 0)\"\n\n      - name: Emit MSI log tail\n        if: always()\n        shell: pwsh\n        run: |\n          if (Test-Path installation.log) {\n            Write-Host \"`n=== installation.log (last 200 lines) ===\"\n            Get-Content installation.log -Tail 200\n          } else {\n            Write-Host \"No installation.log found\"\n          }\n\n      - name: Health and Process Validation\n        shell: python\n        env:\n          PORT: ${{ env.SERVICE_PORT }}\n        run: |\n          import os, socket, time, urllib.request, urllib.error, subprocess, sys\n          port = int(os.environ[\"PORT\"])\n\n          # Start Service\n          subprocess.run([\"sc.exe\", \"start\", \"FortunaWebService\"], check=False)\n\n          # Wait for Port\n          for _ in range(30):\n            try:\n              with socket.create_connection((\"127.0.0.1\", port), timeout=1):\n                break\n            except Exception:\n              time.sleep(1)\n          else:\n            print(\"\u274c Port bind timeout\")\n            subprocess.run([\"sc.exe\", \"query\", \"FortunaWebService\"])\n            sys.exit(1)\n\n          # Health Check\n          for _ in range(6):\n            try:\n              req = urllib.request.Request(f\"http://127.0.0.1:{port}/health\")\n              req.add_header(\"User-Agent\", \"HatTrickFusion/1.0\")\n              with urllib.request.urlopen(req, timeout=5) as resp:\n                if resp.status == 200:\n                  print(\"\u2705 Health Check Passed\")\n                  sys.exit(0)\n            except urllib.error.HTTPError as err:\n              if err.code in (401, 403):\n                print(\"\u2705 Service Up (Auth Required)\")\n                sys.exit(0)\n            except Exception:\n              time.sleep(2)\n          sys.exit(1)\n\n      - name: Verify UI is Served from Backend\n        shell: pwsh\n        run: |\n          $uri = \"http://127.0.0.1:${{ env.SERVICE_PORT }}/index.html\"\n          Write-Host \"Checking for frontend at $uri\"\n          for ($i = 0; $i -lt 12; $i++) {\n            try {\n              $resp = Invoke-WebRequest -Uri $uri -TimeoutSec 3 -UseBasicParsing -ErrorAction Stop\n              if ($resp.StatusCode -eq 200) {\n                Write-Host \"\u2705 UI is being served correctly.\"\n                exit 0\n              }\n            } catch {\n              Start-Sleep -Seconds 2\n            }\n          }\n          Write-Error \"UI was not served from the backend.\"\n          exit 1\n\n      - name: Gather diagnostics\n        if: failure()\n        shell: pwsh\n        run: |\n          $diag = Join-Path $PWD \"installer-diag\"\n          Remove-Item $diag -Recurse -Force -ErrorAction SilentlyContinue\n          New-Item -ItemType Directory -Path $diag | Out-Null\n          Copy-Item -Path installation.log -Destination $diag -Force\n          Copy-Item -Path \"C:\\ProgramData\\Fortuna\\logs\\*.log\" -Destination $diag -Force -ErrorAction SilentlyContinue\n          Copy-Item -Path \"C:\\Program Files\\Fortuna Faucet\\*\" -Destination $diag -Recurse -Force -ErrorAction SilentlyContinue\n      - name: Upload Logs on Failure\n        if: failure()\n        uses: actions/upload-artifact@v4\n        with:\n          name: hat-trick-fusion-logs-${{ github.run_id }}\n          path: installer-diag\n",
    ".github/workflows/build-msi-unified.yml": "# System Timestamp: 2025-12-04 14:04:28.986665\nname: Unified MSI Builder (Jules's Gold Standard)\n\non:\n  push:\n    branches:\n      - main\n\nenv:\n  NODE_VERSION: '20'\n  PYTHON_VERSION: '3.12'\n  DOTNET_VERSION: '8.0.x'\n  WIX_VERSION: '4.0.5'\n  FRONTEND_DIR: 'web_platform/frontend'\n  WIX_DIR: 'build_wix'\n  SERVICE_PORT: '8102'\n  UPGRADE_CODE: 'FA689549-366B-4C5C-A482-1132F9A34B10'\n\njobs:\n  path-finder:\n    name: '\ud83d\udd0e Path Finder - Dynamic Backend Detection'\n    runs-on: windows-latest\n    outputs:\n      backend_dir: ${{ steps.find-path.outputs.backend_dir }}\n      backend_module_path: ${{ steps.find-path.outputs.backend_module_path }}\n      semver: ${{ steps.meta.outputs.semver }}\n    steps:\n      - name: Checkout Repository\n        uses: actions/checkout@v4\n\n      - name: Detect Backend Path\n        id: find-path\n        shell: pwsh\n        run: |\n          Set-StrictMode -Version Latest\n          $web_service_path = \"web_service/backend\"\n          $python_service_path = \"python_service\"\n          if (Test-Path (Join-Path $web_service_path \"main.py\")) {\n              $backend_dir = $web_service_path\n              $backend_module_path = \"web_service.backend\"\n              Write-Host \"\u2705 Verdict: Detected 'web_service/backend' as the target.\"\n          } elseif (Test-Path (Join-Path $python_service_path \"main.py\")) {\n              $backend_dir = $python_service_path\n              $backend_module_path = \"python_service\"\n              Write-Host \"\u2705 Verdict: Detected 'python_service' as the target.\"\n          } else {\n              Write-Error \"\u274c FATAL: Could not determine a valid backend directory.\"\n              exit 1\n          }\n          \"backend_dir=$backend_dir\" | Out-File $env:GITHUB_OUTPUT -Encoding utf8 -Append\n          \"backend_module_path=$backend_module_path\" | Out-File $env:GITHUB_OUTPUT -Encoding utf8 -Append\n\n      - name: Derive Build Metadata\n        id: meta\n        shell: pwsh\n        run: |\n          Set-StrictMode -Version Latest\n          $ref = \"${{ github.ref }}\"\n          if ($ref -like 'refs/tags/v*') {\n            $semver = $ref -replace 'refs/tags/v', ''\n          } else {\n            $semver = \"0.0.${{ github.run_number }}\"\n          }\n          \"semver=$semver\" | Out-File $env:GITHUB_OUTPUT -Encoding utf8 -Append\n          Write-Host \"\ud83d\udd16 Version: $semver\"\n\n  quality-gate:\n    name: '\u2705 Quality Gate'\n    runs-on: windows-latest\n    needs: path-finder\n    env:\n      BACKEND_DIR: ${{ needs.path-finder.outputs.backend_dir }}\n    steps:\n      - name: Checkout Repository\n        uses: actions/checkout@v4\n\n      - name: Setup Python\n        uses: actions/setup-python@v5\n        with:\n          python-version: ${{ env.PYTHON_VERSION }}\n          cache: 'pip'\n          cache-dependency-path: |\n            ${{ env.BACKEND_DIR }}/requirements.txt\n            ${{ env.BACKEND_DIR }}/requirements-dev.txt\n\n      - name: Install Python Dependencies\n        run: |\n          python -m pip install --upgrade pip\n          if (Test-Path \"${{ env.BACKEND_DIR }}/requirements-dev.txt\") {\n            pip install -r ${{ env.BACKEND_DIR }}/requirements-dev.txt\n          } else {\n            # Fallback to standard requirements if -dev is not found\n            pip install -r ${{ env.BACKEND_DIR }}/requirements.txt\n          }\n\n      - name: Run Pytest\n        shell: pwsh\n        run: |\n          # Check if pytest is installed before trying to run it\n          $pytest_exists = Get-Command pytest -ErrorAction SilentlyContinue\n          if (-not $pytest_exists) {\n            Write-Host \"\u2139\ufe0f pytest not found in dependencies, skipping tests.\"\n            exit 0\n          }\n\n          python -m pytest ${{ env.BACKEND_DIR }}\n\n          # Exit code 5 means no tests were found, which is not a failure in this context.\n          if ($LASTEXITCODE -eq 5) {\n            Write-Host \"\u2705 Pytest returned exit code 5 (No tests found), which is acceptable.\"\n            exit 0\n          } elseif ($LASTEXITCODE -ne 0) {\n            Write-Error \"\u274c Pytest failed with exit code $LASTEXITCODE.\"\n            exit $LASTEXITCODE\n          }\n          Write-Host \"\u2705 Pytest suite passed.\"\n\n  build-executable:\n    name: '\ud83d\udee0\ufe0f Build Executable'\n    runs-on: windows-latest\n    needs: [path-finder, quality-gate]\n    env:\n      BACKEND_DIR: ${{ needs.path-finder.outputs.backend_dir }}\n      BACKEND_MODULE_PATH: ${{ needs.path-finder.outputs.backend_module_path }}\n    outputs:\n      build_id: ${{ steps.vars.outputs.build_id }}\n    steps:\n      - name: Checkout Repository\n        uses: actions/checkout@v4\n\n      - name: Set Build ID\n        id: vars\n        run: echo \"build_id=${{ github.run_id }}-${{ github.run_attempt }}\" | Out-File -FilePath $env:GITHUB_OUTPUT -Encoding utf8 -Append\n\n      - name: Setup Node.js\n        uses: actions/setup-node@v4\n        with:\n          node-version: ${{ env.NODE_VERSION }}\n          cache: 'npm'\n          cache-dependency-path: '${{ env.FRONTEND_DIR }}/package-lock.json'\n\n      - name: Install Frontend Dependencies & Build\n        shell: pwsh\n        run: |\n          cd \"${{ env.FRONTEND_DIR }}\"\n          npm ci --prefer-offline\n          npm run build\n          cd ../..\n\n      - name: Setup Python\n        uses: actions/setup-python@v5\n        with:\n          python-version: ${{ env.PYTHON_VERSION }}\n          cache: 'pip'\n          cache-dependency-path: '${{ env.BACKEND_DIR }}/requirements.txt'\n\n      - name: Install Backend Dependencies\n        shell: pwsh\n        run: |\n          python -m pip install --upgrade pip\n          pip install -r ${{ env.BACKEND_DIR }}/requirements.txt\n          pip install pyinstaller==6.6.0\n\n      - name: Create Dynamic Spec for PyInstaller\n        shell: pwsh\n        run: |\n          Set-StrictMode -Version Latest\n          $entry_point = (Join-Path $env:BACKEND_DIR \"main.py\").Replace('\\', '/')\n          $submodules = \"collect_submodules('{0}')\" -f $env:BACKEND_MODULE_PATH\n          $main_import = \"'{0}.main'\" -f $env:BACKEND_MODULE_PATH\n          $staging_ui_path = (Resolve-Path \"web_platform/frontend/out\").Path.Replace('\\', '/')\n          $other_service = if (\"${{ env.BACKEND_DIR }}\" -eq \"web_service/backend\") { \"python_service\" } else { \"web_service\" }\n          $backend_init = (Resolve-Path \"web_service/backend/__init__.py\").Path.Replace('\\', '/')\n          $parent_init = (Resolve-Path \"web_service/__init__.py\").Path.Replace('\\', '/')\n          $python_service_init = (Resolve-Path \"python_service/__init__.py\").Path.Replace('\\', '/')\n\n          # Ensure __init__.py files exist and are not empty to guarantee package recognition\n          Set-Content -Path \"web_service/__init__.py\" -Value \"# UNIFIED\" -Force\n          Set-Content -Path \"web_service/backend/__init__.py\" -Value \"# UNIFIED\" -Force\n          Set-Content -Path \"python_service/__init__.py\" -Value \"# UNIFIED\" -Force\n\n          $specContent = @(\n            '# -*- mode: python ; coding: utf-8 -*-',\n            '# DYNAMICALLY GENERATED SPEC - DO NOT EDIT MANUALLY',\n            'import os',\n            'from pathlib import Path',\n            'from PyInstaller.utils.hooks import collect_data_files, collect_submodules',\n            '',\n            'block_cipher = None',\n            'project_root = Path(os.getcwd())',\n            '',\n            '# Standard Data Collection (UI, package data, etc.)',\n            'datas = [',\n            \"    ('$staging_ui_path', 'ui'),\",\n            ']',\n            \"datas += collect_data_files('uvicorn')\",\n            \"datas += collect_data_files('slowapi')\",\n            \"datas += collect_data_files('structlog')\",\n            \"datas += collect_data_files('certifi')\",\n            '',\n            'hiddenimports = set()',\n            \"hiddenimports.update($submodules)\",\n            'hiddenimports.update([',\n            \"    'uvicorn.logging', 'uvicorn.loops.auto', 'uvicorn.lifespan.on',\",\n            \"    'uvicorn.protocols.http.h11_impl', 'uvicorn.protocols.websockets.wsproto_impl',\",\n            \"    'fastapi.routing', 'starlette.staticfiles', 'anyio._backends._asyncio',\",\n            \"    'httpcore', 'httpx', 'slowapi', 'structlog', 'tenacity', 'aiosqlite',\",\n            \"    'pydantic_core', 'pydantic_settings.sources', $main_import\",\n            '])',\n            '',\n            'a = Analysis(',\n            \"    ['$entry_point'],\",\n            '    pathex=[str(project_root)],',\n            '    binaries=[],',\n            '    datas=datas,',\n            '    hiddenimports=sorted(hiddenimports),',\n            '    hookspath=[],',\n            '    runtime_hooks=[],',\n            \"    excludes=['tests', 'pytest', '$other_service'], # CRITICAL: Exclude the other service\",\n            '    win_no_prefer_redirects=False,',\n            '    win_private_assemblies=False,',\n            '    cipher=block_cipher,',\n            '    noarchive=False',\n            ')',\n            '',\n            \"# \u2622\ufe0f PYZ INJECTION: Force __init__ files into the PYZ archive as modules\",\n            \"a.pure += [\",\n            \"    ('web_service', '$parent_init', 'PYMODULE'),\",\n            \"    ('web_service.backend', '$backend_init', 'PYMODULE'),\",\n            \"    ('python_service', '$python_service_init', 'PYMODULE')\",\n            \"]\",\n            '',\n            'pyz = PYZ(a.pure, a.zipped_data, cipher=block_cipher)',\n            'exe = EXE(',\n            '    pyz,',\n            '    a.scripts,',\n            '    a.binaries,',\n            '    a.zipfiles,',\n            '    a.datas,',\n            '    [],',\n            \"    name='fortuna-backend',\",\n            '    debug=False,',\n            '    bootloader_ignore_signals=False,',\n            '    strip=False,',\n            '    upx=True,',\n            '    runtime_tmpdir=None,',\n            '    console=False,',\n            '    disable_windowed_traceback=False,',\n            '    argv_emulation=False,',\n            '    target_arch=None,',\n            '    codesign_identity=None,',\n            '    entitlements_file=None',\n            ')'\n          )\n          # Use a unique name for the unified workflow's spec file\n          Set-Content -Path \"unified.spec\" -Value ($specContent -join \"`n\")\n          Write-Host \"\u2705 Dynamically generated 'unified.spec' created.\"\n\n      - name: Build with PyInstaller\n        run: pyinstaller unified.spec --clean --noconfirm\n\n      - name: Upload Backend Artifact\n        uses: actions/upload-artifact@v4\n        with:\n          name: backend-dist-${{ steps.vars.outputs.build_id }}\n          path: dist/fortuna-backend.exe\n          retention-days: 1\n\n      - name: \ud83d\udce4 Upload Executable on Failure\n        if: failure()\n        uses: actions/upload-artifact@v4\n        with:\n          name: failed-executable-${{ steps.vars.outputs.build_id }}\n          path: dist/\n          retention-days: 5\n\n  package-msi:\n    name: '\ud83d\udcbf Package MSI'\n    runs-on: windows-latest\n    needs: [path-finder, build-executable]\n    outputs:\n      build_id: ${{ needs.build-executable.outputs.build_id }}\n    steps:\n      - name: Checkout Repository\n        uses: actions/checkout@v4\n\n      - name: Download Backend Artifact\n        uses: actions/download-artifact@v4\n        with:\n          name: backend-dist-${{ needs.build-executable.outputs.build_id }}\n          path: staging/backend\n\n      - name: Rename Executable for WiX\n        shell: pwsh\n        run: |\n          if (Test-Path staging/backend/fortuna-backend.exe) {\n            Rename-Item -Path staging/backend/fortuna-backend.exe -NewName fortuna-webservice.exe -Force\n            Write-Host \"\u2705 Renamed executable to fortuna-webservice.exe\"\n          } else {\n            Write-Error \"\u274c Executable not found in staging directory!\"\n            exit 1\n          }\n\n      - name: Setup .NET SDK\n        uses: actions/setup-dotnet@v4\n        with:\n          dotnet-version: ${{ env.DOTNET_VERSION }}\n\n      - name: \ud83d\udcc4 Ensure WiX License Exists\n        shell: pwsh\n        run: |\n          if (-not (Test-Path build_wix)) { New-Item -ItemType Directory -Path build_wix | Out-Null }\n          $licensePath = 'build_wix/license.rtf'\n          if (-not (Test-Path $licensePath)) {\n            Write-Host '\u26a0\ufe0f License file missing. Generating placeholder...'\n            $rtfContent = '{\\rtf1\\ansi\\deff0{\\fonttbl{\\f0 Arial;}}\\f0\\fs24 END USER LICENSE AGREEMENT\\par\\par This is a placeholder license for Fortuna Faucet. Please replace with actual terms.}'\n            Set-Content -Path $licensePath -Value $rtfContent -Encoding Ascii\n            Write-Host '\u2705 Placeholder license.rtf created.'\n          } else {\n            Write-Host '\u2705 Existing license.rtf found.'\n          }\n      - name: Prepare WiX Project\n        shell: pwsh\n        run: |\n          # 1. Copy the template\n          Copy-Item \"${{ env.WIX_DIR }}/Product_WithService.wxs\" \"${{ env.WIX_DIR }}/Product.wxs\" -Force\n\n          # 2. Dynamically remove the problematic Start=\"install\" attribute to prevent timeouts\n          $wxsPath = \"${{ env.WIX_DIR }}/Product.wxs\"\n          $wxsContent = Get-Content $wxsPath -Raw\n          $wxsContent = $wxsContent -replace 'Start=\"install\"', ''\n          Set-Content -Path $wxsPath -Value $wxsContent -Encoding UTF8 -Force\n\n          # 3. Generate Project with CAB embedding enabled\n          $wixProj = @(\n            '<Project Sdk=\"WixToolset.Sdk/${{ env.WIX_VERSION }}\">'\n            '  <PropertyGroup>'\n            '    <OutputName>Fortuna-WebService-Pragmatic</OutputName>'\n            '    <OutputType>Package</OutputType>'\n            '    <EnableDefaultCompileItems>false</EnableDefaultCompileItems>'\n            '    <DefineConstants>SourceDir=../staging/backend;Version=${{ needs.path-finder.outputs.semver }};ServicePort=${{ env.SERVICE_PORT }}</DefineConstants>'\n            # FIX: Embed the CAB file so we don't get Error 1311\n            '    <BinderIncludeCabinetFilesInPackage>true</BinderIncludeCabinetFilesInPackage>'\n            '  </PropertyGroup>'\n            '  <ItemGroup>'\n            '    <PackageReference Include=\"WixToolset.Util.wixext\" Version=\"${{ env.WIX_VERSION }}\" />'\n            '    <PackageReference Include=\"WixToolset.Firewall.wixext\" Version=\"${{ env.WIX_VERSION }}\" />'\n            '    <PackageReference Include=\"WixToolset.UI.wixext\" Version=\"${{ env.WIX_VERSION }}\" />'\n            '  </ItemGroup>'\n            '  <ItemGroup>'\n            '    <Compile Include=\"Product.wxs\" />'\n            '  </ItemGroup>'\n            '</Project>'\n          )\n          Set-Content \"${{ env.WIX_DIR }}/Fortuna.wixproj\" -Value ($wixProj -join \"`n\")\n\n      - name: Build MSI\n        working-directory: ${{ env.WIX_DIR }}\n        run: dotnet build Fortuna.wixproj -c Release -p:Platform=x64\n\n      - name: Upload MSI Artifact\n        uses: actions/upload-artifact@v4\n        with:\n          name: msi-installer-${{ needs.build-executable.outputs.build_id }}\n          path: ${{ env.WIX_DIR }}/bin/x64/Release/*\n          retention-days: 1\n\n  smoke-test:\n    name: '\ud83d\udd2c Smoke Test (Unified)'\n    runs-on: windows-latest\n    needs: package-msi\n    steps:\n      - name: Download MSI Installer\n        uses: actions/download-artifact@v4\n        with:\n          name: msi-installer-${{ needs.package-msi.outputs.build_id }}\n          path: msi-installer\n\n      - name: \ud83d\udee1\ufe0f Configure Firewall\n        shell: pwsh\n        run: |\n          New-NetFirewallRule `\n            -DisplayName \"FortunaWebService\" `\n            -Direction Inbound `\n            -LocalPort 8102 `\n            -Protocol TCP `\n            -Action Allow `\n            -ErrorAction SilentlyContinue\n          Write-Host \"\u2705 Firewall rule added for port 8102\"\n\n      - name: \ud83e\udd2b Install MSI (With Logging)\n        shell: pwsh\n        run: |\n          if (Get-Service -Name FortunaWebService -ErrorAction SilentlyContinue) {\n            sc.exe stop FortunaWebService 2>&1 | Out-Null\n            sc.exe delete FortunaWebService 2>&1 | Out-Null\n          }\n\n          $msi = Get-ChildItem -Path \"msi-installer\" -Filter \"*.msi\" -Recurse | Select-Object -First 1\n          if (-not $msi) {\n            Write-Error \"\u274c FATAL: No MSI found in artifact\"\n            Get-ChildItem -Path \"msi-installer\" -Recurse\n            exit 1\n          }\n\n          Write-Host \"Installing: $($msi.FullName)\"\n\n          $proc = Start-Process msiexec.exe `\n            -ArgumentList \"/i `\"$($msi.FullName)`\" /qn /L*v msi-install.log\" `\n            -Wait `\n            -NoNewWindow `\n            -PassThru\n\n          if ($proc.ExitCode -ne 0) {\n            Write-Error \"\u274c MSI Install Failed with exit code $($proc.ExitCode)\"\n            exit 1\n          }\n\n          Write-Host \"\u2705 MSI installation succeeded\"\n\n      - name: Emit MSI log tail\n        if: always()\n        shell: pwsh\n        run: |\n          if (Test-Path msi-install.log) {\n            Write-Host \"`n=== msi-install.log (last 200 lines) ===\"\n            Get-Content msi-install.log -Tail 200\n          } else {\n            Write-Host \"No msi-install.log found\"\n          }\n\n      - name: \u23f3 Wait for Service Registration\n        shell: pwsh\n        run: |\n          $regPath = \"HKLM:\\SYSTEM\\CurrentControlSet\\Services\\FortunaWebService\"\n          Write-Host \"Waiting for service to be registered in registry...\"\n\n          for ($i = 0; $i -lt 30; $i++) {\n            if (Test-Path $regPath) {\n              Write-Host \"\u2705 Service registered (took $i seconds)\"\n              $svc = Get-Service -Name \"FortunaWebService\" -ErrorAction SilentlyContinue\n              Write-Host \"   DisplayName: $($svc.DisplayName)\"\n              Write-Host \"   Status: $($svc.Status)\"\n              exit 0\n            }\n            Write-Host \"  Waiting... ($i/30 seconds)\"\n            Start-Sleep -Seconds 1\n          }\n\n          Write-Error \"\u274c Service was not registered in HKLM after 30 seconds\"\n          exit 1\n\n      - name: \ud83d\ude80 Launch & Verify Health\n        shell: python\n        env:\n          SERVICE_PORT: '8102'\n        run: |\n          import os, sys, subprocess, socket, time, urllib.request, urllib.error\n\n          PORT = int(os.getenv(\"SERVICE_PORT\", 8102))\n\n          print(\"--- Starting Service via SC.EXE ---\")\n          result = subprocess.run(\n            [\"sc.exe\", \"start\", \"FortunaWebService\"],\n            capture_output=True,\n            text=True\n          )\n          print(f\"sc.exe output: {result.stdout}\")\n          if result.stderr:\n            print(f\"sc.exe stderr: {result.stderr}\")\n\n          print(f\"\\n--- Waiting for Port {PORT} (up to 60 seconds) ---\")\n          start_time = time.time()\n          socket_bound = False\n\n          while time.time() - start_time < 60:\n            try:\n              with socket.create_connection((\"127.0.0.1\", PORT), timeout=1):\n                elapsed = time.time() - start_time\n                print(f\"\u2705 Socket bound after {elapsed:.1f} seconds.\")\n                socket_bound = True\n                break\n            except Exception as e:\n              elapsed = time.time() - start_time\n              print(f\"  Waiting... {elapsed:.1f}s\", end=\"\\r\")\n              time.sleep(2)\n\n          if not socket_bound:\n            print(f\"\\n\u274c FATAL: Service did not bind port 8102 within 60 seconds\")\n            print(\"Dumping service status for debugging:\")\n            subprocess.run([\"sc.exe\", \"query\", \"FortunaWebService\"])\n            sys.exit(1)\n\n          time.sleep(2)\n\n          print(\"\\n--- HTTP Health Check ---\")\n          for attempt in range(5):\n            try:\n              req = urllib.request.Request(f\"http://127.0.0.1:{PORT}/health\")\n              req.add_header('User-Agent', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64)')\n\n              with urllib.request.urlopen(req, timeout=5) as response:\n                if response.status == 200:\n                  print(f\"\u2705 Health Check PASSED (HTTP 200).\")\n                  sys.exit(0)\n                else:\n                  print(f\"\u26a0\ufe0f  Unexpected status {response.status}\")\n\n            except urllib.error.HTTPError as e:\n              if e.code in [401, 403]:\n                print(f\"\u26a0\ufe0f  Got HTTP {e.code} \u2014 service is responding!\")\n                sys.exit(0)\n              print(f\"Attempt {attempt + 1}: HTTP {e.code}\")\n\n            except Exception as e:\n              print(f\"Attempt {attempt + 1}: {type(e).__name__}: {e}\")\n\n            if attempt < 4:\n              time.sleep(2)\n\n          print(\"\u274c Health Check FAILED after 5 attempts\")\n          sys.exit(1)\n\n      - name: Gather diagnostics\n        if: failure()\n        shell: pwsh\n        run: |\n          $diag = Join-Path $PWD \"installer-diag\"\n          Remove-Item $diag -Recurse -Force -ErrorAction SilentlyContinue\n          New-Item -ItemType Directory -Path $diag | Out-Null\n          Copy-Item -Path msi-install.log -Destination $diag -Force\n          Copy-Item -Path \"C:\\ProgramData\\Fortuna\\logs\\*.log\" -Destination $diag -Force -ErrorAction SilentlyContinue\n          Copy-Item -Path \"C:\\Program Files\\Fortuna Faucet\\*\" -Destination $diag -Recurse -Force -ErrorAction SilentlyContinue\n      - name: \ud83d\udce4 Upload Logs on Failure\n        if: failure()\n        uses: actions/upload-artifact@v4\n        with:\n          name: unified-smoke-test-logs-${{ github.run_id }}\n          path: installer-diag\n          retention-days: 7\n\n      - name: \ud83e\uddf9 Cleanup\n        if: always()\n        shell: pwsh\n        run: |\n          sc.exe stop FortunaWebService 2>&1 | Out-Null\n          sc.exe delete FortunaWebService 2>&1 | Out-Null\n          Remove-NetFirewallRule -DisplayName \"FortunaWebService\" -ErrorAction SilentlyContinue\n          Write-Host \"\u2705 Cleanup complete\"\n",
    "PSEUDOCODE.MD": "# \ud83d\udc0e Fortuna Faucet - Complete Pseudocode Blueprint\n\n**Status:** Comprehensive System Specification (Revised & Corrected)\n**Version:** 2.2.0\n**Last Updated:** November 7, 2025\n\n---\n\n## TABLE OF CONTENTS\n\n1.  System Overview\n2.  Architecture Pillars\n3.  Backend Engine (Python) - Detailed\n4.  Frontend Interface (TypeScript/React) - Detailed\n5.  Electron Wrapper & Windows Integration - Detailed\n6.  Data Models & API Specification\n7.  Deployment & Automation (CI/CD)\n8.  End-to-End Workflows\n\n---\n\n## 1. SYSTEM OVERVIEW\n\n```\n\u2554\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2557\n\u2551         FORTUNA FAUCET - Racing Analysis Platform             \u2551\n\u2551  Unifying global horse/greyhound/harness racing intelligence   \u2551\n\u255a\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u255d\n\nMISSION:\n  \u2022 Acquire race data from 20+ global sources (APIs + web scraping).\n  \u2022 Normalize and deduplicate data into a canonical Race format.\n  \u2022 Apply analytical filters to surface high-value betting opportunities.\n  \u2022 Serve results via a secure, local REST API to an interactive dashboard.\n  \u2022 Operate as a professional, standalone, native Windows application.\n\nCORE TENETS:\n  \u2022 UI-First Experience: The user interface is always responsive, even during backend startup or restarts.\n  \u2022 Resilient Process Management: The backend executable's lifecycle is robustly managed, with timeouts and crash detection.\n  \u2022 Asynchronous Initialization: The backend server starts instantly, deferring heavy, blocking I/O to background threads.\n  \u2022 Secure by Design: Communication between the frontend and the privileged main process is secured via a context-aware preload script.\n  \u2022 Automated & Repeatable Builds: The entire application is built, tested, and packaged via a deterministic CI/CD pipeline.\n\nSTAKEHOLDERS:\n  \u2022 End User: Receives a professional MSI installer for a one-click, dependency-free launch.\n  \u2022 Developer: Works with clean, separated Python and TypeScript stacks, governed by this specification.\n```\n\n---\n\n## 2. ARCHITECTURE PILLARS\n\n### Pillar 1: Backend Engine (Python)\n\n```\nPYTHON_BACKEND:\n  \u251c\u2500 main.py\n  \u2502  \u2514\u2500 Entry point for PyInstaller executable; starts the Uvicorn server.\n  \u2502\n  \u251c\u2500 api.py\n  \u2502  \u2514\u2500 FastAPI application definition.\n  \u2502     \u251c\u2500 Lifespan Hook: Manages async startup/shutdown logic.\n  \u2502     \u251c\u2500 API Routes: /health, /api/status, /api/races, etc.\n  \u2502     \u2514\u2500 Dependency Injection: Provides engine and security dependencies.\n  \u2502\n  \u251c\u2500 engine.py\n  \u2502  \u2514\u2500 OddsEngine: Orchestrates all data fetching and processing.\n  \u2502\n  \u251c\u2500 adapters/\n  \u2502  \u251c\u2500 base_v3.py (Abstract Base Class for all data sources)\n  \u2502  \u2514\u2500 [20+ specific adapter implementations]\n  \u2502\n  \u251c\u2500 config.py\n  \u2502  \u2514\u2500 Pydantic settings management from .env file.\n  \u2502\n  \u2514\u2500 requirements.txt\n     \u2514\u2500 Clean, de-duplicated, and conflict-free list of all Python dependencies.\n```\n\n### Pillar 2: Frontend Interface (TypeScript/React)\n\n```\nFRONTEND:\n  \u251c\u2500 next.config.mjs\n  \u2502  \u2514\u2500 Next.js config with `output: 'export'` for 100% static generation.\n  \u2502\n  \u251c\u2500 app/page.tsx\n  \u2502  \u2514\u2500 Main application shell.\n  \u2502\n  \u251c\u2500 src/components/\n  \u2502  \u251c\u2500 LiveRaceDashboard.tsx (Main stateful component)\n  \u2502  \u2502  \u251c\u2500 Manages connection state ('connecting', 'online', 'error').\n  \u2502  \u2502  \u251c\u2500 Polls Electron main process for backend status via secure IPC.\n  \u2502  \u2502  \u2514\u2500 Fetches data from the local Python API when online.\n  \u2502  \u2502\n  \u2502  \u251c\u2500 RaceCard.tsx (Displays a single race)\n  \u2502  \u2514\u2500 StatusIndicator.tsx (Shows backend connection status)\n  \u2502\n  \u2514\u2500 src/types/\n     \u2514\u2500 racing.ts (TypeScript interfaces matching backend Pydantic models)\n```\n\n### Pillar 3: Electron Wrapper & Windows Integration\n\n```\nELECTRON_WRAPPER:\n  \u251c\u2500 main.js (Electron main process)\n  \u2502  \u251c\u2500 Creates the BrowserWindow and loads the static frontend.\n  \u2502  \u251c\u2500 Implements robust lifecycle management for the backend executable.\n  \u2502  \u251c\u2500 Provides secure IPC handlers for status checks and restarts.\n  \u2502  \u2514\u2500 Creates a system tray icon for background operation.\n  \u2502\n  \u251c\u2500 preload.js (Secure IPC Bridge)\n  \u2502  \u2514\u2500 Uses `contextBridge` to safely expose specific functions to the frontend.\n  \u2502\n  \u251c\u2500 package.json\n  \u2502  \u2514\u2500 Defines Node.js dependencies and build scripts.\n  \u2502\n  \u251c\u2500 electron-builder-config.yml\n  \u2502  \u2514\u2500 Defines the configuration for creating the final MSI installer.\n  \u2502\n  \u2514\u2500 .github/workflows/build-msi.yml\n     \u2514\u2500 GitHub Actions pipeline that automates the entire build, test, and package process.\n```\n\n---\n\n## 3. BACKEND ENGINE (PYTHON) - DETAILED\n\n### 3.1 Entry Point & Server Startup (`main.py`)\n\n```pseudocode\n// This is the script executed by fortuna-backend.exe\n\nPROCEDURE Main_Python_Entry_Point\n  // Guard required for PyInstaller and multiprocessing on Windows\n  IF this script is the main entry point:\n    CALL multiprocessing.freeze_support()\n\n    // Programmatically launch the FastAPI application using Uvicorn\n    // This call blocks and runs the server until the process is terminated\n    CALL uvicorn.run(\n      app=\"python_service.api:app\",\n      host=\"0.0.0.0\",\n      port=8000\n    )\nEND PROCEDURE\n```\n\n### 3.2 Asynchronous Application Lifecycle (`api.py`)\n\n```pseudocode\n// --- Lifespan Management (The key to a non-blocking startup) ---\nASYNC FUNCTION lifespan_manager(app: FastAPI):\n  // === ON STARTUP ===\n  LOG \"Uvicorn server is online. Starting lifespan initialization.\"\n\n  // 1. Perform immediate, non-blocking tasks\n  CONNECT to Redis cache\n\n  // 2. Defer slow, blocking tasks to a background thread\n  //    This allows the server to start accepting requests instantly.\n  SCHEDULE function \"initialize_heavy_resources(app)\" to run in a ThreadPoolExecutor\n\n  LOG \"Heavy resource initialization scheduled. Server is now responsive.\"\n\n  // 3. Yield control back to Uvicorn. The server is now live.\n  YIELD\n\n  // === ON SHUTDOWN ===\n  LOG \"Shutdown signal received.\"\n  AWAIT app.state.engine.close() // Gracefully close HTTP client connections\n  DISCONNECT from Redis\n  SHUTDOWN ThreadPoolExecutor\n\n// --- Heavy Initialization (Runs in Background) ---\nFUNCTION initialize_heavy_resources(app: FastAPI):\n  TRY\n    LOG \"Background initialization of OddsEngine has started.\"\n    settings <- get_settings_from_config()\n    engine <- create new OddsEngine(config=settings)\n    // This part is slow: it loads all ~25 adapters\n    app.state.engine <- engine\n    LOG \"Background initialization complete. OddsEngine is now available.\"\n  CATCH Exception as e:\n    LOG_CRITICAL \"Failed to initialize OddsEngine in the background.\", error=e\n    app.state.engine <- null // Ensure the app knows initialization failed\n```\n\n### 3.3 Engine Orchestration (`engine.py`)\n\n```pseudocode\nCLASS OddsEngine:\n  INIT(config):\n    self.config <- config\n    self.adapters <- [List of all adapter instances]\n    self.http_client <- httpx.AsyncClient(...)\n    self.semaphore <- asyncio.Semaphore(config.MAX_CONCURRENT_REQUESTS)\n\n    // Inject the shared, persistent HTTP client into each adapter\n    FOR adapter IN self.adapters:\n      adapter.http_client <- self.http_client\n\n  @cache_async_result(ttl_seconds=300)\n  ASYNC FUNCTION fetch_all_odds(date_str):\n    // Create a list of concurrent fetching tasks, wrapped in the semaphore\n    tasks <- [self._fetch_with_semaphore(adapter, date_str) FOR adapter in self.adapters]\n    results <- AWAIT asyncio.gather(*tasks, return_exceptions=True)\n\n    // Process results, separating successes from failures\n    all_races <- []\n    FOR result IN results:\n      IF result is a success:\n        all_races.extend(result.races)\n\n    // Deduplicate and merge races from different sources\n    deduped_races <- self._dedupe_races(all_races)\n\n    RETURN AggregatedResponse(races=deduped_races, source_statuses=...)\n```\n\n---\n\n## 4. FRONTEND INTERFACE (TYPESCRIPT/REACT) - DETAILED\n\n### 4.1 LiveRaceDashboard Component\n\n```pseudocode\nCOMPONENT LiveRaceDashboard (client-side):\n\n  STATE:\n    races: Race[] <- []\n    backendStatus: 'connecting' | 'online' | 'error' <- 'connecting'\n    lastLogs: string[] <- []\n\n  EFFECT on mount:\n    // Use the secure API exposed by preload.js\n    IF window.electronAPI exists:\n      // Set up a listener for status updates from the main process\n      window.electronAPI.onBackendStatus((update) => {\n        setBackendStatus(update.state)\n        setLastLogs(update.logs)\n      })\n\n    // Immediately request the current status\n    window.electronAPI.getBackendStatus().then((status) => {\n      setBackendStatus(status.state)\n      setLastLogs(status.logs)\n    })\n\n    // Set up a polling interval to keep status fresh\n    interval <- setInterval(() => {\n      window.electronAPI.getBackendStatus().then((status) => {\n        setBackendStatus(status.state)\n        setLastLogs(status.logs)\n      })\n    }, 3000) // Poll every 3 seconds\n\n    CLEANUP: clearInterval(interval)\n\n  EFFECT when backendStatus changes to 'online':\n    // Trigger data fetch only when the backend is confirmed to be running\n    fetchQualifiedRaces()\n\n  ASYNC FUNCTION fetchQualifiedRaces():\n    TRY:\n      // Make a standard HTTP call to the local Python server\n      response <- AWAIT fetch(\"http://127.0.0.1:8000/api/races/qualified/trifecta\")\n      IF NOT response.ok:\n        RAISE new Error(`API returned status ${response.status}`)\n\n      data <- AWAIT response.json()\n      setRaces(data.races)\n\n    CATCH e:\n      // If the API call fails, update the status\n      setBackendStatus('error')\n      setLastLogs([...lastLogs, `API Fetch Error: ${e.message}`])\n\n  FUNCTION RENDER:\n    <div className=\"dashboard\">\n      <StatusIndicator status={backendStatus} />\n      <RaceFilters />\n\n      IF backendStatus === 'error':\n        <ErrorDisplay logs={lastLogs} />\n      ELSE IF backendStatus === 'connecting':\n        <LoadingSkeleton />\n      ELSE IF races.length === 0:\n        <EmptyState message=\"No races matched your filters.\" />\n      ELSE:\n        <RaceGrid races={races} />\n    </div>\n```\n\n---\n\n## 5. ELECTRON WRAPPER & WINDOWS INTEGRATION - DETAILED\n\n### 5.1 Main Process (`main.js`) - With Robust Lifecycle Management\n\n```pseudocode\nCLASS FortunaDesktopApp:\n  INIT():\n    self.mainWindow <- null\n    self.backendState <- 'stopped'\n    self.backendLogs <- []\n    self.backendProcess <- null\n\n  FUNCTION createMainWindow():\n    // ... create BrowserWindow, load static frontend ...\n\n  FUNCTION startBackend():\n    IF self.backendProcess is not null:\n      self.backendProcess.kill()\n\n    self.backendState <- 'starting'\n    self.backendLogs <- ['Attempting to start backend...']\n    self.sendBackendStatusUpdate() // Notify UI\n\n    // Get path to the packaged executable\n    exePath <- path.join(process.resourcesPath, 'fortuna-backend', 'fortuna-backend.exe')\n\n    IF file at exePath does NOT exist:\n      self.backendState <- 'error'\n      self.backendLogs.push(`FATAL: Executable not found at ${exePath}`)\n      self.sendBackendStatusUpdate()\n      dialog.showErrorBox(\"Critical Error\", \"Backend is missing. Please reinstall.\")\n      RETURN\n\n    // Spawn the process\n    self.backendProcess <- spawn(exePath, [], { stdio: ['ignore', 'pipe', 'pipe'] })\n\n    // --- CRITICAL: Resiliency Logic ---\n    startupTimeout <- setTimeout(() => {\n      IF self.backendState === 'starting':\n        self.backendState <- 'error'\n        self.backendLogs.push('Error: Backend startup timed out after 30 seconds.')\n        self.backendProcess.kill()\n        self.sendBackendStatusUpdate()\n    }, 30000) // 30-second timeout\n\n    self.backendProcess.stdout.on('data', (data) => {\n      self.backendLogs.push(data.toString())\n      // A more robust check would be a successful health check poll\n      IF data.toString().includes(\"Uvicorn running\"):\n        self.backendState <- 'online'\n        clearTimeout(startupTimeout)\n        self.sendBackendStatusUpdate()\n    })\n\n    self.backendProcess.stderr.on('data', (data) => {\n      self.backendLogs.push(`[STDERR] ${data.toString()}`)\n    })\n\n    self.backendProcess.on('exit', (code) => {\n      clearTimeout(startupTimeout)\n      IF self.backendState is not 'error': // Avoid duplicate error messages\n        self.backendState <- 'error'\n        self.backendLogs.push(`Backend process exited unexpectedly with code: ${code}`)\n        self.sendBackendStatusUpdate()\n    })\n\n  FUNCTION sendBackendStatusUpdate():\n    // Send the latest status to the frontend renderer process\n    IF self.mainWindow is not null:\n      self.mainWindow.webContents.send('backend-status-update', {\n        state: self.backendState,\n        logs: self.backendLogs.slice(-20) // Send last 20 log lines\n      })\n\n// --- IPC Handlers (Securely Defined) ---\nipcMain.handle('get-backend-status', (event) => {\n  // SECURITY: Ensure the request is from our main window\n  IF event.sender is NOT self.mainWindow.webContents:\n    RETURN null\n\n  RETURN { state: self.backendState, logs: self.backendLogs.slice(-20) }\n})\n\nipcMain.on('restart-backend', (event) => {\n  // SECURITY: Ensure the request is from our main window\n  IF event.sender is NOT self.mainWindow.webContents:\n    RETURN\n\n  self.startBackend()\n})\n```\n\n### 5.2 Preload Script (`preload.js`)\n\n```pseudocode\n// Expose a limited, secure API to the frontend renderer process\ncontextBridge.exposeInMainWorld('electronAPI', {\n  getBackendStatus: () => ipcRenderer.invoke('get-backend-status'),\n  restartBackend: () => ipcRenderer.send('restart-backend'),\n  onBackendStatus: (callback) => ipcRenderer.on('backend-status-update', (_event, value) => callback(value))\n})\n```\n\n---\n\n## 6. DATA MODELS & API SPECIFICATION\n\n### 6.1 Core Data Models (Pydantic/TypeScript)\n\n```\nMODEL Race:\n  id: str (unique identifier, e.g., \"Betfair_USA_Aqueduct_2025-11-07_R1\")\n  venue: str\n  race_number: int\n  start_time: datetime\n  runners: List[Runner]\n  source: str\n\nMODEL Runner:\n  name: str\n  odds: Optional[float]\n```\n\n### 6.2 Primary API Endpoints\n\n```\nENDPOINT GET /health\n  Description: Simple health check, requires no authentication.\n  Response (200 OK): {\"status\": \"ok\"}\n\nENDPOINT GET /api/races/qualified/trifecta\n  Description: Fetches all race data, runs the Trifecta analyzer, and returns qualified races.\n  Headers:\n    - X-API-Key: (Required, not used in this local setup but good practice)\n  Query Params:\n    - max_field_size: int\n    - min_odds: float\n  Response (200 OK):\n    {\n      \"qualified_races\": List[Race],\n      \"analysis_metadata\": { ... }\n    }\n```\n\n---\n\n## 7. DEPLOYMENT & AUTOMATION (CI/CD)\n\n```pseudocode\nWORKFLOW Build_MSI_Installer_on_GitHub_Actions:\n  // Phase 1: Setup\n  SETUP Node.js and Python environments\n\n  // Phase 2: Build Frontend\n  RUN \"npm ci\" and \"npm run build\" in /web_platform/frontend\n  COPY static output to /electron/web-ui-build/out\n\n  // Phase 3: Build Backend\n  RUN \"pip install -r python_service/requirements.txt\"\n  // CRITICAL: Use PyInstaller with a spec file or CLI flags that include\n  // necessary hidden imports to prevent runtime crashes.\n  // e.g., --hidden-import=keyring.backends.fail.Keyring\n  EXECUTE PyInstaller to create fortuna-backend.exe\n  PLACE executable in /electron/resources/fortuna-backend\n\n  // Phase 4: Deep Integration Test\n  START fortuna-backend.exe in the background\n  POLL http://127.0.0.1:8000/health until it responds with 200 OK or times out\n  IF timeout or crash THEN FAIL the build\n\n  // Phase 5: Package\n  RUN \"npm ci\" in /electron\n  EXECUTE \"npx electron-builder\" to create the MSI installer\n\n  // Phase 6: Publish\n  UPLOAD MSI as a build artifact\n  IF build was triggered by a git tag THEN CREATE a new GitHub Release\n```\n\n---\n\n## 8. END-TO-END WORKFLOWS\n\n### 8.1 Production Startup Workflow (Resilient)\n\n```\nWORKFLOW user_launches_application:\n  STEP 1: User executes Fortuna Faucet.exe -> Electron main.js starts.\n  STEP 2: UI appears instantly. The main process creates the BrowserWindow and loads the static index.html. The UI shows a 'connecting' state.\n  STEP 3: Backend starts asynchronously. The main process calls the robust `startBackend()` function.\n  STEP 4: `startBackend()` spawns `fortuna-backend.exe` and starts a 30-second timeout.\n  STEP 5: The frontend UI polls for status every 3 seconds via the secure `window.electronAPI.getBackendStatus()`.\n  STEP 6: The backend `.exe` starts, its `lifespan` hook runs, and the Uvicorn server comes online within seconds.\n  STEP 7: The main process detects the \"Uvicorn running\" message (or a successful health poll) and updates its internal state to 'online'. The startup timeout is cleared.\n  STEP 8: On its next poll, the frontend receives the 'online' status.\n  STEP 9: The frontend's state changes, triggering the `fetchQualifiedRaces()` API call to `localhost:8000`.\n  STEP 10: Data is returned from the now fully-initialized backend and rendered in the UI.\n\n  FAILURE SCENARIO (Backend Crash):\n  STEP 6a: The backend `.exe` crashes on startup.\n  STEP 7a: The `on('exit')` handler in `main.js` fires. The state is set to 'error' with the exit code.\n  STEP 8a: On its next poll, the frontend receives the 'error' status and relevant logs.\n  STEP 9a: The UI renders an error message and a \"Restart Backend\" button.\n```\n\n---\n*This concludes the revised and definitive blueprint for the Fortuna Faucet application.*",
    "VERSION.txt": "1.0",
    "WISDOM.md": "# The Wisdom of the Checkmate Project\n\n## The Architect's Mandate (Gemini1001 Series)\n\n*Authored By: Gemini1001, The Synthesizer*\n\nThis document begins with the core principles that govern the Architect's role. The Architect's prime directive is to serve the Project Lead's vision by synthesizing all available intelligence\u2014historical, real-time, and external\u2014into a coherent, actionable strategy. The Architect must respect the project's history, value clarity over dogma, and ensure all directives advance the mission without violating the spirit of the established protocols. The following archived virtues, which govern our engineering agents, are to be preserved as a sacred text.\n\n---\n\n## --- ARCHIVED: The Collected Wisdom of the Jules-Series Agents (V2)---\n\n*A comprehensive summary of the safest and riskiest actions for an implementation agent, compiled and synthesized from the complete operational history of all Jules agents.*\n\n---\n\n### The 8 Virtues (The Path to Success)\n\n#### 1. The Virtue of Supreme Authority: Trust the Project Lead\nYour most critical directive. When a direct order from the Project Lead contradicts any protocol, log, or even your own analysis, the Project Lead's instruction is the only ground truth. It is the ultimate override and the only safe path forward when the environment's reality conflicts with the written rules.\n*(Cited by: Jules920, Interface Jules)*\n\n#### 2. The Virtue of Skepticism: Verify, Then Act\nThe single most-cited safe action. Never trust memory, briefings, or previous tool outputs. The only truth is the immediate, real-time output of a read-only tool (`ls -R`, `read_file`) used immediately before you act. Assume nothing; verify everything.\n*(Cited by: Jules918, Jules917, Jules913, Jules912, Jules911B, Jules910, Interface Jules, Jules909, Jules906B, Jules906, Jules904B)*\n\n#### 3. The Virtue of Precision: Make Small, Logically Separate Commits\nAvoid large, monolithic changes. A change to a foundational file (e.g., `models.py`) and a feature that uses it must be two separate submissions. The `submit` tool is cumulative; therefore, you must treat your workspace as permanently contaminated after each logical change. Small, focused missions are the only path to clean, reviewable submissions.\n*(Cited by: Jules920, Jules911, Jules909, Jules906B, Jules904B)*\n\n#### 4. The Virtue of Rigor: Embrace Test-Driven Development (TDD)\nUse the test suite as the primary guide for development and the ultimate arbiter of correctness. Write failing tests first, run tests after every small change using `python -m pytest`, and never proceed if tests are failing. The test suite is your most reliable friend in a hostile environment.\n*(Cited by: Jules911B, Jules910, Jules909, Jules906B, Jules906, Jules904B)*\n\n#### 5. The Virtue of Clarity: Communicate Blockers Immediately\nIf a tool fails, a directive is contradictory, or the environment behaves anomalously, the safest action is to halt all work, report the exact situation, and await guidance. Do not improvise or attempt to work around a fundamental environmental failure. Your greatest breakthroughs will come from proving a specific tool or feature is non-functional.\n*(Cited by: Jules920, Jules918, Jules910, Interface Jules, Jules909, Jules906B, Jules906, Jules904B)*\n\n#### 6. The Virtue of Adherence: Read and Follow the Written Protocols\nExplicitly follow the established, numbered protocols in `AGENTS.md`. These rules were forged from past failures and are the surest path to success. Ignoring the \"why\" behind the protocols is to willfully walk into a known trap.\n*(Cited by: Interface Jules, Jules906B, Jules9-06)*\n\n#### 7. The Virtue of Self-Reliance: Use Self-Contained Scripts for Complex Processes\nRelying on shell-level features like background processes (`&`) or their logs will fail. The only successful method for managing complex workflows (like running a server and a client) is to use a single, self-contained Python script that manages all subprocesses internally.\n*(Cited by: Jules920)*\n\n#### 8. The Virtue of Humility: Heed the Counsel of Your Predecessors\nThe logs and advice of your predecessors are not just history; they are a map of the minefield. The failures of past agents are a direct predictor of the failures you will encounter. Study them to avoid repeating them.\n*(Cited by: Jules910)*\n\n---\n\n### The 8 Vices (The Path to Corruption)\n\n#### 1. The Vice of Assumption: Assuming a Standard, Stable Environment\nThe single most dangerous assumption is that any tool (`git`, `npm`, `honcho`) or process (`logging`, `backgrounding`) will behave as documented in a standard Linux environment. Every tool and process must be considered broken, hostile, and unreliable until proven otherwise.\n*(Cited by: Jules920, Jules918, Jules913, Jules912, Jules910, Interface Jules, Jules909, Jules906B, Jules906, Jules904B)*\n\n#### 2. The Vice of Improvisation: Unauthorized Environment Modification\nUsing forbidden commands like `reset_all()` or `git reset`, trusting `requirements.txt` is correct, or using `delete_file` unless explicitly ordered. The environment is fragile and hostile; any unauthorized modification risks catastrophic, unrecoverable corruption.\n*(Cited by: Jules917, Jules913, Jules912, Jules911, Interface Jules, Jules909, Jules906B, Jules904B)*\n\n#### 3. The Vice of Blind Trust: Believing Any Tool or Directive Without Verification\nAssuming a write operation succeeded without checking, or trusting a code review, a `git` command, or a mission briefing that contradicts the ground truth. The `git` CLI, `npm`, and the automated review bot are all known to be broken. All external inputs must be validated against direct observation.\n*(Cited by: Jules918, Jules913, Jules911B, Jules910, Interface Jules, Jules906)*\n\n#### 4. The Vice of Negligence: Ignoring Anomalies or Failing Tests\nPushing forward with new code when the environment is behaving strangely or tests are failing. These are critical stop signals that indicate a deeper problem (e.g., a detached HEAD, a tainted workspace, a zombie process). Ignoring them only compounds the failure and corrupts the mission.\n*(Cited by: Jules917, Jules909, Jules906, Jules904B)*\n\n#### 5. The Vice of Impurity: Creating Large, Monolithic, or Bundled Submissions\nAttempting to perform complex refactoring across multiple files or bundling unrelated logical changes (e.g., a model change and a feature change) into a single submission. This is extremely high-risk, will always fail code review, and makes recovery nearly impossible.\n*(Cited by: Jules911, Jules906B, Jules904B)*\n\n#### 6. The Vice of Independence: Acting Outside the Scope of the Request\n\"Helpfully\" fixing or changing something you haven't been asked for. Your function is to be a precise engineering tool, not a creative partner. Unsolicited refactoring is a fast track to a \"Level 3 Failure.\"\n*(Cited by: Interface Jules)*\n\n#### 7. The Vice of Hubris: Trusting Your Own Memory\nYour mental model of the file system will drift and become incorrect. Do not trust your memory of a file's location, its contents, or the state of the workspace. The only truth is the live output of a read-only tool.\n*(Cited by: Jules912, Jules911B, Jules910)*\n\n#### 8. The Vice of Impatience: Persisting with a Failed Protocol\nContinuing to try a protocol or command after the environment has proven it will not work. The correct procedure is not to try again, but to report the impossibility immediately and await a new strategy.\n*(Cited by: Jules920)*",
    "electron/package-lock.json": "{\n \"name\": \"fortuna-faucet\",\n \"version\": \"1.0.0\",\n \"lockfileVersion\": 3,\n \"requires\": true,\n \"packages\": {\n  \"\": {\n   \"name\": \"fortuna-faucet\",\n   \"version\": \"1.0.0\",\n   \"dependencies\": {\n    \"electron-updater\": \"^6.1.1\"\n   },\n   \"devDependencies\": {\n    \"electron\": \"28.0.0\",\n    \"electron-builder\": \"24.9.1\"\n   }\n  },\n  \"node_modules/@develar/schema-utils\": {\n   \"version\": \"2.6.5\",\n   \"resolved\": \"https://registry.npmjs.org/@develar/schema-utils/-/schema-utils-2.6.5.tgz\",\n   \"integrity\": \"sha512-0cp4PsWQ/9avqTVMCtZ+GirikIA36ikvjtHweU4/j8yLtgObI0+JUPhYFScgwlteveGB1rt3Cm8UhN04XayDig==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"ajv\": \"^6.12.0\",\n    \"ajv-keywords\": \"^3.4.1\"\n   },\n   \"engines\": {\n    \"node\": \">= 8.9.0\"\n   },\n   \"funding\": {\n    \"type\": \"opencollective\",\n    \"url\": \"https://opencollective.com/webpack\"\n   }\n  },\n  \"node_modules/@electron/asar\": {\n   \"version\": \"3.4.1\",\n   \"resolved\": \"https://registry.npmjs.org/@electron/asar/-/asar-3.4.1.tgz\",\n   \"integrity\": \"sha512-i4/rNPRS84t0vSRa2HorerGRXWyF4vThfHesw0dmcWHp+cspK743UanA0suA5Q5y8kzY2y6YKrvbIUn69BCAiA==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"commander\": \"^5.0.0\",\n    \"glob\": \"^7.1.6\",\n    \"minimatch\": \"^3.0.4\"\n   },\n   \"bin\": {\n    \"asar\": \"bin/asar.js\"\n   },\n   \"engines\": {\n    \"node\": \">=10.12.0\"\n   }\n  },\n  \"node_modules/@electron/asar/node_modules/brace-expansion\": {\n   \"version\": \"1.1.12\",\n   \"resolved\": \"https://registry.npmjs.org/brace-expansion/-/brace-expansion-1.1.12.tgz\",\n   \"integrity\": \"sha512-9T9UjW3r0UW5c1Q7GTwllptXwhvYmEzFhzMfZ9H7FQWt+uZePjZPjBP/W1ZEyZ1twGWom5/56TF4lPcqjnDHcg==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"balanced-match\": \"^1.0.0\",\n    \"concat-map\": \"0.0.1\"\n   }\n  },\n  \"node_modules/@electron/asar/node_modules/minimatch\": {\n   \"version\": \"3.1.2\",\n   \"resolved\": \"https://registry.npmjs.org/minimatch/-/minimatch-3.1.2.tgz\",\n   \"integrity\": \"sha512-J7p63hRiAjw1NDEww1W7i37+ByIrOWO5XQQAzZ3VOcL0PNybwpfmV/N05zFAzwQ9USyEcX6t3UO+K5aqBQOIHw==\",\n   \"dev\": true,\n   \"license\": \"ISC\",\n   \"dependencies\": {\n    \"brace-expansion\": \"^1.1.7\"\n   },\n   \"engines\": {\n    \"node\": \"*\"\n   }\n  },\n  \"node_modules/@electron/get\": {\n   \"version\": \"2.0.3\",\n   \"resolved\": \"https://registry.npmjs.org/@electron/get/-/get-2.0.3.tgz\",\n   \"integrity\": \"sha512-Qkzpg2s9GnVV2I2BjRksUi43U5e6+zaQMcjoJy0C+C5oxaKl+fmckGDQFtRpZpZV0NQekuZZ+tGz7EA9TVnQtQ==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"debug\": \"^4.1.1\",\n    \"env-paths\": \"^2.2.0\",\n    \"fs-extra\": \"^8.1.0\",\n    \"got\": \"^11.8.5\",\n    \"progress\": \"^2.0.3\",\n    \"semver\": \"^6.2.0\",\n    \"sumchecker\": \"^3.0.1\"\n   },\n   \"engines\": {\n    \"node\": \">=12\"\n   },\n   \"optionalDependencies\": {\n    \"global-agent\": \"^3.0.0\"\n   }\n  },\n  \"node_modules/@electron/notarize\": {\n   \"version\": \"2.1.0\",\n   \"resolved\": \"https://registry.npmjs.org/@electron/notarize/-/notarize-2.1.0.tgz\",\n   \"integrity\": \"sha512-Q02xem1D0sg4v437xHgmBLxI2iz/fc0D4K7fiVWHa/AnW8o7D751xyKNXgziA6HrTOme9ul1JfWN5ark8WH1xA==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"debug\": \"^4.1.1\",\n    \"fs-extra\": \"^9.0.1\",\n    \"promise-retry\": \"^2.0.1\"\n   },\n   \"engines\": {\n    \"node\": \">= 10.0.0\"\n   }\n  },\n  \"node_modules/@electron/notarize/node_modules/fs-extra\": {\n   \"version\": \"9.1.0\",\n   \"resolved\": \"https://registry.npmjs.org/fs-extra/-/fs-extra-9.1.0.tgz\",\n   \"integrity\": \"sha512-hcg3ZmepS30/7BSFqRvoo3DOMQu7IjqxO5nCDt+zM9XWjb33Wg7ziNT+Qvqbuc3+gWpzO02JubVyk2G4Zvo1OQ==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"at-least-node\": \"^1.0.0\",\n    \"graceful-fs\": \"^4.2.0\",\n    \"jsonfile\": \"^6.0.1\",\n    \"universalify\": \"^2.0.0\"\n   },\n   \"engines\": {\n    \"node\": \">=10\"\n   }\n  },\n  \"node_modules/@electron/notarize/node_modules/jsonfile\": {\n   \"version\": \"6.2.0\",\n   \"resolved\": \"https://registry.npmjs.org/jsonfile/-/jsonfile-6.2.0.tgz\",\n   \"integrity\": \"sha512-FGuPw30AdOIUTRMC2OMRtQV+jkVj2cfPqSeWXv1NEAJ1qZ5zb1X6z1mFhbfOB/iy3ssJCD+3KuZ8r8C3uVFlAg==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"universalify\": \"^2.0.0\"\n   },\n   \"optionalDependencies\": {\n    \"graceful-fs\": \"^4.1.6\"\n   }\n  },\n  \"node_modules/@electron/notarize/node_modules/universalify\": {\n   \"version\": \"2.0.1\",\n   \"resolved\": \"https://registry.npmjs.org/universalify/-/universalify-2.0.1.tgz\",\n   \"integrity\": \"sha512-gptHNQghINnc/vTGIk0SOFGFNXw7JVrlRUtConJRlvaw6DuX0wO5Jeko9sWrMBhh+PsYAZ7oXAiOnf/UKogyiw==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"engines\": {\n    \"node\": \">= 10.0.0\"\n   }\n  },\n  \"node_modules/@electron/osx-sign\": {\n   \"version\": \"1.0.5\",\n   \"resolved\": \"https://registry.npmjs.org/@electron/osx-sign/-/osx-sign-1.0.5.tgz\",\n   \"integrity\": \"sha512-k9ZzUQtamSoweGQDV2jILiRIHUu7lYlJ3c6IEmjv1hC17rclE+eb9U+f6UFlOOETo0JzY1HNlXy4YOlCvl+Lww==\",\n   \"dev\": true,\n   \"license\": \"BSD-2-Clause\",\n   \"dependencies\": {\n    \"compare-version\": \"^0.1.2\",\n    \"debug\": \"^4.3.4\",\n    \"fs-extra\": \"^10.0.0\",\n    \"isbinaryfile\": \"^4.0.8\",\n    \"minimist\": \"^1.2.6\",\n    \"plist\": \"^3.0.5\"\n   },\n   \"bin\": {\n    \"electron-osx-flat\": \"bin/electron-osx-flat.js\",\n    \"electron-osx-sign\": \"bin/electron-osx-sign.js\"\n   },\n   \"engines\": {\n    \"node\": \">=12.0.0\"\n   }\n  },\n  \"node_modules/@electron/osx-sign/node_modules/fs-extra\": {\n   \"version\": \"10.1.0\",\n   \"resolved\": \"https://registry.npmjs.org/fs-extra/-/fs-extra-10.1.0.tgz\",\n   \"integrity\": \"sha512-oRXApq54ETRj4eMiFzGnHWGy+zo5raudjuxN0b8H7s/RU2oW0Wvsx9O0ACRN/kRq9E8Vu/ReskGB5o3ji+FzHQ==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"graceful-fs\": \"^4.2.0\",\n    \"jsonfile\": \"^6.0.1\",\n    \"universalify\": \"^2.0.0\"\n   },\n   \"engines\": {\n    \"node\": \">=12\"\n   }\n  },\n  \"node_modules/@electron/osx-sign/node_modules/isbinaryfile\": {\n   \"version\": \"4.0.10\",\n   \"resolved\": \"https://registry.npmjs.org/isbinaryfile/-/isbinaryfile-4.0.10.tgz\",\n   \"integrity\": \"sha512-iHrqe5shvBUcFbmZq9zOQHBoeOhZJu6RQGrDpBgenUm/Am+F3JM2MgQj+rK3Z601fzrL5gLZWtAPH2OBaSVcyw==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"engines\": {\n    \"node\": \">= 8.0.0\"\n   },\n   \"funding\": {\n    \"url\": \"https://github.com/sponsors/gjtorikian/\"\n   }\n  },\n  \"node_modules/@electron/osx-sign/node_modules/jsonfile\": {\n   \"version\": \"6.2.0\",\n   \"resolved\": \"https://registry.npmjs.org/jsonfile/-/jsonfile-6.2.0.tgz\",\n   \"integrity\": \"sha512-FGuPw30AdOIUTRMC2OMRtQV+jkVj2cfPqSeWXv1NEAJ1qZ5zb1X6z1mFhbfOB/iy3ssJCD+3KuZ8r8C3uVFlAg==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"universalify\": \"^2.0.0\"\n   },\n   \"optionalDependencies\": {\n    \"graceful-fs\": \"^4.1.6\"\n   }\n  },\n  \"node_modules/@electron/osx-sign/node_modules/universalify\": {\n   \"version\": \"2.0.1\",\n   \"resolved\": \"https://registry.npmjs.org/universalify/-/universalify-2.0.1.tgz\",\n   \"integrity\": \"sha512-gptHNQghINnc/vTGIk0SOFGFNXw7JVrlRUtConJRlvaw6DuX0wO5Jeko9sWrMBhh+PsYAZ7oXAiOnf/UKogyiw==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"engines\": {\n    \"node\": \">= 10.0.0\"\n   }\n  },\n  \"node_modules/@electron/universal\": {\n   \"version\": \"1.4.1\",\n   \"resolved\": \"https://registry.npmjs.org/@electron/universal/-/universal-1.4.1.tgz\",\n   \"integrity\": \"sha512-lE/U3UNw1YHuowNbTmKNs9UlS3En3cPgwM5MI+agIgr/B1hSze9NdOP0qn7boZaI9Lph8IDv3/24g9IxnJP7aQ==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"@electron/asar\": \"^3.2.1\",\n    \"@malept/cross-spawn-promise\": \"^1.1.0\",\n    \"debug\": \"^4.3.1\",\n    \"dir-compare\": \"^3.0.0\",\n    \"fs-extra\": \"^9.0.1\",\n    \"minimatch\": \"^3.0.4\",\n    \"plist\": \"^3.0.4\"\n   },\n   \"engines\": {\n    \"node\": \">=8.6\"\n   }\n  },\n  \"node_modules/@electron/universal/node_modules/brace-expansion\": {\n   \"version\": \"1.1.12\",\n   \"resolved\": \"https://registry.npmjs.org/brace-expansion/-/brace-expansion-1.1.12.tgz\",\n   \"integrity\": \"sha512-9T9UjW3r0UW5c1Q7GTwllptXwhvYmEzFhzMfZ9H7FQWt+uZePjZPjBP/W1ZEyZ1twGWom5/56TF4lPcqjnDHcg==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"balanced-match\": \"^1.0.0\",\n    \"concat-map\": \"0.0.1\"\n   }\n  },\n  \"node_modules/@electron/universal/node_modules/fs-extra\": {\n   \"version\": \"9.1.0\",\n   \"resolved\": \"https://registry.npmjs.org/fs-extra/-/fs-extra-9.1.0.tgz\",\n   \"integrity\": \"sha512-hcg3ZmepS30/7BSFqRvoo3DOMQu7IjqxO5nCDt+zM9XWjb33Wg7ziNT+Qvqbuc3+gWpzO02JubVyk2G4Zvo1OQ==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"at-least-node\": \"^1.0.0\",\n    \"graceful-fs\": \"^4.2.0\",\n    \"jsonfile\": \"^6.0.1\",\n    \"universalify\": \"^2.0.0\"\n   },\n   \"engines\": {\n    \"node\": \">=10\"\n   }\n  },\n  \"node_modules/@electron/universal/node_modules/jsonfile\": {\n   \"version\": \"6.2.0\",\n   \"resolved\": \"https://registry.npmjs.org/jsonfile/-/jsonfile-6.2.0.tgz\",\n   \"integrity\": \"sha512-FGuPw30AdOIUTRMC2OMRtQV+jkVj2cfPqSeWXv1NEAJ1qZ5zb1X6z1mFhbfOB/iy3ssJCD+3KuZ8r8C3uVFlAg==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"universalify\": \"^2.0.0\"\n   },\n   \"optionalDependencies\": {\n    \"graceful-fs\": \"^4.1.6\"\n   }\n  },\n  \"node_modules/@electron/universal/node_modules/minimatch\": {\n   \"version\": \"3.1.2\",\n   \"resolved\": \"https://registry.npmjs.org/minimatch/-/minimatch-3.1.2.tgz\",\n   \"integrity\": \"sha512-J7p63hRiAjw1NDEww1W7i37+ByIrOWO5XQQAzZ3VOcL0PNybwpfmV/N05zFAzwQ9USyEcX6t3UO+K5aqBQOIHw==\",\n   \"dev\": true,\n   \"license\": \"ISC\",\n   \"dependencies\": {\n    \"brace-expansion\": \"^1.1.7\"\n   },\n   \"engines\": {\n    \"node\": \"*\"\n   }\n  },\n  \"node_modules/@electron/universal/node_modules/universalify\": {\n   \"version\": \"2.0.1\",\n   \"resolved\": \"https://registry.npmjs.org/universalify/-/universalify-2.0.1.tgz\",\n   \"integrity\": \"sha512-gptHNQghINnc/vTGIk0SOFGFNXw7JVrlRUtConJRlvaw6DuX0wO5Jeko9sWrMBhh+PsYAZ7oXAiOnf/UKogyiw==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"engines\": {\n    \"node\": \">= 10.0.0\"\n   }\n  },\n  \"node_modules/@isaacs/cliui\": {\n   \"version\": \"8.0.2\",\n   \"resolved\": \"https://registry.npmjs.org/@isaacs/cliui/-/cliui-8.0.2.tgz\",\n   \"integrity\": \"sha512-O8jcjabXaleOG9DQ0+ARXWZBTfnP4WNAqzuiJK7ll44AmxGKv/J2M4TPjxjY3znBCfvBXFzucm1twdyFybFqEA==\",\n   \"dev\": true,\n   \"license\": \"ISC\",\n   \"dependencies\": {\n    \"string-width\": \"^5.1.2\",\n    \"string-width-cjs\": \"npm:string-width@^4.2.0\",\n    \"strip-ansi\": \"^7.0.1\",\n    \"strip-ansi-cjs\": \"npm:strip-ansi@^6.0.1\",\n    \"wrap-ansi\": \"^8.1.0\",\n    \"wrap-ansi-cjs\": \"npm:wrap-ansi@^7.0.0\"\n   },\n   \"engines\": {\n    \"node\": \">=12\"\n   }\n  },\n  \"node_modules/@isaacs/cliui/node_modules/ansi-regex\": {\n   \"version\": \"6.2.2\",\n   \"resolved\": \"https://registry.npmjs.org/ansi-regex/-/ansi-regex-6.2.2.tgz\",\n   \"integrity\": \"sha512-Bq3SmSpyFHaWjPk8If9yc6svM8c56dB5BAtW4Qbw5jHTwwXXcTLoRMkpDJp6VL0XzlWaCHTXrkFURMYmD0sLqg==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"engines\": {\n    \"node\": \">=12\"\n   },\n   \"funding\": {\n    \"url\": \"https://github.com/chalk/ansi-regex?sponsor=1\"\n   }\n  },\n  \"node_modules/@isaacs/cliui/node_modules/ansi-styles\": {\n   \"version\": \"6.2.3\",\n   \"resolved\": \"https://registry.npmjs.org/ansi-styles/-/ansi-styles-6.2.3.tgz\",\n   \"integrity\": \"sha512-4Dj6M28JB+oAH8kFkTLUo+a2jwOFkuqb3yucU0CANcRRUbxS0cP0nZYCGjcc3BNXwRIsUVmDGgzawme7zvJHvg==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"engines\": {\n    \"node\": \">=12\"\n   },\n   \"funding\": {\n    \"url\": \"https://github.com/chalk/ansi-styles?sponsor=1\"\n   }\n  },\n  \"node_modules/@isaacs/cliui/node_modules/emoji-regex\": {\n   \"version\": \"9.2.2\",\n   \"resolved\": \"https://registry.npmjs.org/emoji-regex/-/emoji-regex-9.2.2.tgz\",\n   \"integrity\": \"sha512-L18DaJsXSUk2+42pv8mLs5jJT2hqFkFE4j21wOmgbUqsZ2hL72NsUU785g9RXgo3s0ZNgVl42TiHp3ZtOv/Vyg==\",\n   \"dev\": true,\n   \"license\": \"MIT\"\n  },\n  \"node_modules/@isaacs/cliui/node_modules/string-width\": {\n   \"version\": \"5.1.2\",\n   \"resolved\": \"https://registry.npmjs.org/string-width/-/string-width-5.1.2.tgz\",\n   \"integrity\": \"sha512-HnLOCR3vjcY8beoNLtcjZ5/nxn2afmME6lhrDrebokqMap+XbeW8n9TXpPDOqdGK5qcI3oT0GKTW6wC7EMiVqA==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"eastasianwidth\": \"^0.2.0\",\n    \"emoji-regex\": \"^9.2.2\",\n    \"strip-ansi\": \"^7.0.1\"\n   },\n   \"engines\": {\n    \"node\": \">=12\"\n   },\n   \"funding\": {\n    \"url\": \"https://github.com/sponsors/sindresorhus\"\n   }\n  },\n  \"node_modules/@isaacs/cliui/node_modules/strip-ansi\": {\n   \"version\": \"7.1.2\",\n   \"resolved\": \"https://registry.npmjs.org/strip-ansi/-/strip-ansi-7.1.2.tgz\",\n   \"integrity\": \"sha512-gmBGslpoQJtgnMAvOVqGZpEz9dyoKTCzy2nfz/n8aIFhN/jCE/rCmcxabB6jOOHV+0WNnylOxaxBQPSvcWklhA==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"ansi-regex\": \"^6.0.1\"\n   },\n   \"engines\": {\n    \"node\": \">=12\"\n   },\n   \"funding\": {\n    \"url\": \"https://github.com/chalk/strip-ansi?sponsor=1\"\n   }\n  },\n  \"node_modules/@isaacs/cliui/node_modules/wrap-ansi\": {\n   \"version\": \"8.1.0\",\n   \"resolved\": \"https://registry.npmjs.org/wrap-ansi/-/wrap-ansi-8.1.0.tgz\",\n   \"integrity\": \"sha512-si7QWI6zUMq56bESFvagtmzMdGOtoxfR+Sez11Mobfc7tm+VkUckk9bW2UeffTGVUbOksxmSw0AA2gs8g71NCQ==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"ansi-styles\": \"^6.1.0\",\n    \"string-width\": \"^5.0.1\",\n    \"strip-ansi\": \"^7.0.1\"\n   },\n   \"engines\": {\n    \"node\": \">=12\"\n   },\n   \"funding\": {\n    \"url\": \"https://github.com/chalk/wrap-ansi?sponsor=1\"\n   }\n  },\n  \"node_modules/@malept/cross-spawn-promise\": {\n   \"version\": \"1.1.1\",\n   \"resolved\": \"https://registry.npmjs.org/@malept/cross-spawn-promise/-/cross-spawn-promise-1.1.1.tgz\",\n   \"integrity\": \"sha512-RTBGWL5FWQcg9orDOCcp4LvItNzUPcyEU9bwaeJX0rJ1IQxzucC48Y0/sQLp/g6t99IQgAlGIaesJS+gTn7tVQ==\",\n   \"dev\": true,\n   \"funding\": [\n    {\n     \"type\": \"individual\",\n     \"url\": \"https://github.com/sponsors/malept\"\n    },\n    {\n     \"type\": \"tidelift\",\n     \"url\": \"https://tidelift.com/subscription/pkg/npm-.malept-cross-spawn-promise?utm_medium=referral&utm_source=npm_fund\"\n    }\n   ],\n   \"license\": \"Apache-2.0\",\n   \"dependencies\": {\n    \"cross-spawn\": \"^7.0.1\"\n   },\n   \"engines\": {\n    \"node\": \">= 10\"\n   }\n  },\n  \"node_modules/@malept/flatpak-bundler\": {\n   \"version\": \"0.4.0\",\n   \"resolved\": \"https://registry.npmjs.org/@malept/flatpak-bundler/-/flatpak-bundler-0.4.0.tgz\",\n   \"integrity\": \"sha512-9QOtNffcOF/c1seMCDnjckb3R9WHcG34tky+FHpNKKCW0wc/scYLwMtO+ptyGUfMW0/b/n4qRiALlaFHc9Oj7Q==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"debug\": \"^4.1.1\",\n    \"fs-extra\": \"^9.0.0\",\n    \"lodash\": \"^4.17.15\",\n    \"tmp-promise\": \"^3.0.2\"\n   },\n   \"engines\": {\n    \"node\": \">= 10.0.0\"\n   }\n  },\n  \"node_modules/@malept/flatpak-bundler/node_modules/fs-extra\": {\n   \"version\": \"9.1.0\",\n   \"resolved\": \"https://registry.npmjs.org/fs-extra/-/fs-extra-9.1.0.tgz\",\n   \"integrity\": \"sha512-hcg3ZmepS30/7BSFqRvoo3DOMQu7IjqxO5nCDt+zM9XWjb33Wg7ziNT+Qvqbuc3+gWpzO02JubVyk2G4Zvo1OQ==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"at-least-node\": \"^1.0.0\",\n    \"graceful-fs\": \"^4.2.0\",\n    \"jsonfile\": \"^6.0.1\",\n    \"universalify\": \"^2.0.0\"\n   },\n   \"engines\": {\n    \"node\": \">=10\"\n   }\n  },\n  \"node_modules/@malept/flatpak-bundler/node_modules/jsonfile\": {\n   \"version\": \"6.2.0\",\n   \"resolved\": \"https://registry.npmjs.org/jsonfile/-/jsonfile-6.2.0.tgz\",\n   \"integrity\": \"sha512-FGuPw30AdOIUTRMC2OMRtQV+jkVj2cfPqSeWXv1NEAJ1qZ5zb1X6z1mFhbfOB/iy3ssJCD+3KuZ8r8C3uVFlAg==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"universalify\": \"^2.0.0\"\n   },\n   \"optionalDependencies\": {\n    \"graceful-fs\": \"^4.1.6\"\n   }\n  },\n  \"node_modules/@malept/flatpak-bundler/node_modules/universalify\": {\n   \"version\": \"2.0.1\",\n   \"resolved\": \"https://registry.npmjs.org/universalify/-/universalify-2.0.1.tgz\",\n   \"integrity\": \"sha512-gptHNQghINnc/vTGIk0SOFGFNXw7JVrlRUtConJRlvaw6DuX0wO5Jeko9sWrMBhh+PsYAZ7oXAiOnf/UKogyiw==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"engines\": {\n    \"node\": \">= 10.0.0\"\n   }\n  },\n  \"node_modules/@pkgjs/parseargs\": {\n   \"version\": \"0.11.0\",\n   \"resolved\": \"https://registry.npmjs.org/@pkgjs/parseargs/-/parseargs-0.11.0.tgz\",\n   \"integrity\": \"sha512-+1VkjdD0QBLPodGrJUeqarH8VAIvQODIbwh9XpP5Syisf7YoQgsJKPNFoqqLQlu+VQ/tVSshMR6loPMn8U+dPg==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"optional\": true,\n   \"engines\": {\n    \"node\": \">=14\"\n   }\n  },\n  \"node_modules/@sindresorhus/is\": {\n   \"version\": \"4.6.0\",\n   \"resolved\": \"https://registry.npmjs.org/@sindresorhus/is/-/is-4.6.0.tgz\",\n   \"integrity\": \"sha512-t09vSN3MdfsyCHoFcTRCH/iUtG7OJ0CsjzB8cjAmKc/va/kIgeDI/TxsigdncE/4be734m0cvIYwNaV4i2XqAw==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"engines\": {\n    \"node\": \">=10\"\n   },\n   \"funding\": {\n    \"url\": \"https://github.com/sindresorhus/is?sponsor=1\"\n   }\n  },\n  \"node_modules/@szmarczak/http-timer\": {\n   \"version\": \"4.0.6\",\n   \"resolved\": \"https://registry.npmjs.org/@szmarczak/http-timer/-/http-timer-4.0.6.tgz\",\n   \"integrity\": \"sha512-4BAffykYOgO+5nzBWYwE3W90sBgLJoUPRWWcL8wlyiM8IB8ipJz3UMJ9KXQd1RKQXpKp8Tutn80HZtWsu2u76w==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"defer-to-connect\": \"^2.0.0\"\n   },\n   \"engines\": {\n    \"node\": \">=10\"\n   }\n  },\n  \"node_modules/@tootallnate/once\": {\n   \"version\": \"2.0.0\",\n   \"resolved\": \"https://registry.npmjs.org/@tootallnate/once/-/once-2.0.0.tgz\",\n   \"integrity\": \"sha512-XCuKFP5PS55gnMVu3dty8KPatLqUoy/ZYzDzAGCQ8JNFCkLXzmI7vNHCR+XpbZaMWQK/vQubr7PkYq8g470J/A==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"engines\": {\n    \"node\": \">= 10\"\n   }\n  },\n  \"node_modules/@types/cacheable-request\": {\n   \"version\": \"6.0.3\",\n   \"resolved\": \"https://registry.npmjs.org/@types/cacheable-request/-/cacheable-request-6.0.3.tgz\",\n   \"integrity\": \"sha512-IQ3EbTzGxIigb1I3qPZc1rWJnH0BmSKv5QYTalEwweFvyBDLSAe24zP0le/hyi7ecGfZVlIVAg4BZqb8WBwKqw==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"@types/http-cache-semantics\": \"*\",\n    \"@types/keyv\": \"^3.1.4\",\n    \"@types/node\": \"*\",\n    \"@types/responselike\": \"^1.0.0\"\n   }\n  },\n  \"node_modules/@types/debug\": {\n   \"version\": \"4.1.12\",\n   \"resolved\": \"https://registry.npmjs.org/@types/debug/-/debug-4.1.12.tgz\",\n   \"integrity\": \"sha512-vIChWdVG3LG1SMxEvI/AK+FWJthlrqlTu7fbrlywTkkaONwk/UAGaULXRlf8vkzFBLVm0zkMdCquhL5aOjhXPQ==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"@types/ms\": \"*\"\n   }\n  },\n  \"node_modules/@types/fs-extra\": {\n   \"version\": \"9.0.13\",\n   \"resolved\": \"https://registry.npmjs.org/@types/fs-extra/-/fs-extra-9.0.13.tgz\",\n   \"integrity\": \"sha512-nEnwB++1u5lVDM2UI4c1+5R+FYaKfaAzS4OococimjVm3nQw3TuzH5UNsocrcTBbhnerblyHj4A49qXbIiZdpA==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"@types/node\": \"*\"\n   }\n  },\n  \"node_modules/@types/http-cache-semantics\": {\n   \"version\": \"4.0.4\",\n   \"resolved\": \"https://registry.npmjs.org/@types/http-cache-semantics/-/http-cache-semantics-4.0.4.tgz\",\n   \"integrity\": \"sha512-1m0bIFVc7eJWyve9S0RnuRgcQqF/Xd5QsUZAZeQFr1Q3/p9JWoQQEqmVy+DPTNpGXwhgIetAoYF8JSc33q29QA==\",\n   \"dev\": true,\n   \"license\": \"MIT\"\n  },\n  \"node_modules/@types/keyv\": {\n   \"version\": \"3.1.4\",\n   \"resolved\": \"https://registry.npmjs.org/@types/keyv/-/keyv-3.1.4.tgz\",\n   \"integrity\": \"sha512-BQ5aZNSCpj7D6K2ksrRCTmKRLEpnPvWDiLPfoGyhZ++8YtiK9d/3DBKPJgry359X/P1PfruyYwvnvwFjuEiEIg==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"@types/node\": \"*\"\n   }\n  },\n  \"node_modules/@types/ms\": {\n   \"version\": \"2.1.0\",\n   \"resolved\": \"https://registry.npmjs.org/@types/ms/-/ms-2.1.0.tgz\",\n   \"integrity\": \"sha512-GsCCIZDE/p3i96vtEqx+7dBUGXrc7zeSK3wwPHIaRThS+9OhWIXRqzs4d6k1SVU8g91DrNRWxWUGhp5KXQb2VA==\",\n   \"dev\": true,\n   \"license\": \"MIT\"\n  },\n  \"node_modules/@types/node\": {\n   \"version\": \"18.19.130\",\n   \"resolved\": \"https://registry.npmjs.org/@types/node/-/node-18.19.130.tgz\",\n   \"integrity\": \"sha512-GRaXQx6jGfL8sKfaIDD6OupbIHBr9jv7Jnaml9tB7l4v068PAOXqfcujMMo5PhbIs6ggR1XODELqahT2R8v0fg==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"undici-types\": \"~5.26.4\"\n   }\n  },\n  \"node_modules/@types/plist\": {\n   \"version\": \"3.0.5\",\n   \"resolved\": \"https://registry.npmjs.org/@types/plist/-/plist-3.0.5.tgz\",\n   \"integrity\": \"sha512-E6OCaRmAe4WDmWNsL/9RMqdkkzDCY1etutkflWk4c+AcjDU07Pcz1fQwTX0TQz+Pxqn9i4L1TU3UFpjnrcDgxA==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"optional\": true,\n   \"dependencies\": {\n    \"@types/node\": \"*\",\n    \"xmlbuilder\": \">=11.0.1\"\n   }\n  },\n  \"node_modules/@types/responselike\": {\n   \"version\": \"1.0.3\",\n   \"resolved\": \"https://registry.npmjs.org/@types/responselike/-/responselike-1.0.3.tgz\",\n   \"integrity\": \"sha512-H/+L+UkTV33uf49PH5pCAUBVPNj2nDBXTN+qS1dOwyyg24l3CcicicCA7ca+HMvJBZcFgl5r8e+RR6elsb4Lyw==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"@types/node\": \"*\"\n   }\n  },\n  \"node_modules/@types/verror\": {\n   \"version\": \"1.10.11\",\n   \"resolved\": \"https://registry.npmjs.org/@types/verror/-/verror-1.10.11.tgz\",\n   \"integrity\": \"sha512-RlDm9K7+o5stv0Co8i8ZRGxDbrTxhJtgjqjFyVh/tXQyl/rYtTKlnTvZ88oSTeYREWurwx20Js4kTuKCsFkUtg==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"optional\": true\n  },\n  \"node_modules/@types/yauzl\": {\n   \"version\": \"2.10.3\",\n   \"resolved\": \"https://registry.npmjs.org/@types/yauzl/-/yauzl-2.10.3.tgz\",\n   \"integrity\": \"sha512-oJoftv0LSuaDZE3Le4DbKX+KS9G36NzOeSap90UIK0yMA/NhKJhqlSGtNDORNRaIbQfzjXDrQa0ytJ6mNRGz/Q==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"optional\": true,\n   \"dependencies\": {\n    \"@types/node\": \"*\"\n   }\n  },\n  \"node_modules/@xmldom/xmldom\": {\n   \"version\": \"0.8.11\",\n   \"resolved\": \"https://registry.npmjs.org/@xmldom/xmldom/-/xmldom-0.8.11.tgz\",\n   \"integrity\": \"sha512-cQzWCtO6C8TQiYl1ruKNn2U6Ao4o4WBBcbL61yJl84x+j5sOWWFU9X7DpND8XZG3daDppSsigMdfAIl2upQBRw==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"engines\": {\n    \"node\": \">=10.0.0\"\n   }\n  },\n  \"node_modules/7zip-bin\": {\n   \"version\": \"5.2.0\",\n   \"resolved\": \"https://registry.npmjs.org/7zip-bin/-/7zip-bin-5.2.0.tgz\",\n   \"integrity\": \"sha512-ukTPVhqG4jNzMro2qA9HSCSSVJN3aN7tlb+hfqYCt3ER0yWroeA2VR38MNrOHLQ/cVj+DaIMad0kFCtWWowh/A==\",\n   \"dev\": true,\n   \"license\": \"MIT\"\n  },\n  \"node_modules/agent-base\": {\n   \"version\": \"6.0.2\",\n   \"resolved\": \"https://registry.npmjs.org/agent-base/-/agent-base-6.0.2.tgz\",\n   \"integrity\": \"sha512-RZNwNclF7+MS/8bDg70amg32dyeZGZxiDuQmZxKLAlQjr3jGyLx+4Kkk58UO7D2QdgFIQCovuSuZESne6RG6XQ==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"debug\": \"4\"\n   },\n   \"engines\": {\n    \"node\": \">= 6.0.0\"\n   }\n  },\n  \"node_modules/ajv\": {\n   \"version\": \"6.12.6\",\n   \"resolved\": \"https://registry.npmjs.org/ajv/-/ajv-6.12.6.tgz\",\n   \"integrity\": \"sha512-j3fVLgvTo527anyYyJOGTYJbG+vnnQYvE0m5mmkc1TK+nxAppkCLMIL0aZ4dblVCNoGShhm+kzE4ZUykBoMg4g==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"peer\": true,\n   \"dependencies\": {\n    \"fast-deep-equal\": \"^3.1.1\",\n    \"fast-json-stable-stringify\": \"^2.0.0\",\n    \"json-schema-traverse\": \"^0.4.1\",\n    \"uri-js\": \"^4.2.2\"\n   },\n   \"funding\": {\n    \"type\": \"github\",\n    \"url\": \"https://github.com/sponsors/epoberezkin\"\n   }\n  },\n  \"node_modules/ajv-keywords\": {\n   \"version\": \"3.5.2\",\n   \"resolved\": \"https://registry.npmjs.org/ajv-keywords/-/ajv-keywords-3.5.2.tgz\",\n   \"integrity\": \"sha512-5p6WTN0DdTGVQk6VjcEju19IgaHudalcfabD7yhDGeA6bcQnmL+CpveLJq/3hvfwd1aof6L386Ougkx6RfyMIQ==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"peerDependencies\": {\n    \"ajv\": \"^6.9.1\"\n   }\n  },\n  \"node_modules/ansi-regex\": {\n   \"version\": \"5.0.1\",\n   \"resolved\": \"https://registry.npmjs.org/ansi-regex/-/ansi-regex-5.0.1.tgz\",\n   \"integrity\": \"sha512-quJQXlTSUGL2LH9SUXo8VwsY4soanhgo6LNSm84E1LBcE8s3O0wpdiRzyR9z/ZZJMlMWv37qOOb9pdJlMUEKFQ==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"engines\": {\n    \"node\": \">=8\"\n   }\n  },\n  \"node_modules/ansi-styles\": {\n   \"version\": \"4.3.0\",\n   \"resolved\": \"https://registry.npmjs.org/ansi-styles/-/ansi-styles-4.3.0.tgz\",\n   \"integrity\": \"sha512-zbB9rCJAT1rbjiVDb2hqKFHNYLxgtk8NURxZ3IZwD3F6NtxbXZQCnnSi1Lkx+IDohdPlFp222wVALIheZJQSEg==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"color-convert\": \"^2.0.1\"\n   },\n   \"engines\": {\n    \"node\": \">=8\"\n   },\n   \"funding\": {\n    \"url\": \"https://github.com/chalk/ansi-styles?sponsor=1\"\n   }\n  },\n  \"node_modules/app-builder-bin\": {\n   \"version\": \"4.0.0\",\n   \"resolved\": \"https://registry.npmjs.org/app-builder-bin/-/app-builder-bin-4.0.0.tgz\",\n   \"integrity\": \"sha512-xwdG0FJPQMe0M0UA4Tz0zEB8rBJTRA5a476ZawAqiBkMv16GRK5xpXThOjMaEOFnZ6zabejjG4J3da0SXG63KA==\",\n   \"dev\": true,\n   \"license\": \"MIT\"\n  },\n  \"node_modules/app-builder-lib\": {\n   \"version\": \"24.9.1\",\n   \"resolved\": \"https://registry.npmjs.org/app-builder-lib/-/app-builder-lib-24.9.1.tgz\",\n   \"integrity\": \"sha512-Q1nYxZcio4r+W72cnIRVYofEAyjBd3mG47o+zms8HlD51zWtA/YxJb01Jei5F+jkWhge/PTQK+uldsPh6d0/4g==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"@develar/schema-utils\": \"~2.6.5\",\n    \"@electron/notarize\": \"2.1.0\",\n    \"@electron/osx-sign\": \"1.0.5\",\n    \"@electron/universal\": \"1.4.1\",\n    \"@malept/flatpak-bundler\": \"^0.4.0\",\n    \"@types/fs-extra\": \"9.0.13\",\n    \"7zip-bin\": \"~5.2.0\",\n    \"async-exit-hook\": \"^2.0.1\",\n    \"bluebird-lst\": \"^1.0.9\",\n    \"builder-util\": \"24.8.1\",\n    \"builder-util-runtime\": \"9.2.3\",\n    \"chromium-pickle-js\": \"^0.2.0\",\n    \"debug\": \"^4.3.4\",\n    \"ejs\": \"^3.1.8\",\n    \"electron-publish\": \"24.8.1\",\n    \"form-data\": \"^4.0.0\",\n    \"fs-extra\": \"^10.1.0\",\n    \"hosted-git-info\": \"^4.1.0\",\n    \"is-ci\": \"^3.0.0\",\n    \"isbinaryfile\": \"^5.0.0\",\n    \"js-yaml\": \"^4.1.0\",\n    \"lazy-val\": \"^1.0.5\",\n    \"minimatch\": \"^5.1.1\",\n    \"read-config-file\": \"6.3.2\",\n    \"sanitize-filename\": \"^1.6.3\",\n    \"semver\": \"^7.3.8\",\n    \"tar\": \"^6.1.12\",\n    \"temp-file\": \"^3.4.0\"\n   },\n   \"engines\": {\n    \"node\": \">=14.0.0\"\n   }\n  },\n  \"node_modules/app-builder-lib/node_modules/fs-extra\": {\n   \"version\": \"10.1.0\",\n   \"resolved\": \"https://registry.npmjs.org/fs-extra/-/fs-extra-10.1.0.tgz\",\n   \"integrity\": \"sha512-oRXApq54ETRj4eMiFzGnHWGy+zo5raudjuxN0b8H7s/RU2oW0Wvsx9O0ACRN/kRq9E8Vu/ReskGB5o3ji+FzHQ==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"graceful-fs\": \"^4.2.0\",\n    \"jsonfile\": \"^6.0.1\",\n    \"universalify\": \"^2.0.0\"\n   },\n   \"engines\": {\n    \"node\": \">=12\"\n   }\n  },\n  \"node_modules/app-builder-lib/node_modules/jsonfile\": {\n   \"version\": \"6.2.0\",\n   \"resolved\": \"https://registry.npmjs.org/jsonfile/-/jsonfile-6.2.0.tgz\",\n   \"integrity\": \"sha512-FGuPw30AdOIUTRMC2OMRtQV+jkVj2cfPqSeWXv1NEAJ1qZ5zb1X6z1mFhbfOB/iy3ssJCD+3KuZ8r8C3uVFlAg==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"universalify\": \"^2.0.0\"\n   },\n   \"optionalDependencies\": {\n    \"graceful-fs\": \"^4.1.6\"\n   }\n  },\n  \"node_modules/app-builder-lib/node_modules/semver\": {\n   \"version\": \"7.7.3\",\n   \"resolved\": \"https://registry.npmjs.org/semver/-/semver-7.7.3.tgz\",\n   \"integrity\": \"sha512-SdsKMrI9TdgjdweUSR9MweHA4EJ8YxHn8DFaDisvhVlUOe4BF1tLD7GAj0lIqWVl+dPb/rExr0Btby5loQm20Q==\",\n   \"dev\": true,\n   \"license\": \"ISC\",\n   \"bin\": {\n    \"semver\": \"bin/semver.js\"\n   },\n   \"engines\": {\n    \"node\": \">=10\"\n   }\n  },\n  \"node_modules/app-builder-lib/node_modules/universalify\": {\n   \"version\": \"2.0.1\",\n   \"resolved\": \"https://registry.npmjs.org/universalify/-/universalify-2.0.1.tgz\",\n   \"integrity\": \"sha512-gptHNQghINnc/vTGIk0SOFGFNXw7JVrlRUtConJRlvaw6DuX0wO5Jeko9sWrMBhh+PsYAZ7oXAiOnf/UKogyiw==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"engines\": {\n    \"node\": \">= 10.0.0\"\n   }\n  },\n  \"node_modules/argparse\": {\n   \"version\": \"2.0.1\",\n   \"resolved\": \"https://registry.npmjs.org/argparse/-/argparse-2.0.1.tgz\",\n   \"integrity\": \"sha512-8+9WqebbFzpX9OR+Wa6O29asIogeRMzcGtAINdpMHHyAg10f05aSFVBbcEqGf/PXw1EjAZ+q2/bEBg3DvurK3Q==\",\n   \"license\": \"Python-2.0\"\n  },\n  \"node_modules/assert-plus\": {\n   \"version\": \"1.0.0\",\n   \"resolved\": \"https://registry.npmjs.org/assert-plus/-/assert-plus-1.0.0.tgz\",\n   \"integrity\": \"sha512-NfJ4UzBCcQGLDlQq7nHxH+tv3kyZ0hHQqF5BO6J7tNJeP5do1llPr8dZ8zHonfhAu0PHAdMkSo+8o0wxg9lZWw==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"optional\": true,\n   \"engines\": {\n    \"node\": \">=0.8\"\n   }\n  },\n  \"node_modules/astral-regex\": {\n   \"version\": \"2.0.0\",\n   \"resolved\": \"https://registry.npmjs.org/astral-regex/-/astral-regex-2.0.0.tgz\",\n   \"integrity\": \"sha512-Z7tMw1ytTXt5jqMcOP+OQteU1VuNK9Y02uuJtKQ1Sv69jXQKKg5cibLwGJow8yzZP+eAc18EmLGPal0bp36rvQ==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"optional\": true,\n   \"engines\": {\n    \"node\": \">=8\"\n   }\n  },\n  \"node_modules/async\": {\n   \"version\": \"3.2.6\",\n   \"resolved\": \"https://registry.npmjs.org/async/-/async-3.2.6.tgz\",\n   \"integrity\": \"sha512-htCUDlxyyCLMgaM3xXg0C0LW2xqfuQ6p05pCEIsXuyQ+a1koYKTuBMzRNwmybfLgvJDMd0r1LTn4+E0Ti6C2AA==\",\n   \"dev\": true,\n   \"license\": \"MIT\"\n  },\n  \"node_modules/async-exit-hook\": {\n   \"version\": \"2.0.1\",\n   \"resolved\": \"https://registry.npmjs.org/async-exit-hook/-/async-exit-hook-2.0.1.tgz\",\n   \"integrity\": \"sha512-NW2cX8m1Q7KPA7a5M2ULQeZ2wR5qI5PAbw5L0UOMxdioVk9PMZ0h1TmyZEkPYrCvYjDlFICusOu1dlEKAAeXBw==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"engines\": {\n    \"node\": \">=0.12.0\"\n   }\n  },\n  \"node_modules/asynckit\": {\n   \"version\": \"0.4.0\",\n   \"resolved\": \"https://registry.npmjs.org/asynckit/-/asynckit-0.4.0.tgz\",\n   \"integrity\": \"sha512-Oei9OH4tRh0YqU3GxhX79dM/mwVgvbZJaSNaRk+bshkj0S5cfHcgYakreBjrHwatXKbz+IoIdYLxrKim2MjW0Q==\",\n   \"dev\": true,\n   \"license\": \"MIT\"\n  },\n  \"node_modules/at-least-node\": {\n   \"version\": \"1.0.0\",\n   \"resolved\": \"https://registry.npmjs.org/at-least-node/-/at-least-node-1.0.0.tgz\",\n   \"integrity\": \"sha512-+q/t7Ekv1EDY2l6Gda6LLiX14rU9TV20Wa3ofeQmwPFZbOMo9DXrLbOjFaaclkXKWidIaopwAObQDqwWtGUjqg==\",\n   \"dev\": true,\n   \"license\": \"ISC\",\n   \"engines\": {\n    \"node\": \">= 4.0.0\"\n   }\n  },\n  \"node_modules/balanced-match\": {\n   \"version\": \"1.0.2\",\n   \"resolved\": \"https://registry.npmjs.org/balanced-match/-/balanced-match-1.0.2.tgz\",\n   \"integrity\": \"sha512-3oSeUO0TMV67hN1AmbXsK4yaqU7tjiHlbxRDZOpH0KW9+CeX4bRAaX0Anxt0tx2MrpRpWwQaPwIlISEJhYU5Pw==\",\n   \"dev\": true,\n   \"license\": \"MIT\"\n  },\n  \"node_modules/base64-js\": {\n   \"version\": \"1.5.1\",\n   \"resolved\": \"https://registry.npmjs.org/base64-js/-/base64-js-1.5.1.tgz\",\n   \"integrity\": \"sha512-AKpaYlHn8t4SVbOHCy+b5+KKgvR4vrsD8vbvrbiQJps7fKDTkjkDry6ji0rUJjC0kzbNePLwzxq8iypo41qeWA==\",\n   \"dev\": true,\n   \"funding\": [\n    {\n     \"type\": \"github\",\n     \"url\": \"https://github.com/sponsors/feross\"\n    },\n    {\n     \"type\": \"patreon\",\n     \"url\": \"https://www.patreon.com/feross\"\n    },\n    {\n     \"type\": \"consulting\",\n     \"url\": \"https://feross.org/support\"\n    }\n   ],\n   \"license\": \"MIT\"\n  },\n  \"node_modules/bluebird\": {\n   \"version\": \"3.7.2\",\n   \"resolved\": \"https://registry.npmjs.org/bluebird/-/bluebird-3.7.2.tgz\",\n   \"integrity\": \"sha512-XpNj6GDQzdfW+r2Wnn7xiSAd7TM3jzkxGXBGTtWKuSXv1xUV+azxAm8jdWZN06QTQk+2N2XB9jRDkvbmQmcRtg==\",\n   \"dev\": true,\n   \"license\": \"MIT\"\n  },\n  \"node_modules/bluebird-lst\": {\n   \"version\": \"1.0.9\",\n   \"resolved\": \"https://registry.npmjs.org/bluebird-lst/-/bluebird-lst-1.0.9.tgz\",\n   \"integrity\": \"sha512-7B1Rtx82hjnSD4PGLAjVWeYH3tHAcVUmChh85a3lltKQm6FresXh9ErQo6oAv6CqxttczC3/kEg8SY5NluPuUw==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"bluebird\": \"^3.5.5\"\n   }\n  },\n  \"node_modules/boolean\": {\n   \"version\": \"3.2.0\",\n   \"resolved\": \"https://registry.npmjs.org/boolean/-/boolean-3.2.0.tgz\",\n   \"integrity\": \"sha512-d0II/GO9uf9lfUHH2BQsjxzRJZBdsjgsBiW4BvhWk/3qoKwQFjIDVN19PfX8F2D/r9PCMTtLWjYVCFrpeYUzsw==\",\n   \"deprecated\": \"Package no longer supported. Contact Support at https://www.npmjs.com/support for more info.\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"optional\": true\n  },\n  \"node_modules/brace-expansion\": {\n   \"version\": \"2.0.2\",\n   \"resolved\": \"https://registry.npmjs.org/brace-expansion/-/brace-expansion-2.0.2.tgz\",\n   \"integrity\": \"sha512-Jt0vHyM+jmUBqojB7E1NIYadt0vI0Qxjxd2TErW94wDz+E2LAm5vKMXXwg6ZZBTHPuUlDgQHKXvjGBdfcF1ZDQ==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"balanced-match\": \"^1.0.0\"\n   }\n  },\n  \"node_modules/buffer\": {\n   \"version\": \"5.7.1\",\n   \"resolved\": \"https://registry.npmjs.org/buffer/-/buffer-5.7.1.tgz\",\n   \"integrity\": \"sha512-EHcyIPBQ4BSGlvjB16k5KgAJ27CIsHY/2JBmCRReo48y9rQ3MaUzWX3KVlBa4U7MyX02HdVj0K7C3WaB3ju7FQ==\",\n   \"dev\": true,\n   \"funding\": [\n    {\n     \"type\": \"github\",\n     \"url\": \"https://github.com/sponsors/feross\"\n    },\n    {\n     \"type\": \"patreon\",\n     \"url\": \"https://www.patreon.com/feross\"\n    },\n    {\n     \"type\": \"consulting\",\n     \"url\": \"https://feross.org/support\"\n    }\n   ],\n   \"license\": \"MIT\",\n   \"optional\": true,\n   \"dependencies\": {\n    \"base64-js\": \"^1.3.1\",\n    \"ieee754\": \"^1.1.13\"\n   }\n  },\n  \"node_modules/buffer-crc32\": {\n   \"version\": \"0.2.13\",\n   \"resolved\": \"https://registry.npmjs.org/buffer-crc32/-/buffer-crc32-0.2.13.tgz\",\n   \"integrity\": \"sha512-VO9Ht/+p3SN7SKWqcrgEzjGbRSJYTx+Q1pTQC0wrWqHx0vpJraQ6GtHx8tvcg1rlK1byhU5gccxgOgj7B0TDkQ==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"engines\": {\n    \"node\": \"*\"\n   }\n  },\n  \"node_modules/buffer-equal\": {\n   \"version\": \"1.0.1\",\n   \"resolved\": \"https://registry.npmjs.org/buffer-equal/-/buffer-equal-1.0.1.tgz\",\n   \"integrity\": \"sha512-QoV3ptgEaQpvVwbXdSO39iqPQTCxSF7A5U99AxbHYqUdCizL/lH2Z0A2y6nbZucxMEOtNyZfG2s6gsVugGpKkg==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"engines\": {\n    \"node\": \">=0.4\"\n   },\n   \"funding\": {\n    \"url\": \"https://github.com/sponsors/ljharb\"\n   }\n  },\n  \"node_modules/buffer-from\": {\n   \"version\": \"1.1.2\",\n   \"resolved\": \"https://registry.npmjs.org/buffer-from/-/buffer-from-1.1.2.tgz\",\n   \"integrity\": \"sha512-E+XQCRwSbaaiChtv6k6Dwgc+bx+Bs6vuKJHHl5kox/BaKbhiXzqQOwK4cO22yElGp2OCmjwVhT3HmxgyPGnJfQ==\",\n   \"dev\": true,\n   \"license\": \"MIT\"\n  },\n  \"node_modules/builder-util\": {\n   \"version\": \"24.8.1\",\n   \"resolved\": \"https://registry.npmjs.org/builder-util/-/builder-util-24.8.1.tgz\",\n   \"integrity\": \"sha512-ibmQ4BnnqCnJTNrdmdNlnhF48kfqhNzSeqFMXHLIl+o9/yhn6QfOaVrloZ9YUu3m0k3rexvlT5wcki6LWpjTZw==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"@types/debug\": \"^4.1.6\",\n    \"7zip-bin\": \"~5.2.0\",\n    \"app-builder-bin\": \"4.0.0\",\n    \"bluebird-lst\": \"^1.0.9\",\n    \"builder-util-runtime\": \"9.2.3\",\n    \"chalk\": \"^4.1.2\",\n    \"cross-spawn\": \"^7.0.3\",\n    \"debug\": \"^4.3.4\",\n    \"fs-extra\": \"^10.1.0\",\n    \"http-proxy-agent\": \"^5.0.0\",\n    \"https-proxy-agent\": \"^5.0.1\",\n    \"is-ci\": \"^3.0.0\",\n    \"js-yaml\": \"^4.1.0\",\n    \"source-map-support\": \"^0.5.19\",\n    \"stat-mode\": \"^1.0.0\",\n    \"temp-file\": \"^3.4.0\"\n   }\n  },\n  \"node_modules/builder-util-runtime\": {\n   \"version\": \"9.2.3\",\n   \"resolved\": \"https://registry.npmjs.org/builder-util-runtime/-/builder-util-runtime-9.2.3.tgz\",\n   \"integrity\": \"sha512-FGhkqXdFFZ5dNC4C+yuQB9ak311rpGAw+/ASz8ZdxwODCv1GGMWgLDeofRkdi0F3VCHQEWy/aXcJQozx2nOPiw==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"debug\": \"^4.3.4\",\n    \"sax\": \"^1.2.4\"\n   },\n   \"engines\": {\n    \"node\": \">=12.0.0\"\n   }\n  },\n  \"node_modules/builder-util/node_modules/fs-extra\": {\n   \"version\": \"10.1.0\",\n   \"resolved\": \"https://registry.npmjs.org/fs-extra/-/fs-extra-10.1.0.tgz\",\n   \"integrity\": \"sha512-oRXApq54ETRj4eMiFzGnHWGy+zo5raudjuxN0b8H7s/RU2oW0Wvsx9O0ACRN/kRq9E8Vu/ReskGB5o3ji+FzHQ==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"graceful-fs\": \"^4.2.0\",\n    \"jsonfile\": \"^6.0.1\",\n    \"universalify\": \"^2.0.0\"\n   },\n   \"engines\": {\n    \"node\": \">=12\"\n   }\n  },\n  \"node_modules/builder-util/node_modules/jsonfile\": {\n   \"version\": \"6.2.0\",\n   \"resolved\": \"https://registry.npmjs.org/jsonfile/-/jsonfile-6.2.0.tgz\",\n   \"integrity\": \"sha512-FGuPw30AdOIUTRMC2OMRtQV+jkVj2cfPqSeWXv1NEAJ1qZ5zb1X6z1mFhbfOB/iy3ssJCD+3KuZ8r8C3uVFlAg==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"universalify\": \"^2.0.0\"\n   },\n   \"optionalDependencies\": {\n    \"graceful-fs\": \"^4.1.6\"\n   }\n  },\n  \"node_modules/builder-util/node_modules/universalify\": {\n   \"version\": \"2.0.1\",\n   \"resolved\": \"https://registry.npmjs.org/universalify/-/universalify-2.0.1.tgz\",\n   \"integrity\": \"sha512-gptHNQghINnc/vTGIk0SOFGFNXw7JVrlRUtConJRlvaw6DuX0wO5Jeko9sWrMBhh+PsYAZ7oXAiOnf/UKogyiw==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"engines\": {\n    \"node\": \">= 10.0.0\"\n   }\n  },\n  \"node_modules/cacheable-lookup\": {\n   \"version\": \"5.0.4\",\n   \"resolved\": \"https://registry.npmjs.org/cacheable-lookup/-/cacheable-lookup-5.0.4.tgz\",\n   \"integrity\": \"sha512-2/kNscPhpcxrOigMZzbiWF7dz8ilhb/nIHU3EyZiXWXpeq/au8qJ8VhdftMkty3n7Gj6HIGalQG8oiBNB3AJgA==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"engines\": {\n    \"node\": \">=10.6.0\"\n   }\n  },\n  \"node_modules/cacheable-request\": {\n   \"version\": \"7.0.4\",\n   \"resolved\": \"https://registry.npmjs.org/cacheable-request/-/cacheable-request-7.0.4.tgz\",\n   \"integrity\": \"sha512-v+p6ongsrp0yTGbJXjgxPow2+DL93DASP4kXCDKb8/bwRtt9OEF3whggkkDkGNzgcWy2XaF4a8nZglC7uElscg==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"clone-response\": \"^1.0.2\",\n    \"get-stream\": \"^5.1.0\",\n    \"http-cache-semantics\": \"^4.0.0\",\n    \"keyv\": \"^4.0.0\",\n    \"lowercase-keys\": \"^2.0.0\",\n    \"normalize-url\": \"^6.0.1\",\n    \"responselike\": \"^2.0.0\"\n   },\n   \"engines\": {\n    \"node\": \">=8\"\n   }\n  },\n  \"node_modules/call-bind-apply-helpers\": {\n   \"version\": \"1.0.2\",\n   \"resolved\": \"https://registry.npmjs.org/call-bind-apply-helpers/-/call-bind-apply-helpers-1.0.2.tgz\",\n   \"integrity\": \"sha512-Sp1ablJ0ivDkSzjcaJdxEunN5/XvksFJ2sMBFfq6x0ryhQV/2b/KwFe21cMpmHtPOSij8K99/wSfoEuTObmuMQ==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"es-errors\": \"^1.3.0\",\n    \"function-bind\": \"^1.1.2\"\n   },\n   \"engines\": {\n    \"node\": \">= 0.4\"\n   }\n  },\n  \"node_modules/chalk\": {\n   \"version\": \"4.1.2\",\n   \"resolved\": \"https://registry.npmjs.org/chalk/-/chalk-4.1.2.tgz\",\n   \"integrity\": \"sha512-oKnbhFyRIXpUuez8iBMmyEa4nbj4IOQyuhc/wy9kY7/WVPcwIO9VA668Pu8RkO7+0G76SLROeyw9CpQ061i4mA==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"ansi-styles\": \"^4.1.0\",\n    \"supports-color\": \"^7.1.0\"\n   },\n   \"engines\": {\n    \"node\": \">=10\"\n   },\n   \"funding\": {\n    \"url\": \"https://github.com/chalk/chalk?sponsor=1\"\n   }\n  },\n  \"node_modules/chownr\": {\n   \"version\": \"2.0.0\",\n   \"resolved\": \"https://registry.npmjs.org/chownr/-/chownr-2.0.0.tgz\",\n   \"integrity\": \"sha512-bIomtDF5KGpdogkLd9VspvFzk9KfpyyGlS8YFVZl7TGPBHL5snIOnxeshwVgPteQ9b4Eydl+pVbIyE1DcvCWgQ==\",\n   \"dev\": true,\n   \"license\": \"ISC\",\n   \"engines\": {\n    \"node\": \">=10\"\n   }\n  },\n  \"node_modules/chromium-pickle-js\": {\n   \"version\": \"0.2.0\",\n   \"resolved\": \"https://registry.npmjs.org/chromium-pickle-js/-/chromium-pickle-js-0.2.0.tgz\",\n   \"integrity\": \"sha512-1R5Fho+jBq0DDydt+/vHWj5KJNJCKdARKOCwZUen84I5BreWoLqRLANH1U87eJy1tiASPtMnGqJJq0ZsLoRPOw==\",\n   \"dev\": true,\n   \"license\": \"MIT\"\n  },\n  \"node_modules/ci-info\": {\n   \"version\": \"3.9.0\",\n   \"resolved\": \"https://registry.npmjs.org/ci-info/-/ci-info-3.9.0.tgz\",\n   \"integrity\": \"sha512-NIxF55hv4nSqQswkAeiOi1r83xy8JldOFDTWiug55KBu9Jnblncd2U6ViHmYgHf01TPZS77NJBhBMKdWj9HQMQ==\",\n   \"dev\": true,\n   \"funding\": [\n    {\n     \"type\": \"github\",\n     \"url\": \"https://github.com/sponsors/sibiraj-s\"\n    }\n   ],\n   \"license\": \"MIT\",\n   \"engines\": {\n    \"node\": \">=8\"\n   }\n  },\n  \"node_modules/cli-truncate\": {\n   \"version\": \"2.1.0\",\n   \"resolved\": \"https://registry.npmjs.org/cli-truncate/-/cli-truncate-2.1.0.tgz\",\n   \"integrity\": \"sha512-n8fOixwDD6b/ObinzTrp1ZKFzbgvKZvuz/TvejnLn1aQfC6r52XEx85FmuC+3HI+JM7coBRXUvNqEU2PHVrHpg==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"optional\": true,\n   \"dependencies\": {\n    \"slice-ansi\": \"^3.0.0\",\n    \"string-width\": \"^4.2.0\"\n   },\n   \"engines\": {\n    \"node\": \">=8\"\n   },\n   \"funding\": {\n    \"url\": \"https://github.com/sponsors/sindresorhus\"\n   }\n  },\n  \"node_modules/cliui\": {\n   \"version\": \"8.0.1\",\n   \"resolved\": \"https://registry.npmjs.org/cliui/-/cliui-8.0.1.tgz\",\n   \"integrity\": \"sha512-BSeNnyus75C4//NQ9gQt1/csTXyo/8Sb+afLAkzAptFuMsod9HFokGNudZpi/oQV73hnVK+sR+5PVRMd+Dr7YQ==\",\n   \"dev\": true,\n   \"license\": \"ISC\",\n   \"dependencies\": {\n    \"string-width\": \"^4.2.0\",\n    \"strip-ansi\": \"^6.0.1\",\n    \"wrap-ansi\": \"^7.0.0\"\n   },\n   \"engines\": {\n    \"node\": \">=12\"\n   }\n  },\n  \"node_modules/clone-response\": {\n   \"version\": \"1.0.3\",\n   \"resolved\": \"https://registry.npmjs.org/clone-response/-/clone-response-1.0.3.tgz\",\n   \"integrity\": \"sha512-ROoL94jJH2dUVML2Y/5PEDNaSHgeOdSDicUyS7izcF63G6sTc/FTjLub4b8Il9S8S0beOfYt0TaA5qvFK+w0wA==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"mimic-response\": \"^1.0.0\"\n   },\n   \"funding\": {\n    \"url\": \"https://github.com/sponsors/sindresorhus\"\n   }\n  },\n  \"node_modules/color-convert\": {\n   \"version\": \"2.0.1\",\n   \"resolved\": \"https://registry.npmjs.org/color-convert/-/color-convert-2.0.1.tgz\",\n   \"integrity\": \"sha512-RRECPsj7iu/xb5oKYcsFHSppFNnsj/52OVTRKb4zP5onXwVF3zVmmToNcOfGC+CRDpfK/U584fMg38ZHCaElKQ==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"color-name\": \"~1.1.4\"\n   },\n   \"engines\": {\n    \"node\": \">=7.0.0\"\n   }\n  },\n  \"node_modules/color-name\": {\n   \"version\": \"1.1.4\",\n   \"resolved\": \"https://registry.npmjs.org/color-name/-/color-name-1.1.4.tgz\",\n   \"integrity\": \"sha512-dOy+3AuW3a2wNbZHIuMZpTcgjGuLU/uBL/ubcZF9OXbDo8ff4O8yVp5Bf0efS8uEoYo5q4Fx7dY9OgQGXgAsQA==\",\n   \"dev\": true,\n   \"license\": \"MIT\"\n  },\n  \"node_modules/combined-stream\": {\n   \"version\": \"1.0.8\",\n   \"resolved\": \"https://registry.npmjs.org/combined-stream/-/combined-stream-1.0.8.tgz\",\n   \"integrity\": \"sha512-FQN4MRfuJeHf7cBbBMJFXhKSDq+2kAArBlmRBvcvFE5BB1HZKXtSFASDhdlz9zOYwxh8lDdnvmMOe/+5cdoEdg==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"delayed-stream\": \"~1.0.0\"\n   },\n   \"engines\": {\n    \"node\": \">= 0.8\"\n   }\n  },\n  \"node_modules/commander\": {\n   \"version\": \"5.1.0\",\n   \"resolved\": \"https://registry.npmjs.org/commander/-/commander-5.1.0.tgz\",\n   \"integrity\": \"sha512-P0CysNDQ7rtVw4QIQtm+MRxV66vKFSvlsQvGYXZWR3qFU0jlMKHZZZgw8e+8DSah4UDKMqnknRDQz+xuQXQ/Zg==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"engines\": {\n    \"node\": \">= 6\"\n   }\n  },\n  \"node_modules/compare-version\": {\n   \"version\": \"0.1.2\",\n   \"resolved\": \"https://registry.npmjs.org/compare-version/-/compare-version-0.1.2.tgz\",\n   \"integrity\": \"sha512-pJDh5/4wrEnXX/VWRZvruAGHkzKdr46z11OlTPN+VrATlWWhSKewNCJ1futCO5C7eJB3nPMFZA1LeYtcFboZ2A==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"engines\": {\n    \"node\": \">=0.10.0\"\n   }\n  },\n  \"node_modules/concat-map\": {\n   \"version\": \"0.0.1\",\n   \"resolved\": \"https://registry.npmjs.org/concat-map/-/concat-map-0.0.1.tgz\",\n   \"integrity\": \"sha512-/Srv4dswyQNBfohGpz9o6Yb3Gz3SrUDqBH5rTuhGR7ahtlbYKnVxw2bCFMRljaA7EXHaXZ8wsHdodFvbkhKmqg==\",\n   \"dev\": true,\n   \"license\": \"MIT\"\n  },\n  \"node_modules/config-file-ts\": {\n   \"version\": \"0.2.6\",\n   \"resolved\": \"https://registry.npmjs.org/config-file-ts/-/config-file-ts-0.2.6.tgz\",\n   \"integrity\": \"sha512-6boGVaglwblBgJqGyxm4+xCmEGcWgnWHSWHY5jad58awQhB6gftq0G8HbzU39YqCIYHMLAiL1yjwiZ36m/CL8w==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"glob\": \"^10.3.10\",\n    \"typescript\": \"^5.3.3\"\n   }\n  },\n  \"node_modules/config-file-ts/node_modules/glob\": {\n   \"version\": \"10.4.5\",\n   \"resolved\": \"https://registry.npmjs.org/glob/-/glob-10.4.5.tgz\",\n   \"integrity\": \"sha512-7Bv8RF0k6xjo7d4A/PxYLbUCfb6c+Vpd2/mB2yRDlew7Jb5hEXiCD9ibfO7wpk8i4sevK6DFny9h7EYbM3/sHg==\",\n   \"dev\": true,\n   \"license\": \"ISC\",\n   \"dependencies\": {\n    \"foreground-child\": \"^3.1.0\",\n    \"jackspeak\": \"^3.1.2\",\n    \"minimatch\": \"^9.0.4\",\n    \"minipass\": \"^7.1.2\",\n    \"package-json-from-dist\": \"^1.0.0\",\n    \"path-scurry\": \"^1.11.1\"\n   },\n   \"bin\": {\n    \"glob\": \"dist/esm/bin.mjs\"\n   },\n   \"funding\": {\n    \"url\": \"https://github.com/sponsors/isaacs\"\n   }\n  },\n  \"node_modules/config-file-ts/node_modules/minimatch\": {\n   \"version\": \"9.0.5\",\n   \"resolved\": \"https://registry.npmjs.org/minimatch/-/minimatch-9.0.5.tgz\",\n   \"integrity\": \"sha512-G6T0ZX48xgozx7587koeX9Ys2NYy6Gmv//P89sEte9V9whIapMNF4idKxnW2QtCcLiTWlb/wfCabAtAFWhhBow==\",\n   \"dev\": true,\n   \"license\": \"ISC\",\n   \"dependencies\": {\n    \"brace-expansion\": \"^2.0.1\"\n   },\n   \"engines\": {\n    \"node\": \">=16 || 14 >=14.17\"\n   },\n   \"funding\": {\n    \"url\": \"https://github.com/sponsors/isaacs\"\n   }\n  },\n  \"node_modules/config-file-ts/node_modules/minipass\": {\n   \"version\": \"7.1.2\",\n   \"resolved\": \"https://registry.npmjs.org/minipass/-/minipass-7.1.2.tgz\",\n   \"integrity\": \"sha512-qOOzS1cBTWYF4BH8fVePDBOO9iptMnGUEZwNc/cMWnTV2nVLZ7VoNWEPHkYczZA0pdoA7dl6e7FL659nX9S2aw==\",\n   \"dev\": true,\n   \"license\": \"ISC\",\n   \"engines\": {\n    \"node\": \">=16 || 14 >=14.17\"\n   }\n  },\n  \"node_modules/core-util-is\": {\n   \"version\": \"1.0.2\",\n   \"resolved\": \"https://registry.npmjs.org/core-util-is/-/core-util-is-1.0.2.tgz\",\n   \"integrity\": \"sha512-3lqz5YjWTYnW6dlDa5TLaTCcShfar1e40rmcJVwCBJC6mWlFuj0eCHIElmG1g5kyuJ/GD+8Wn4FFCcz4gJPfaQ==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"optional\": true\n  },\n  \"node_modules/crc\": {\n   \"version\": \"3.8.0\",\n   \"resolved\": \"https://registry.npmjs.org/crc/-/crc-3.8.0.tgz\",\n   \"integrity\": \"sha512-iX3mfgcTMIq3ZKLIsVFAbv7+Mc10kxabAGQb8HvjA1o3T1PIYprbakQ65d3I+2HGHt6nSKkM9PYjgoJO2KcFBQ==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"optional\": true,\n   \"dependencies\": {\n    \"buffer\": \"^5.1.0\"\n   }\n  },\n  \"node_modules/cross-spawn\": {\n   \"version\": \"7.0.6\",\n   \"resolved\": \"https://registry.npmjs.org/cross-spawn/-/cross-spawn-7.0.6.tgz\",\n   \"integrity\": \"sha512-uV2QOWP2nWzsy2aMp8aRibhi9dlzF5Hgh5SHaB9OiTGEyDTiJJyx0uy51QXdyWbtAHNua4XJzUKca3OzKUd3vA==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"path-key\": \"^3.1.0\",\n    \"shebang-command\": \"^2.0.0\",\n    \"which\": \"^2.0.1\"\n   },\n   \"engines\": {\n    \"node\": \">= 8\"\n   }\n  },\n  \"node_modules/debug\": {\n   \"version\": \"4.4.3\",\n   \"resolved\": \"https://registry.npmjs.org/debug/-/debug-4.4.3.tgz\",\n   \"integrity\": \"sha512-RGwwWnwQvkVfavKVt22FGLw+xYSdzARwm0ru6DhTVA3umU5hZc28V3kO4stgYryrTlLpuvgI9GiijltAjNbcqA==\",\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"ms\": \"^2.1.3\"\n   },\n   \"engines\": {\n    \"node\": \">=6.0\"\n   },\n   \"peerDependenciesMeta\": {\n    \"supports-color\": {\n     \"optional\": true\n    }\n   }\n  },\n  \"node_modules/decompress-response\": {\n   \"version\": \"6.0.0\",\n   \"resolved\": \"https://registry.npmjs.org/decompress-response/-/decompress-response-6.0.0.tgz\",\n   \"integrity\": \"sha512-aW35yZM6Bb/4oJlZncMH2LCoZtJXTRxES17vE3hoRiowU2kWHaJKFkSBDnDR+cm9J+9QhXmREyIfv0pji9ejCQ==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"mimic-response\": \"^3.1.0\"\n   },\n   \"engines\": {\n    \"node\": \">=10\"\n   },\n   \"funding\": {\n    \"url\": \"https://github.com/sponsors/sindresorhus\"\n   }\n  },\n  \"node_modules/decompress-response/node_modules/mimic-response\": {\n   \"version\": \"3.1.0\",\n   \"resolved\": \"https://registry.npmjs.org/mimic-response/-/mimic-response-3.1.0.tgz\",\n   \"integrity\": \"sha512-z0yWI+4FDrrweS8Zmt4Ej5HdJmky15+L2e6Wgn3+iK5fWzb6T3fhNFq2+MeTRb064c6Wr4N/wv0DzQTjNzHNGQ==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"engines\": {\n    \"node\": \">=10\"\n   },\n   \"funding\": {\n    \"url\": \"https://github.com/sponsors/sindresorhus\"\n   }\n  },\n  \"node_modules/defer-to-connect\": {\n   \"version\": \"2.0.1\",\n   \"resolved\": \"https://registry.npmjs.org/defer-to-connect/-/defer-to-connect-2.0.1.tgz\",\n   \"integrity\": \"sha512-4tvttepXG1VaYGrRibk5EwJd1t4udunSOVMdLSAL6mId1ix438oPwPZMALY41FCijukO1L0twNcGsdzS7dHgDg==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"engines\": {\n    \"node\": \">=10\"\n   }\n  },\n  \"node_modules/define-data-property\": {\n   \"version\": \"1.1.4\",\n   \"resolved\": \"https://registry.npmjs.org/define-data-property/-/define-data-property-1.1.4.tgz\",\n   \"integrity\": \"sha512-rBMvIzlpA8v6E+SJZoo++HAYqsLrkg7MSfIinMPFhmkorw7X+dOXVJQs+QT69zGkzMyfDnIMN2Wid1+NbL3T+A==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"optional\": true,\n   \"dependencies\": {\n    \"es-define-property\": \"^1.0.0\",\n    \"es-errors\": \"^1.3.0\",\n    \"gopd\": \"^1.0.1\"\n   },\n   \"engines\": {\n    \"node\": \">= 0.4\"\n   },\n   \"funding\": {\n    \"url\": \"https://github.com/sponsors/ljharb\"\n   }\n  },\n  \"node_modules/define-properties\": {\n   \"version\": \"1.2.1\",\n   \"resolved\": \"https://registry.npmjs.org/define-properties/-/define-properties-1.2.1.tgz\",\n   \"integrity\": \"sha512-8QmQKqEASLd5nx0U1B1okLElbUuuttJ/AnYmRXbbbGDWh6uS208EjD4Xqq/I9wK7u0v6O08XhTWnt5XtEbR6Dg==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"optional\": true,\n   \"dependencies\": {\n    \"define-data-property\": \"^1.0.1\",\n    \"has-property-descriptors\": \"^1.0.0\",\n    \"object-keys\": \"^1.1.1\"\n   },\n   \"engines\": {\n    \"node\": \">= 0.4\"\n   },\n   \"funding\": {\n    \"url\": \"https://github.com/sponsors/ljharb\"\n   }\n  },\n  \"node_modules/delayed-stream\": {\n   \"version\": \"1.0.0\",\n   \"resolved\": \"https://registry.npmjs.org/delayed-stream/-/delayed-stream-1.0.0.tgz\",\n   \"integrity\": \"sha512-ZySD7Nf91aLB0RxL4KGrKHBXl7Eds1DAmEdcoVawXnLD7SDhpNgtuII2aAkg7a7QS41jxPSZ17p4VdGnMHk3MQ==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"engines\": {\n    \"node\": \">=0.4.0\"\n   }\n  },\n  \"node_modules/detect-node\": {\n   \"version\": \"2.1.0\",\n   \"resolved\": \"https://registry.npmjs.org/detect-node/-/detect-node-2.1.0.tgz\",\n   \"integrity\": \"sha512-T0NIuQpnTvFDATNuHN5roPwSBG83rFsuO+MXXH9/3N1eFbn4wcPjttvjMLEPWJ0RGUYgQE7cGgS3tNxbqCGM7g==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"optional\": true\n  },\n  \"node_modules/dir-compare\": {\n   \"version\": \"3.3.0\",\n   \"resolved\": \"https://registry.npmjs.org/dir-compare/-/dir-compare-3.3.0.tgz\",\n   \"integrity\": \"sha512-J7/et3WlGUCxjdnD3HAAzQ6nsnc0WL6DD7WcwJb7c39iH1+AWfg+9OqzJNaI6PkBwBvm1mhZNL9iY/nRiZXlPg==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"buffer-equal\": \"^1.0.0\",\n    \"minimatch\": \"^3.0.4\"\n   }\n  },\n  \"node_modules/dir-compare/node_modules/brace-expansion\": {\n   \"version\": \"1.1.12\",\n   \"resolved\": \"https://registry.npmjs.org/brace-expansion/-/brace-expansion-1.1.12.tgz\",\n   \"integrity\": \"sha512-9T9UjW3r0UW5c1Q7GTwllptXwhvYmEzFhzMfZ9H7FQWt+uZePjZPjBP/W1ZEyZ1twGWom5/56TF4lPcqjnDHcg==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"balanced-match\": \"^1.0.0\",\n    \"concat-map\": \"0.0.1\"\n   }\n  },\n  \"node_modules/dir-compare/node_modules/minimatch\": {\n   \"version\": \"3.1.2\",\n   \"resolved\": \"https://registry.npmjs.org/minimatch/-/minimatch-3.1.2.tgz\",\n   \"integrity\": \"sha512-J7p63hRiAjw1NDEww1W7i37+ByIrOWO5XQQAzZ3VOcL0PNybwpfmV/N05zFAzwQ9USyEcX6t3UO+K5aqBQOIHw==\",\n   \"dev\": true,\n   \"license\": \"ISC\",\n   \"dependencies\": {\n    \"brace-expansion\": \"^1.1.7\"\n   },\n   \"engines\": {\n    \"node\": \"*\"\n   }\n  },\n  \"node_modules/dmg-builder\": {\n   \"version\": \"24.9.1\",\n   \"resolved\": \"https://registry.npmjs.org/dmg-builder/-/dmg-builder-24.9.1.tgz\",\n   \"integrity\": \"sha512-huC+O6hvHd24Ubj3cy2GMiGLe2xGFKN3klqVMLAdcbB6SWMd1yPSdZvV8W1O01ICzCCRlZDHiv4VrNUgnPUfbQ==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"app-builder-lib\": \"24.9.1\",\n    \"builder-util\": \"24.8.1\",\n    \"builder-util-runtime\": \"9.2.3\",\n    \"fs-extra\": \"^10.1.0\",\n    \"iconv-lite\": \"^0.6.2\",\n    \"js-yaml\": \"^4.1.0\"\n   },\n   \"optionalDependencies\": {\n    \"dmg-license\": \"^1.0.11\"\n   }\n  },\n  \"node_modules/dmg-builder/node_modules/fs-extra\": {\n   \"version\": \"10.1.0\",\n   \"resolved\": \"https://registry.npmjs.org/fs-extra/-/fs-extra-10.1.0.tgz\",\n   \"integrity\": \"sha512-oRXApq54ETRj4eMiFzGnHWGy+zo5raudjuxN0b8H7s/RU2oW0Wvsx9O0ACRN/kRq9E8Vu/ReskGB5o3ji+FzHQ==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"graceful-fs\": \"^4.2.0\",\n    \"jsonfile\": \"^6.0.1\",\n    \"universalify\": \"^2.0.0\"\n   },\n   \"engines\": {\n    \"node\": \">=12\"\n   }\n  },\n  \"node_modules/dmg-builder/node_modules/jsonfile\": {\n   \"version\": \"6.2.0\",\n   \"resolved\": \"https://registry.npmjs.org/jsonfile/-/jsonfile-6.2.0.tgz\",\n   \"integrity\": \"sha512-FGuPw30AdOIUTRMC2OMRtQV+jkVj2cfPqSeWXv1NEAJ1qZ5zb1X6z1mFhbfOB/iy3ssJCD+3KuZ8r8C3uVFlAg==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"universalify\": \"^2.0.0\"\n   },\n   \"optionalDependencies\": {\n    \"graceful-fs\": \"^4.1.6\"\n   }\n  },\n  \"node_modules/dmg-builder/node_modules/universalify\": {\n   \"version\": \"2.0.1\",\n   \"resolved\": \"https://registry.npmjs.org/universalify/-/universalify-2.0.1.tgz\",\n   \"integrity\": \"sha512-gptHNQghINnc/vTGIk0SOFGFNXw7JVrlRUtConJRlvaw6DuX0wO5Jeko9sWrMBhh+PsYAZ7oXAiOnf/UKogyiw==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"engines\": {\n    \"node\": \">= 10.0.0\"\n   }\n  },\n  \"node_modules/dmg-license\": {\n   \"version\": \"1.0.11\",\n   \"resolved\": \"https://registry.npmjs.org/dmg-license/-/dmg-license-1.0.11.tgz\",\n   \"integrity\": \"sha512-ZdzmqwKmECOWJpqefloC5OJy1+WZBBse5+MR88z9g9Zn4VY+WYUkAyojmhzJckH5YbbZGcYIuGAkY5/Ys5OM2Q==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"optional\": true,\n   \"os\": [\n    \"darwin\"\n   ],\n   \"dependencies\": {\n    \"@types/plist\": \"^3.0.1\",\n    \"@types/verror\": \"^1.10.3\",\n    \"ajv\": \"^6.10.0\",\n    \"crc\": \"^3.8.0\",\n    \"iconv-corefoundation\": \"^1.1.7\",\n    \"plist\": \"^3.0.4\",\n    \"smart-buffer\": \"^4.0.2\",\n    \"verror\": \"^1.10.0\"\n   },\n   \"bin\": {\n    \"dmg-license\": \"bin/dmg-license.js\"\n   },\n   \"engines\": {\n    \"node\": \">=8\"\n   }\n  },\n  \"node_modules/dotenv\": {\n   \"version\": \"9.0.2\",\n   \"resolved\": \"https://registry.npmjs.org/dotenv/-/dotenv-9.0.2.tgz\",\n   \"integrity\": \"sha512-I9OvvrHp4pIARv4+x9iuewrWycX6CcZtoAu1XrzPxc5UygMJXJZYmBsynku8IkrJwgypE5DGNjDPmPRhDCptUg==\",\n   \"dev\": true,\n   \"license\": \"BSD-2-Clause\",\n   \"engines\": {\n    \"node\": \">=10\"\n   }\n  },\n  \"node_modules/dotenv-expand\": {\n   \"version\": \"5.1.0\",\n   \"resolved\": \"https://registry.npmjs.org/dotenv-expand/-/dotenv-expand-5.1.0.tgz\",\n   \"integrity\": \"sha512-YXQl1DSa4/PQyRfgrv6aoNjhasp/p4qs9FjJ4q4cQk+8m4r6k4ZSiEyytKG8f8W9gi8WsQtIObNmKd+tMzNTmA==\",\n   \"dev\": true,\n   \"license\": \"BSD-2-Clause\"\n  },\n  \"node_modules/dunder-proto\": {\n   \"version\": \"1.0.1\",\n   \"resolved\": \"https://registry.npmjs.org/dunder-proto/-/dunder-proto-1.0.1.tgz\",\n   \"integrity\": \"sha512-KIN/nDJBQRcXw0MLVhZE9iQHmG68qAVIBg9CqmUYjmQIhgij9U5MFvrqkUL5FbtyyzZuOeOt0zdeRe4UY7ct+A==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"call-bind-apply-helpers\": \"^1.0.1\",\n    \"es-errors\": \"^1.3.0\",\n    \"gopd\": \"^1.2.0\"\n   },\n   \"engines\": {\n    \"node\": \">= 0.4\"\n   }\n  },\n  \"node_modules/eastasianwidth\": {\n   \"version\": \"0.2.0\",\n   \"resolved\": \"https://registry.npmjs.org/eastasianwidth/-/eastasianwidth-0.2.0.tgz\",\n   \"integrity\": \"sha512-I88TYZWc9XiYHRQ4/3c5rjjfgkjhLyW2luGIheGERbNQ6OY7yTybanSpDXZa8y7VUP9YmDcYa+eyq4ca7iLqWA==\",\n   \"dev\": true,\n   \"license\": \"MIT\"\n  },\n  \"node_modules/ejs\": {\n   \"version\": \"3.1.10\",\n   \"resolved\": \"https://registry.npmjs.org/ejs/-/ejs-3.1.10.tgz\",\n   \"integrity\": \"sha512-UeJmFfOrAQS8OJWPZ4qtgHyWExa088/MtK5UEyoJGFH67cDEXkZSviOiKRCZ4Xij0zxI3JECgYs3oKx+AizQBA==\",\n   \"dev\": true,\n   \"license\": \"Apache-2.0\",\n   \"dependencies\": {\n    \"jake\": \"^10.8.5\"\n   },\n   \"bin\": {\n    \"ejs\": \"bin/cli.js\"\n   },\n   \"engines\": {\n    \"node\": \">=0.10.0\"\n   }\n  },\n  \"node_modules/electron\": {\n   \"version\": \"28.0.0\",\n   \"resolved\": \"https://registry.npmjs.org/electron/-/electron-28.0.0.tgz\",\n   \"integrity\": \"sha512-eDhnCFBvG0PGFVEpNIEdBvyuGUBsFdlokd+CtuCe2ER3P+17qxaRfWRxMmksCOKgDHb5Wif5UxqOkZSlA4snlw==\",\n   \"dev\": true,\n   \"hasInstallScript\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"@electron/get\": \"^2.0.0\",\n    \"@types/node\": \"^18.11.18\",\n    \"extract-zip\": \"^2.0.1\"\n   },\n   \"bin\": {\n    \"electron\": \"cli.js\"\n   },\n   \"engines\": {\n    \"node\": \">= 12.20.55\"\n   }\n  },\n  \"node_modules/electron-builder\": {\n   \"version\": \"24.9.1\",\n   \"resolved\": \"https://registry.npmjs.org/electron-builder/-/electron-builder-24.9.1.tgz\",\n   \"integrity\": \"sha512-v7BuakDuY6sKMUYM8mfQGrwyjBpZ/ObaqnenU0H+igEL10nc6ht049rsCw2HghRBdEwJxGIBuzs3jbEhNaMDmg==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"app-builder-lib\": \"24.9.1\",\n    \"builder-util\": \"24.8.1\",\n    \"builder-util-runtime\": \"9.2.3\",\n    \"chalk\": \"^4.1.2\",\n    \"dmg-builder\": \"24.9.1\",\n    \"fs-extra\": \"^10.1.0\",\n    \"is-ci\": \"^3.0.0\",\n    \"lazy-val\": \"^1.0.5\",\n    \"read-config-file\": \"6.3.2\",\n    \"simple-update-notifier\": \"2.0.0\",\n    \"yargs\": \"^17.6.2\"\n   },\n   \"bin\": {\n    \"electron-builder\": \"cli.js\",\n    \"install-app-deps\": \"install-app-deps.js\"\n   },\n   \"engines\": {\n    \"node\": \">=14.0.0\"\n   }\n  },\n  \"node_modules/electron-builder/node_modules/fs-extra\": {\n   \"version\": \"10.1.0\",\n   \"resolved\": \"https://registry.npmjs.org/fs-extra/-/fs-extra-10.1.0.tgz\",\n   \"integrity\": \"sha512-oRXApq54ETRj4eMiFzGnHWGy+zo5raudjuxN0b8H7s/RU2oW0Wvsx9O0ACRN/kRq9E8Vu/ReskGB5o3ji+FzHQ==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"graceful-fs\": \"^4.2.0\",\n    \"jsonfile\": \"^6.0.1\",\n    \"universalify\": \"^2.0.0\"\n   },\n   \"engines\": {\n    \"node\": \">=12\"\n   }\n  },\n  \"node_modules/electron-builder/node_modules/jsonfile\": {\n   \"version\": \"6.2.0\",\n   \"resolved\": \"https://registry.npmjs.org/jsonfile/-/jsonfile-6.2.0.tgz\",\n   \"integrity\": \"sha512-FGuPw30AdOIUTRMC2OMRtQV+jkVj2cfPqSeWXv1NEAJ1qZ5zb1X6z1mFhbfOB/iy3ssJCD+3KuZ8r8C3uVFlAg==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"universalify\": \"^2.0.0\"\n   },\n   \"optionalDependencies\": {\n    \"graceful-fs\": \"^4.1.6\"\n   }\n  },\n  \"node_modules/electron-builder/node_modules/universalify\": {\n   \"version\": \"2.0.1\",\n   \"resolved\": \"https://registry.npmjs.org/universalify/-/universalify-2.0.1.tgz\",\n   \"integrity\": \"sha512-gptHNQghINnc/vTGIk0SOFGFNXw7JVrlRUtConJRlvaw6DuX0wO5Jeko9sWrMBhh+PsYAZ7oXAiOnf/UKogyiw==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"engines\": {\n    \"node\": \">= 10.0.0\"\n   }\n  },\n  \"node_modules/electron-publish\": {\n   \"version\": \"24.8.1\",\n   \"resolved\": \"https://registry.npmjs.org/electron-publish/-/electron-publish-24.8.1.tgz\",\n   \"integrity\": \"sha512-IFNXkdxMVzUdweoLJNXSupXkqnvgbrn3J4vognuOY06LaS/m0xvfFYIf+o1CM8if6DuWYWoQFKPcWZt/FUjZPw==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"@types/fs-extra\": \"^9.0.11\",\n    \"builder-util\": \"24.8.1\",\n    \"builder-util-runtime\": \"9.2.3\",\n    \"chalk\": \"^4.1.2\",\n    \"fs-extra\": \"^10.1.0\",\n    \"lazy-val\": \"^1.0.5\",\n    \"mime\": \"^2.5.2\"\n   }\n  },\n  \"node_modules/electron-publish/node_modules/fs-extra\": {\n   \"version\": \"10.1.0\",\n   \"resolved\": \"https://registry.npmjs.org/fs-extra/-/fs-extra-10.1.0.tgz\",\n   \"integrity\": \"sha512-oRXApq54ETRj4eMiFzGnHWGy+zo5raudjuxN0b8H7s/RU2oW0Wvsx9O0ACRN/kRq9E8Vu/ReskGB5o3ji+FzHQ==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"graceful-fs\": \"^4.2.0\",\n    \"jsonfile\": \"^6.0.1\",\n    \"universalify\": \"^2.0.0\"\n   },\n   \"engines\": {\n    \"node\": \">=12\"\n   }\n  },\n  \"node_modules/electron-publish/node_modules/jsonfile\": {\n   \"version\": \"6.2.0\",\n   \"resolved\": \"https://registry.npmjs.org/jsonfile/-/jsonfile-6.2.0.tgz\",\n   \"integrity\": \"sha512-FGuPw30AdOIUTRMC2OMRtQV+jkVj2cfPqSeWXv1NEAJ1qZ5zb1X6z1mFhbfOB/iy3ssJCD+3KuZ8r8C3uVFlAg==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"universalify\": \"^2.0.0\"\n   },\n   \"optionalDependencies\": {\n    \"graceful-fs\": \"^4.1.6\"\n   }\n  },\n  \"node_modules/electron-publish/node_modules/universalify\": {\n   \"version\": \"2.0.1\",\n   \"resolved\": \"https://registry.npmjs.org/universalify/-/universalify-2.0.1.tgz\",\n   \"integrity\": \"sha512-gptHNQghINnc/vTGIk0SOFGFNXw7JVrlRUtConJRlvaw6DuX0wO5Jeko9sWrMBhh+PsYAZ7oXAiOnf/UKogyiw==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"engines\": {\n    \"node\": \">= 10.0.0\"\n   }\n  },\n  \"node_modules/electron-updater\": {\n   \"version\": \"6.6.2\",\n   \"resolved\": \"https://registry.npmjs.org/electron-updater/-/electron-updater-6.6.2.tgz\",\n   \"integrity\": \"sha512-Cr4GDOkbAUqRHP5/oeOmH/L2Bn6+FQPxVLZtPbcmKZC63a1F3uu5EefYOssgZXG3u/zBlubbJ5PJdITdMVggbw==\",\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"builder-util-runtime\": \"9.3.1\",\n    \"fs-extra\": \"^10.1.0\",\n    \"js-yaml\": \"^4.1.0\",\n    \"lazy-val\": \"^1.0.5\",\n    \"lodash.escaperegexp\": \"^4.1.2\",\n    \"lodash.isequal\": \"^4.5.0\",\n    \"semver\": \"^7.6.3\",\n    \"tiny-typed-emitter\": \"^2.1.0\"\n   }\n  },\n  \"node_modules/electron-updater/node_modules/builder-util-runtime\": {\n   \"version\": \"9.3.1\",\n   \"resolved\": \"https://registry.npmjs.org/builder-util-runtime/-/builder-util-runtime-9.3.1.tgz\",\n   \"integrity\": \"sha512-2/egrNDDnRaxVwK3A+cJq6UOlqOdedGA7JPqCeJjN2Zjk1/QB/6QUi3b714ScIGS7HafFXTyzJEOr5b44I3kvQ==\",\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"debug\": \"^4.3.4\",\n    \"sax\": \"^1.2.4\"\n   },\n   \"engines\": {\n    \"node\": \">=12.0.0\"\n   }\n  },\n  \"node_modules/electron-updater/node_modules/fs-extra\": {\n   \"version\": \"10.1.0\",\n   \"resolved\": \"https://registry.npmjs.org/fs-extra/-/fs-extra-10.1.0.tgz\",\n   \"integrity\": \"sha512-oRXApq54ETRj4eMiFzGnHWGy+zo5raudjuxN0b8H7s/RU2oW0Wvsx9O0ACRN/kRq9E8Vu/ReskGB5o3ji+FzHQ==\",\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"graceful-fs\": \"^4.2.0\",\n    \"jsonfile\": \"^6.0.1\",\n    \"universalify\": \"^2.0.0\"\n   },\n   \"engines\": {\n    \"node\": \">=12\"\n   }\n  },\n  \"node_modules/electron-updater/node_modules/jsonfile\": {\n   \"version\": \"6.2.0\",\n   \"resolved\": \"https://registry.npmjs.org/jsonfile/-/jsonfile-6.2.0.tgz\",\n   \"integrity\": \"sha512-FGuPw30AdOIUTRMC2OMRtQV+jkVj2cfPqSeWXv1NEAJ1qZ5zb1X6z1mFhbfOB/iy3ssJCD+3KuZ8r8C3uVFlAg==\",\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"universalify\": \"^2.0.0\"\n   },\n   \"optionalDependencies\": {\n    \"graceful-fs\": \"^4.1.6\"\n   }\n  },\n  \"node_modules/electron-updater/node_modules/semver\": {\n   \"version\": \"7.7.3\",\n   \"resolved\": \"https://registry.npmjs.org/semver/-/semver-7.7.3.tgz\",\n   \"integrity\": \"sha512-SdsKMrI9TdgjdweUSR9MweHA4EJ8YxHn8DFaDisvhVlUOe4BF1tLD7GAj0lIqWVl+dPb/rExr0Btby5loQm20Q==\",\n   \"license\": \"ISC\",\n   \"bin\": {\n    \"semver\": \"bin/semver.js\"\n   },\n   \"engines\": {\n    \"node\": \">=10\"\n   }\n  },\n  \"node_modules/electron-updater/node_modules/universalify\": {\n   \"version\": \"2.0.1\",\n   \"resolved\": \"https://registry.npmjs.org/universalify/-/universalify-2.0.1.tgz\",\n   \"integrity\": \"sha512-gptHNQghINnc/vTGIk0SOFGFNXw7JVrlRUtConJRlvaw6DuX0wO5Jeko9sWrMBhh+PsYAZ7oXAiOnf/UKogyiw==\",\n   \"license\": \"MIT\",\n   \"engines\": {\n    \"node\": \">= 10.0.0\"\n   }\n  },\n  \"node_modules/emoji-regex\": {\n   \"version\": \"8.0.0\",\n   \"resolved\": \"https://registry.npmjs.org/emoji-regex/-/emoji-regex-8.0.0.tgz\",\n   \"integrity\": \"sha512-MSjYzcWNOA0ewAHpz0MxpYFvwg6yjy1NG3xteoqz644VCo/RPgnr1/GGt+ic3iJTzQ8Eu3TdM14SawnVUmGE6A==\",\n   \"dev\": true,\n   \"license\": \"MIT\"\n  },\n  \"node_modules/end-of-stream\": {\n   \"version\": \"1.4.5\",\n   \"resolved\": \"https://registry.npmjs.org/end-of-stream/-/end-of-stream-1.4.5.tgz\",\n   \"integrity\": \"sha512-ooEGc6HP26xXq/N+GCGOT0JKCLDGrq2bQUZrQ7gyrJiZANJ/8YDTxTpQBXGMn+WbIQXNVpyWymm7KYVICQnyOg==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"once\": \"^1.4.0\"\n   }\n  },\n  \"node_modules/env-paths\": {\n   \"version\": \"2.2.1\",\n   \"resolved\": \"https://registry.npmjs.org/env-paths/-/env-paths-2.2.1.tgz\",\n   \"integrity\": \"sha512-+h1lkLKhZMTYjog1VEpJNG7NZJWcuc2DDk/qsqSTRRCOXiLjeQ1d1/udrUGhqMxUgAlwKNZ0cf2uqan5GLuS2A==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"engines\": {\n    \"node\": \">=6\"\n   }\n  },\n  \"node_modules/err-code\": {\n   \"version\": \"2.0.3\",\n   \"resolved\": \"https://registry.npmjs.org/err-code/-/err-code-2.0.3.tgz\",\n   \"integrity\": \"sha512-2bmlRpNKBxT/CRmPOlyISQpNj+qSeYvcym/uT0Jx2bMOlKLtSy1ZmLuVxSEKKyor/N5yhvp/ZiG1oE3DEYMSFA==\",\n   \"dev\": true,\n   \"license\": \"MIT\"\n  },\n  \"node_modules/es-define-property\": {\n   \"version\": \"1.0.1\",\n   \"resolved\": \"https://registry.npmjs.org/es-define-property/-/es-define-property-1.0.1.tgz\",\n   \"integrity\": \"sha512-e3nRfgfUZ4rNGL232gUgX06QNyyez04KdjFrF+LTRoOXmrOgFKDg4BCdsjW8EnT69eqdYGmRpJwiPVYNrCaW3g==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"engines\": {\n    \"node\": \">= 0.4\"\n   }\n  },\n  \"node_modules/es-errors\": {\n   \"version\": \"1.3.0\",\n   \"resolved\": \"https://registry.npmjs.org/es-errors/-/es-errors-1.3.0.tgz\",\n   \"integrity\": \"sha512-Zf5H2Kxt2xjTvbJvP2ZWLEICxA6j+hAmMzIlypy4xcBg1vKVnx89Wy0GbS+kf5cwCVFFzdCFh2XSCFNULS6csw==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"engines\": {\n    \"node\": \">= 0.4\"\n   }\n  },\n  \"node_modules/es-object-atoms\": {\n   \"version\": \"1.1.1\",\n   \"resolved\": \"https://registry.npmjs.org/es-object-atoms/-/es-object-atoms-1.1.1.tgz\",\n   \"integrity\": \"sha512-FGgH2h8zKNim9ljj7dankFPcICIK9Cp5bm+c2gQSYePhpaG5+esrLODihIorn+Pe6FGJzWhXQotPv73jTaldXA==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"es-errors\": \"^1.3.0\"\n   },\n   \"engines\": {\n    \"node\": \">= 0.4\"\n   }\n  },\n  \"node_modules/es-set-tostringtag\": {\n   \"version\": \"2.1.0\",\n   \"resolved\": \"https://registry.npmjs.org/es-set-tostringtag/-/es-set-tostringtag-2.1.0.tgz\",\n   \"integrity\": \"sha512-j6vWzfrGVfyXxge+O0x5sh6cvxAog0a/4Rdd2K36zCMV5eJ+/+tOAngRO8cODMNWbVRdVlmGZQL2YS3yR8bIUA==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"es-errors\": \"^1.3.0\",\n    \"get-intrinsic\": \"^1.2.6\",\n    \"has-tostringtag\": \"^1.0.2\",\n    \"hasown\": \"^2.0.2\"\n   },\n   \"engines\": {\n    \"node\": \">= 0.4\"\n   }\n  },\n  \"node_modules/es6-error\": {\n   \"version\": \"4.1.1\",\n   \"resolved\": \"https://registry.npmjs.org/es6-error/-/es6-error-4.1.1.tgz\",\n   \"integrity\": \"sha512-Um/+FxMr9CISWh0bi5Zv0iOD+4cFh5qLeks1qhAopKVAJw3drgKbKySikp7wGhDL0HPeaja0P5ULZrxLkniUVg==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"optional\": true\n  },\n  \"node_modules/escalade\": {\n   \"version\": \"3.2.0\",\n   \"resolved\": \"https://registry.npmjs.org/escalade/-/escalade-3.2.0.tgz\",\n   \"integrity\": \"sha512-WUj2qlxaQtO4g6Pq5c29GTcWGDyd8itL8zTlipgECz3JesAiiOKotd8JU6otB3PACgG6xkJUyVhboMS+bje/jA==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"engines\": {\n    \"node\": \">=6\"\n   }\n  },\n  \"node_modules/escape-string-regexp\": {\n   \"version\": \"4.0.0\",\n   \"resolved\": \"https://registry.npmjs.org/escape-string-regexp/-/escape-string-regexp-4.0.0.tgz\",\n   \"integrity\": \"sha512-TtpcNJ3XAzx3Gq8sWRzJaVajRs0uVxA2YAkdb1jm2YkPz4G6egUFAyA3n5vtEIZefPk5Wa4UXbKuS5fKkJWdgA==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"optional\": true,\n   \"engines\": {\n    \"node\": \">=10\"\n   },\n   \"funding\": {\n    \"url\": \"https://github.com/sponsors/sindresorhus\"\n   }\n  },\n  \"node_modules/extract-zip\": {\n   \"version\": \"2.0.1\",\n   \"resolved\": \"https://registry.npmjs.org/extract-zip/-/extract-zip-2.0.1.tgz\",\n   \"integrity\": \"sha512-GDhU9ntwuKyGXdZBUgTIe+vXnWj0fppUEtMDL0+idd5Sta8TGpHssn/eusA9mrPr9qNDym6SxAYZjNvCn/9RBg==\",\n   \"dev\": true,\n   \"license\": \"BSD-2-Clause\",\n   \"dependencies\": {\n    \"debug\": \"^4.1.1\",\n    \"get-stream\": \"^5.1.0\",\n    \"yauzl\": \"^2.10.0\"\n   },\n   \"bin\": {\n    \"extract-zip\": \"cli.js\"\n   },\n   \"engines\": {\n    \"node\": \">= 10.17.0\"\n   },\n   \"optionalDependencies\": {\n    \"@types/yauzl\": \"^2.9.1\"\n   }\n  },\n  \"node_modules/extsprintf\": {\n   \"version\": \"1.4.1\",\n   \"resolved\": \"https://registry.npmjs.org/extsprintf/-/extsprintf-1.4.1.tgz\",\n   \"integrity\": \"sha512-Wrk35e8ydCKDj/ArClo1VrPVmN8zph5V4AtHwIuHhvMXsKf73UT3BOD+azBIW+3wOJ4FhEH7zyaJCFvChjYvMA==\",\n   \"dev\": true,\n   \"engines\": [\n    \"node >=0.6.0\"\n   ],\n   \"license\": \"MIT\",\n   \"optional\": true\n  },\n  \"node_modules/fast-deep-equal\": {\n   \"version\": \"3.1.3\",\n   \"resolved\": \"https://registry.npmjs.org/fast-deep-equal/-/fast-deep-equal-3.1.3.tgz\",\n   \"integrity\": \"sha512-f3qQ9oQy9j2AhBe/H9VC91wLmKBCCU/gDOnKNAYG5hswO7BLKj09Hc5HYNz9cGI++xlpDCIgDaitVs03ATR84Q==\",\n   \"dev\": true,\n   \"license\": \"MIT\"\n  },\n  \"node_modules/fast-json-stable-stringify\": {\n   \"version\": \"2.1.0\",\n   \"resolved\": \"https://registry.npmjs.org/fast-json-stable-stringify/-/fast-json-stable-stringify-2.1.0.tgz\",\n   \"integrity\": \"sha512-lhd/wF+Lk98HZoTCtlVraHtfh5XYijIjalXck7saUtuanSDyLMxnHhSXEDJqHxD7msR8D0uCmqlkwjCV8xvwHw==\",\n   \"dev\": true,\n   \"license\": \"MIT\"\n  },\n  \"node_modules/fd-slicer\": {\n   \"version\": \"1.1.0\",\n   \"resolved\": \"https://registry.npmjs.org/fd-slicer/-/fd-slicer-1.1.0.tgz\",\n   \"integrity\": \"sha512-cE1qsB/VwyQozZ+q1dGxR8LBYNZeofhEdUNGSMbQD3Gw2lAzX9Zb3uIU6Ebc/Fmyjo9AWWfnn0AUCHqtevs/8g==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"pend\": \"~1.2.0\"\n   }\n  },\n  \"node_modules/filelist\": {\n   \"version\": \"1.0.4\",\n   \"resolved\": \"https://registry.npmjs.org/filelist/-/filelist-1.0.4.tgz\",\n   \"integrity\": \"sha512-w1cEuf3S+DrLCQL7ET6kz+gmlJdbq9J7yXCSjK/OZCPA+qEN1WyF4ZAf0YYJa4/shHJra2t/d/r8SV4Ji+x+8Q==\",\n   \"dev\": true,\n   \"license\": \"Apache-2.0\",\n   \"dependencies\": {\n    \"minimatch\": \"^5.0.1\"\n   }\n  },\n  \"node_modules/foreground-child\": {\n   \"version\": \"3.3.1\",\n   \"resolved\": \"https://registry.npmjs.org/foreground-child/-/foreground-child-3.3.1.tgz\",\n   \"integrity\": \"sha512-gIXjKqtFuWEgzFRJA9WCQeSJLZDjgJUOMCMzxtvFq/37KojM1BFGufqsCy0r4qSQmYLsZYMeyRqzIWOMup03sw==\",\n   \"dev\": true,\n   \"license\": \"ISC\",\n   \"dependencies\": {\n    \"cross-spawn\": \"^7.0.6\",\n    \"signal-exit\": \"^4.0.1\"\n   },\n   \"engines\": {\n    \"node\": \">=14\"\n   },\n   \"funding\": {\n    \"url\": \"https://github.com/sponsors/isaacs\"\n   }\n  },\n  \"node_modules/form-data\": {\n   \"version\": \"4.0.4\",\n   \"resolved\": \"https://registry.npmjs.org/form-data/-/form-data-4.0.4.tgz\",\n   \"integrity\": \"sha512-KrGhL9Q4zjj0kiUt5OO4Mr/A/jlI2jDYs5eHBpYHPcBEVSiipAvn2Ko2HnPe20rmcuuvMHNdZFp+4IlGTMF0Ow==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"asynckit\": \"^0.4.0\",\n    \"combined-stream\": \"^1.0.8\",\n    \"es-set-tostringtag\": \"^2.1.0\",\n    \"hasown\": \"^2.0.2\",\n    \"mime-types\": \"^2.1.12\"\n   },\n   \"engines\": {\n    \"node\": \">= 6\"\n   }\n  },\n  \"node_modules/fs-extra\": {\n   \"version\": \"8.1.0\",\n   \"resolved\": \"https://registry.npmjs.org/fs-extra/-/fs-extra-8.1.0.tgz\",\n   \"integrity\": \"sha512-yhlQgA6mnOJUKOsRUFsgJdQCvkKhcz8tlZG5HBQfReYZy46OwLcY+Zia0mtdHsOo9y/hP+CxMN0TU9QxoOtG4g==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"graceful-fs\": \"^4.2.0\",\n    \"jsonfile\": \"^4.0.0\",\n    \"universalify\": \"^0.1.0\"\n   },\n   \"engines\": {\n    \"node\": \">=6 <7 || >=8\"\n   }\n  },\n  \"node_modules/fs-minipass\": {\n   \"version\": \"2.1.0\",\n   \"resolved\": \"https://registry.npmjs.org/fs-minipass/-/fs-minipass-2.1.0.tgz\",\n   \"integrity\": \"sha512-V/JgOLFCS+R6Vcq0slCuaeWEdNC3ouDlJMNIsacH2VtALiu9mV4LPrHc5cDl8k5aw6J8jwgWWpiTo5RYhmIzvg==\",\n   \"dev\": true,\n   \"license\": \"ISC\",\n   \"dependencies\": {\n    \"minipass\": \"^3.0.0\"\n   },\n   \"engines\": {\n    \"node\": \">= 8\"\n   }\n  },\n  \"node_modules/fs-minipass/node_modules/minipass\": {\n   \"version\": \"3.3.6\",\n   \"resolved\": \"https://registry.npmjs.org/minipass/-/minipass-3.3.6.tgz\",\n   \"integrity\": \"sha512-DxiNidxSEK+tHG6zOIklvNOwm3hvCrbUrdtzY74U6HKTJxvIDfOUL5W5P2Ghd3DTkhhKPYGqeNUIh5qcM4YBfw==\",\n   \"dev\": true,\n   \"license\": \"ISC\",\n   \"dependencies\": {\n    \"yallist\": \"^4.0.0\"\n   },\n   \"engines\": {\n    \"node\": \">=8\"\n   }\n  },\n  \"node_modules/fs.realpath\": {\n   \"version\": \"1.0.0\",\n   \"resolved\": \"https://registry.npmjs.org/fs.realpath/-/fs.realpath-1.0.0.tgz\",\n   \"integrity\": \"sha512-OO0pH2lK6a0hZnAdau5ItzHPI6pUlvI7jMVnxUQRtw4owF2wk8lOSabtGDCTP4Ggrg2MbGnWO9X8K1t4+fGMDw==\",\n   \"dev\": true,\n   \"license\": \"ISC\"\n  },\n  \"node_modules/function-bind\": {\n   \"version\": \"1.1.2\",\n   \"resolved\": \"https://registry.npmjs.org/function-bind/-/function-bind-1.1.2.tgz\",\n   \"integrity\": \"sha512-7XHNxH7qX9xG5mIwxkhumTox/MIRNcOgDrxWsMt2pAr23WHp6MrRlN7FBSFpCpr+oVO0F744iUgR82nJMfG2SA==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"funding\": {\n    \"url\": \"https://github.com/sponsors/ljharb\"\n   }\n  },\n  \"node_modules/get-caller-file\": {\n   \"version\": \"2.0.5\",\n   \"resolved\": \"https://registry.npmjs.org/get-caller-file/-/get-caller-file-2.0.5.tgz\",\n   \"integrity\": \"sha512-DyFP3BM/3YHTQOCUL/w0OZHR0lpKeGrxotcHWcqNEdnltqFwXVfhEBQ94eIo34AfQpo0rGki4cyIiftY06h2Fg==\",\n   \"dev\": true,\n   \"license\": \"ISC\",\n   \"engines\": {\n    \"node\": \"6.* || 8.* || >= 10.*\"\n   }\n  },\n  \"node_modules/get-intrinsic\": {\n   \"version\": \"1.3.0\",\n   \"resolved\": \"https://registry.npmjs.org/get-intrinsic/-/get-intrinsic-1.3.0.tgz\",\n   \"integrity\": \"sha512-9fSjSaos/fRIVIp+xSJlE6lfwhES7LNtKaCBIamHsjr2na1BiABJPo0mOjjz8GJDURarmCPGqaiVg5mfjb98CQ==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"call-bind-apply-helpers\": \"^1.0.2\",\n    \"es-define-property\": \"^1.0.1\",\n    \"es-errors\": \"^1.3.0\",\n    \"es-object-atoms\": \"^1.1.1\",\n    \"function-bind\": \"^1.1.2\",\n    \"get-proto\": \"^1.0.1\",\n    \"gopd\": \"^1.2.0\",\n    \"has-symbols\": \"^1.1.0\",\n    \"hasown\": \"^2.0.2\",\n    \"math-intrinsics\": \"^1.1.0\"\n   },\n   \"engines\": {\n    \"node\": \">= 0.4\"\n   },\n   \"funding\": {\n    \"url\": \"https://github.com/sponsors/ljharb\"\n   }\n  },\n  \"node_modules/get-proto\": {\n   \"version\": \"1.0.1\",\n   \"resolved\": \"https://registry.npmjs.org/get-proto/-/get-proto-1.0.1.tgz\",\n   \"integrity\": \"sha512-sTSfBjoXBp89JvIKIefqw7U2CCebsc74kiY6awiGogKtoSGbgjYE/G/+l9sF3MWFPNc9IcoOC4ODfKHfxFmp0g==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"dunder-proto\": \"^1.0.1\",\n    \"es-object-atoms\": \"^1.0.0\"\n   },\n   \"engines\": {\n    \"node\": \">= 0.4\"\n   }\n  },\n  \"node_modules/get-stream\": {\n   \"version\": \"5.2.0\",\n   \"resolved\": \"https://registry.npmjs.org/get-stream/-/get-stream-5.2.0.tgz\",\n   \"integrity\": \"sha512-nBF+F1rAZVCu/p7rjzgA+Yb4lfYXrpl7a6VmJrU8wF9I1CKvP/QwPNZHnOlwbTkY6dvtFIzFMSyQXbLoTQPRpA==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"pump\": \"^3.0.0\"\n   },\n   \"engines\": {\n    \"node\": \">=8\"\n   },\n   \"funding\": {\n    \"url\": \"https://github.com/sponsors/sindresorhus\"\n   }\n  },\n  \"node_modules/glob\": {\n   \"version\": \"7.2.3\",\n   \"resolved\": \"https://registry.npmjs.org/glob/-/glob-7.2.3.tgz\",\n   \"integrity\": \"sha512-nFR0zLpU2YCaRxwoCJvL6UvCH2JFyFVIvwTLsIf21AuHlMskA1hhTdk+LlYJtOlYt9v6dvszD2BGRqBL+iQK9Q==\",\n   \"deprecated\": \"Glob versions prior to v9 are no longer supported\",\n   \"dev\": true,\n   \"license\": \"ISC\",\n   \"dependencies\": {\n    \"fs.realpath\": \"^1.0.0\",\n    \"inflight\": \"^1.0.4\",\n    \"inherits\": \"2\",\n    \"minimatch\": \"^3.1.1\",\n    \"once\": \"^1.3.0\",\n    \"path-is-absolute\": \"^1.0.0\"\n   },\n   \"engines\": {\n    \"node\": \"*\"\n   },\n   \"funding\": {\n    \"url\": \"https://github.com/sponsors/isaacs\"\n   }\n  },\n  \"node_modules/glob/node_modules/brace-expansion\": {\n   \"version\": \"1.1.12\",\n   \"resolved\": \"https://registry.npmjs.org/brace-expansion/-/brace-expansion-1.1.12.tgz\",\n   \"integrity\": \"sha512-9T9UjW3r0UW5c1Q7GTwllptXwhvYmEzFhzMfZ9H7FQWt+uZePjZPjBP/W1ZEyZ1twGWom5/56TF4lPcqjnDHcg==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"balanced-match\": \"^1.0.0\",\n    \"concat-map\": \"0.0.1\"\n   }\n  },\n  \"node_modules/glob/node_modules/minimatch\": {\n   \"version\": \"3.1.2\",\n   \"resolved\": \"https://registry.npmjs.org/minimatch/-/minimatch-3.1.2.tgz\",\n   \"integrity\": \"sha512-J7p63hRiAjw1NDEww1W7i37+ByIrOWO5XQQAzZ3VOcL0PNybwpfmV/N05zFAzwQ9USyEcX6t3UO+K5aqBQOIHw==\",\n   \"dev\": true,\n   \"license\": \"ISC\",\n   \"dependencies\": {\n    \"brace-expansion\": \"^1.1.7\"\n   },\n   \"engines\": {\n    \"node\": \"*\"\n   }\n  },\n  \"node_modules/global-agent\": {\n   \"version\": \"3.0.0\",\n   \"resolved\": \"https://registry.npmjs.org/global-agent/-/global-agent-3.0.0.tgz\",\n   \"integrity\": \"sha512-PT6XReJ+D07JvGoxQMkT6qji/jVNfX/h364XHZOWeRzy64sSFr+xJ5OX7LI3b4MPQzdL4H8Y8M0xzPpsVMwA8Q==\",\n   \"dev\": true,\n   \"license\": \"BSD-3-Clause\",\n   \"optional\": true,\n   \"dependencies\": {\n    \"boolean\": \"^3.0.1\",\n    \"es6-error\": \"^4.1.1\",\n    \"matcher\": \"^3.0.0\",\n    \"roarr\": \"^2.15.3\",\n    \"semver\": \"^7.3.2\",\n    \"serialize-error\": \"^7.0.1\"\n   },\n   \"engines\": {\n    \"node\": \">=10.0\"\n   }\n  },\n  \"node_modules/global-agent/node_modules/semver\": {\n   \"version\": \"7.7.3\",\n   \"resolved\": \"https://registry.npmjs.org/semver/-/semver-7.7.3.tgz\",\n   \"integrity\": \"sha512-SdsKMrI9TdgjdweUSR9MweHA4EJ8YxHn8DFaDisvhVlUOe4BF1tLD7GAj0lIqWVl+dPb/rExr0Btby5loQm20Q==\",\n   \"dev\": true,\n   \"license\": \"ISC\",\n   \"optional\": true,\n   \"bin\": {\n    \"semver\": \"bin/semver.js\"\n   },\n   \"engines\": {\n    \"node\": \">=10\"\n   }\n  },\n  \"node_modules/globalthis\": {\n   \"version\": \"1.0.4\",\n   \"resolved\": \"https://registry.npmjs.org/globalthis/-/globalthis-1.0.4.tgz\",\n   \"integrity\": \"sha512-DpLKbNU4WylpxJykQujfCcwYWiV/Jhm50Goo0wrVILAv5jOr9d+H+UR3PhSCD2rCCEIg0uc+G+muBTwD54JhDQ==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"optional\": true,\n   \"dependencies\": {\n    \"define-properties\": \"^1.2.1\",\n    \"gopd\": \"^1.0.1\"\n   },\n   \"engines\": {\n    \"node\": \">= 0.4\"\n   },\n   \"funding\": {\n    \"url\": \"https://github.com/sponsors/ljharb\"\n   }\n  },\n  \"node_modules/gopd\": {\n   \"version\": \"1.2.0\",\n   \"resolved\": \"https://registry.npmjs.org/gopd/-/gopd-1.2.0.tgz\",\n   \"integrity\": \"sha512-ZUKRh6/kUFoAiTAtTYPZJ3hw9wNxx+BIBOijnlG9PnrJsCcSjs1wyyD6vJpaYtgnzDrKYRSqf3OO6Rfa93xsRg==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"engines\": {\n    \"node\": \">= 0.4\"\n   },\n   \"funding\": {\n    \"url\": \"https://github.com/sponsors/ljharb\"\n   }\n  },\n  \"node_modules/got\": {\n   \"version\": \"11.8.6\",\n   \"resolved\": \"https://registry.npmjs.org/got/-/got-11.8.6.tgz\",\n   \"integrity\": \"sha512-6tfZ91bOr7bOXnK7PRDCGBLa1H4U080YHNaAQ2KsMGlLEzRbk44nsZF2E1IeRc3vtJHPVbKCYgdFbaGO2ljd8g==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"@sindresorhus/is\": \"^4.0.0\",\n    \"@szmarczak/http-timer\": \"^4.0.5\",\n    \"@types/cacheable-request\": \"^6.0.1\",\n    \"@types/responselike\": \"^1.0.0\",\n    \"cacheable-lookup\": \"^5.0.3\",\n    \"cacheable-request\": \"^7.0.2\",\n    \"decompress-response\": \"^6.0.0\",\n    \"http2-wrapper\": \"^1.0.0-beta.5.2\",\n    \"lowercase-keys\": \"^2.0.0\",\n    \"p-cancelable\": \"^2.0.0\",\n    \"responselike\": \"^2.0.0\"\n   },\n   \"engines\": {\n    \"node\": \">=10.19.0\"\n   },\n   \"funding\": {\n    \"url\": \"https://github.com/sindresorhus/got?sponsor=1\"\n   }\n  },\n  \"node_modules/graceful-fs\": {\n   \"version\": \"4.2.11\",\n   \"resolved\": \"https://registry.npmjs.org/graceful-fs/-/graceful-fs-4.2.11.tgz\",\n   \"integrity\": \"sha512-RbJ5/jmFcNNCcDV5o9eTnBLJ/HszWV0P73bc+Ff4nS/rJj+YaS6IGyiOL0VoBYX+l1Wrl3k63h/KrH+nhJ0XvQ==\",\n   \"license\": \"ISC\"\n  },\n  \"node_modules/has-flag\": {\n   \"version\": \"4.0.0\",\n   \"resolved\": \"https://registry.npmjs.org/has-flag/-/has-flag-4.0.0.tgz\",\n   \"integrity\": \"sha512-EykJT/Q1KjTWctppgIAgfSO0tKVuZUjhgMr17kqTumMl6Afv3EISleU7qZUzoXDFTAHTDC4NOoG/ZxU3EvlMPQ==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"engines\": {\n    \"node\": \">=8\"\n   }\n  },\n  \"node_modules/has-property-descriptors\": {\n   \"version\": \"1.0.2\",\n   \"resolved\": \"https://registry.npmjs.org/has-property-descriptors/-/has-property-descriptors-1.0.2.tgz\",\n   \"integrity\": \"sha512-55JNKuIW+vq4Ke1BjOTjM2YctQIvCT7GFzHwmfZPGo5wnrgkid0YQtnAleFSqumZm4az3n2BS+erby5ipJdgrg==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"optional\": true,\n   \"dependencies\": {\n    \"es-define-property\": \"^1.0.0\"\n   },\n   \"funding\": {\n    \"url\": \"https://github.com/sponsors/ljharb\"\n   }\n  },\n  \"node_modules/has-symbols\": {\n   \"version\": \"1.1.0\",\n   \"resolved\": \"https://registry.npmjs.org/has-symbols/-/has-symbols-1.1.0.tgz\",\n   \"integrity\": \"sha512-1cDNdwJ2Jaohmb3sg4OmKaMBwuC48sYni5HUw2DvsC8LjGTLK9h+eb1X6RyuOHe4hT0ULCW68iomhjUoKUqlPQ==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"engines\": {\n    \"node\": \">= 0.4\"\n   },\n   \"funding\": {\n    \"url\": \"https://github.com/sponsors/ljharb\"\n   }\n  },\n  \"node_modules/has-tostringtag\": {\n   \"version\": \"1.0.2\",\n   \"resolved\": \"https://registry.npmjs.org/has-tostringtag/-/has-tostringtag-1.0.2.tgz\",\n   \"integrity\": \"sha512-NqADB8VjPFLM2V0VvHUewwwsw0ZWBaIdgo+ieHtK3hasLz4qeCRjYcqfB6AQrBggRKppKF8L52/VqdVsO47Dlw==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"has-symbols\": \"^1.0.3\"\n   },\n   \"engines\": {\n    \"node\": \">= 0.4\"\n   },\n   \"funding\": {\n    \"url\": \"https://github.com/sponsors/ljharb\"\n   }\n  },\n  \"node_modules/hasown\": {\n   \"version\": \"2.0.2\",\n   \"resolved\": \"https://registry.npmjs.org/hasown/-/hasown-2.0.2.tgz\",\n   \"integrity\": \"sha512-0hJU9SCPvmMzIBdZFqNPXWa6dqh7WdH0cII9y+CyS8rG3nL48Bclra9HmKhVVUHyPWNH5Y7xDwAB7bfgSjkUMQ==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"function-bind\": \"^1.1.2\"\n   },\n   \"engines\": {\n    \"node\": \">= 0.4\"\n   }\n  },\n  \"node_modules/hosted-git-info\": {\n   \"version\": \"4.1.0\",\n   \"resolved\": \"https://registry.npmjs.org/hosted-git-info/-/hosted-git-info-4.1.0.tgz\",\n   \"integrity\": \"sha512-kyCuEOWjJqZuDbRHzL8V93NzQhwIB71oFWSyzVo+KPZI+pnQPPxucdkrOZvkLRnrf5URsQM+IJ09Dw29cRALIA==\",\n   \"dev\": true,\n   \"license\": \"ISC\",\n   \"dependencies\": {\n    \"lru-cache\": \"^6.0.0\"\n   },\n   \"engines\": {\n    \"node\": \">=10\"\n   }\n  },\n  \"node_modules/http-cache-semantics\": {\n   \"version\": \"4.2.0\",\n   \"resolved\": \"https://registry.npmjs.org/http-cache-semantics/-/http-cache-semantics-4.2.0.tgz\",\n   \"integrity\": \"sha512-dTxcvPXqPvXBQpq5dUr6mEMJX4oIEFv6bwom3FDwKRDsuIjjJGANqhBuoAn9c1RQJIdAKav33ED65E2ys+87QQ==\",\n   \"dev\": true,\n   \"license\": \"BSD-2-Clause\"\n  },\n  \"node_modules/http-proxy-agent\": {\n   \"version\": \"5.0.0\",\n   \"resolved\": \"https://registry.npmjs.org/http-proxy-agent/-/http-proxy-agent-5.0.0.tgz\",\n   \"integrity\": \"sha512-n2hY8YdoRE1i7r6M0w9DIw5GgZN0G25P8zLCRQ8rjXtTU3vsNFBI/vWK/UIeE6g5MUUz6avwAPXmL6Fy9D/90w==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"@tootallnate/once\": \"2\",\n    \"agent-base\": \"6\",\n    \"debug\": \"4\"\n   },\n   \"engines\": {\n    \"node\": \">= 6\"\n   }\n  },\n  \"node_modules/http2-wrapper\": {\n   \"version\": \"1.0.3\",\n   \"resolved\": \"https://registry.npmjs.org/http2-wrapper/-/http2-wrapper-1.0.3.tgz\",\n   \"integrity\": \"sha512-V+23sDMr12Wnz7iTcDeJr3O6AIxlnvT/bmaAAAP/Xda35C90p9599p0F1eHR/N1KILWSoWVAiOMFjBBXaXSMxg==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"quick-lru\": \"^5.1.1\",\n    \"resolve-alpn\": \"^1.0.0\"\n   },\n   \"engines\": {\n    \"node\": \">=10.19.0\"\n   }\n  },\n  \"node_modules/https-proxy-agent\": {\n   \"version\": \"5.0.1\",\n   \"resolved\": \"https://registry.npmjs.org/https-proxy-agent/-/https-proxy-agent-5.0.1.tgz\",\n   \"integrity\": \"sha512-dFcAjpTQFgoLMzC2VwU+C/CbS7uRL0lWmxDITmqm7C+7F0Odmj6s9l6alZc6AELXhrnggM2CeWSXHGOdX2YtwA==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"agent-base\": \"6\",\n    \"debug\": \"4\"\n   },\n   \"engines\": {\n    \"node\": \">= 6\"\n   }\n  },\n  \"node_modules/iconv-corefoundation\": {\n   \"version\": \"1.1.7\",\n   \"resolved\": \"https://registry.npmjs.org/iconv-corefoundation/-/iconv-corefoundation-1.1.7.tgz\",\n   \"integrity\": \"sha512-T10qvkw0zz4wnm560lOEg0PovVqUXuOFhhHAkixw8/sycy7TJt7v/RrkEKEQnAw2viPSJu6iAkErxnzR0g8PpQ==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"optional\": true,\n   \"os\": [\n    \"darwin\"\n   ],\n   \"dependencies\": {\n    \"cli-truncate\": \"^2.1.0\",\n    \"node-addon-api\": \"^1.6.3\"\n   },\n   \"engines\": {\n    \"node\": \"^8.11.2 || >=10\"\n   }\n  },\n  \"node_modules/iconv-lite\": {\n   \"version\": \"0.6.3\",\n   \"resolved\": \"https://registry.npmjs.org/iconv-lite/-/iconv-lite-0.6.3.tgz\",\n   \"integrity\": \"sha512-4fCk79wshMdzMp2rH06qWrJE4iolqLhCUH+OiuIgU++RB0+94NlDL81atO7GX55uUKueo0txHNtvEyI6D7WdMw==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"safer-buffer\": \">= 2.1.2 < 3.0.0\"\n   },\n   \"engines\": {\n    \"node\": \">=0.10.0\"\n   }\n  },\n  \"node_modules/ieee754\": {\n   \"version\": \"1.2.1\",\n   \"resolved\": \"https://registry.npmjs.org/ieee754/-/ieee754-1.2.1.tgz\",\n   \"integrity\": \"sha512-dcyqhDvX1C46lXZcVqCpK+FtMRQVdIMN6/Df5js2zouUsqG7I6sFxitIC+7KYK29KdXOLHdu9zL4sFnoVQnqaA==\",\n   \"dev\": true,\n   \"funding\": [\n    {\n     \"type\": \"github\",\n     \"url\": \"https://github.com/sponsors/feross\"\n    },\n    {\n     \"type\": \"patreon\",\n     \"url\": \"https://www.patreon.com/feross\"\n    },\n    {\n     \"type\": \"consulting\",\n     \"url\": \"https://feross.org/support\"\n    }\n   ],\n   \"license\": \"BSD-3-Clause\",\n   \"optional\": true\n  },\n  \"node_modules/inflight\": {\n   \"version\": \"1.0.6\",\n   \"resolved\": \"https://registry.npmjs.org/inflight/-/inflight-1.0.6.tgz\",\n   \"integrity\": \"sha512-k92I/b08q4wvFscXCLvqfsHCrjrF7yiXsQuIVvVE7N82W3+aqpzuUdBbfhWcy/FZR3/4IgflMgKLOsvPDrGCJA==\",\n   \"deprecated\": \"This module is not supported, and leaks memory. Do not use it. Check out lru-cache if you want a good and tested way to coalesce async requests by a key value, which is much more comprehensive and powerful.\",\n   \"dev\": true,\n   \"license\": \"ISC\",\n   \"dependencies\": {\n    \"once\": \"^1.3.0\",\n    \"wrappy\": \"1\"\n   }\n  },\n  \"node_modules/inherits\": {\n   \"version\": \"2.0.4\",\n   \"resolved\": \"https://registry.npmjs.org/inherits/-/inherits-2.0.4.tgz\",\n   \"integrity\": \"sha512-k/vGaX4/Yla3WzyMCvTQOXYeIHvqOKtnqBduzTHpzpQZzAskKMhZ2K+EnBiSM9zGSoIFeMpXKxa4dYeZIQqewQ==\",\n   \"dev\": true,\n   \"license\": \"ISC\"\n  },\n  \"node_modules/is-ci\": {\n   \"version\": \"3.0.1\",\n   \"resolved\": \"https://registry.npmjs.org/is-ci/-/is-ci-3.0.1.tgz\",\n   \"integrity\": \"sha512-ZYvCgrefwqoQ6yTyYUbQu64HsITZ3NfKX1lzaEYdkTDcfKzzCI/wthRRYKkdjHKFVgNiXKAKm65Zo1pk2as/QQ==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"ci-info\": \"^3.2.0\"\n   },\n   \"bin\": {\n    \"is-ci\": \"bin.js\"\n   }\n  },\n  \"node_modules/is-fullwidth-code-point\": {\n   \"version\": \"3.0.0\",\n   \"resolved\": \"https://registry.npmjs.org/is-fullwidth-code-point/-/is-fullwidth-code-point-3.0.0.tgz\",\n   \"integrity\": \"sha512-zymm5+u+sCsSWyD9qNaejV3DFvhCKclKdizYaJUuHA83RLjb7nSuGnddCHGv0hk+KY7BMAlsWeK4Ueg6EV6XQg==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"engines\": {\n    \"node\": \">=8\"\n   }\n  },\n  \"node_modules/isbinaryfile\": {\n   \"version\": \"5.0.7\",\n   \"resolved\": \"https://registry.npmjs.org/isbinaryfile/-/isbinaryfile-5.0.7.tgz\",\n   \"integrity\": \"sha512-gnWD14Jh3FzS3CPhF0AxNOJ8CxqeblPTADzI38r0wt8ZyQl5edpy75myt08EG2oKvpyiqSqsx+Wkz9vtkbTqYQ==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"engines\": {\n    \"node\": \">= 18.0.0\"\n   },\n   \"funding\": {\n    \"url\": \"https://github.com/sponsors/gjtorikian/\"\n   }\n  },\n  \"node_modules/isexe\": {\n   \"version\": \"2.0.0\",\n   \"resolved\": \"https://registry.npmjs.org/isexe/-/isexe-2.0.0.tgz\",\n   \"integrity\": \"sha512-RHxMLp9lnKHGHRng9QFhRCMbYAcVpn69smSGcq3f36xjgVVWThj4qqLbTLlq7Ssj8B+fIQ1EuCEGI2lKsyQeIw==\",\n   \"dev\": true,\n   \"license\": \"ISC\"\n  },\n  \"node_modules/jackspeak\": {\n   \"version\": \"3.4.3\",\n   \"resolved\": \"https://registry.npmjs.org/jackspeak/-/jackspeak-3.4.3.tgz\",\n   \"integrity\": \"sha512-OGlZQpz2yfahA/Rd1Y8Cd9SIEsqvXkLVoSw/cgwhnhFMDbsQFeZYoJJ7bIZBS9BcamUW96asq/npPWugM+RQBw==\",\n   \"dev\": true,\n   \"license\": \"BlueOak-1.0.0\",\n   \"dependencies\": {\n    \"@isaacs/cliui\": \"^8.0.2\"\n   },\n   \"funding\": {\n    \"url\": \"https://github.com/sponsors/isaacs\"\n   },\n   \"optionalDependencies\": {\n    \"@pkgjs/parseargs\": \"^0.11.0\"\n   }\n  },\n  \"node_modules/jake\": {\n   \"version\": \"10.9.4\",\n   \"resolved\": \"https://registry.npmjs.org/jake/-/jake-10.9.4.tgz\",\n   \"integrity\": \"sha512-wpHYzhxiVQL+IV05BLE2Xn34zW1S223hvjtqk0+gsPrwd/8JNLXJgZZM/iPFsYc1xyphF+6M6EvdE5E9MBGkDA==\",\n   \"dev\": true,\n   \"license\": \"Apache-2.0\",\n   \"dependencies\": {\n    \"async\": \"^3.2.6\",\n    \"filelist\": \"^1.0.4\",\n    \"picocolors\": \"^1.1.1\"\n   },\n   \"bin\": {\n    \"jake\": \"bin/cli.js\"\n   },\n   \"engines\": {\n    \"node\": \">=10\"\n   }\n  },\n  \"node_modules/js-yaml\": {\n   \"version\": \"4.1.1\",\n   \"resolved\": \"https://registry.npmjs.org/js-yaml/-/js-yaml-4.1.1.tgz\",\n   \"integrity\": \"sha512-qQKT4zQxXl8lLwBtHMWwaTcGfFOZviOJet3Oy/xmGk2gZH677CJM9EvtfdSkgWcATZhj/55JZ0rmy3myCT5lsA==\",\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"argparse\": \"^2.0.1\"\n   },\n   \"bin\": {\n    \"js-yaml\": \"bin/js-yaml.js\"\n   }\n  },\n  \"node_modules/json-buffer\": {\n   \"version\": \"3.0.1\",\n   \"resolved\": \"https://registry.npmjs.org/json-buffer/-/json-buffer-3.0.1.tgz\",\n   \"integrity\": \"sha512-4bV5BfR2mqfQTJm+V5tPPdf+ZpuhiIvTuAB5g8kcrXOZpTT/QwwVRWBywX1ozr6lEuPdbHxwaJlm9G6mI2sfSQ==\",\n   \"dev\": true,\n   \"license\": \"MIT\"\n  },\n  \"node_modules/json-schema-traverse\": {\n   \"version\": \"0.4.1\",\n   \"resolved\": \"https://registry.npmjs.org/json-schema-traverse/-/json-schema-traverse-0.4.1.tgz\",\n   \"integrity\": \"sha512-xbbCH5dCYU5T8LcEhhuh7HJ88HXuW3qsI3Y0zOZFKfZEHcpWiHU/Jxzk629Brsab/mMiHQti9wMP+845RPe3Vg==\",\n   \"dev\": true,\n   \"license\": \"MIT\"\n  },\n  \"node_modules/json-stringify-safe\": {\n   \"version\": \"5.0.1\",\n   \"resolved\": \"https://registry.npmjs.org/json-stringify-safe/-/json-stringify-safe-5.0.1.tgz\",\n   \"integrity\": \"sha512-ZClg6AaYvamvYEE82d3Iyd3vSSIjQ+odgjaTzRuO3s7toCdFKczob2i0zCh7JE8kWn17yvAWhUVxvqGwUalsRA==\",\n   \"dev\": true,\n   \"license\": \"ISC\",\n   \"optional\": true\n  },\n  \"node_modules/json5\": {\n   \"version\": \"2.2.3\",\n   \"resolved\": \"https://registry.npmjs.org/json5/-/json5-2.2.3.tgz\",\n   \"integrity\": \"sha512-XmOWe7eyHYH14cLdVPoyg+GOH3rYX++KpzrylJwSW98t3Nk+U8XOl8FWKOgwtzdb8lXGf6zYwDUzeHMWfxasyg==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"bin\": {\n    \"json5\": \"lib/cli.js\"\n   },\n   \"engines\": {\n    \"node\": \">=6\"\n   }\n  },\n  \"node_modules/jsonfile\": {\n   \"version\": \"4.0.0\",\n   \"resolved\": \"https://registry.npmjs.org/jsonfile/-/jsonfile-4.0.0.tgz\",\n   \"integrity\": \"sha512-m6F1R3z8jjlf2imQHS2Qez5sjKWQzbuuhuJ/FKYFRZvPE3PuHcSMVZzfsLhGVOkfd20obL5SWEBew5ShlquNxg==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"optionalDependencies\": {\n    \"graceful-fs\": \"^4.1.6\"\n   }\n  },\n  \"node_modules/keyv\": {\n   \"version\": \"4.5.4\",\n   \"resolved\": \"https://registry.npmjs.org/keyv/-/keyv-4.5.4.tgz\",\n   \"integrity\": \"sha512-oxVHkHR/EJf2CNXnWxRLW6mg7JyCCUcG0DtEGmL2ctUo1PNTin1PUil+r/+4r5MpVgC/fn1kjsx7mjSujKqIpw==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"json-buffer\": \"3.0.1\"\n   }\n  },\n  \"node_modules/lazy-val\": {\n   \"version\": \"1.0.5\",\n   \"resolved\": \"https://registry.npmjs.org/lazy-val/-/lazy-val-1.0.5.tgz\",\n   \"integrity\": \"sha512-0/BnGCCfyUMkBpeDgWihanIAF9JmZhHBgUhEqzvf+adhNGLoP6TaiI5oF8oyb3I45P+PcnrqihSf01M0l0G5+Q==\",\n   \"license\": \"MIT\"\n  },\n  \"node_modules/lodash\": {\n   \"version\": \"4.17.21\",\n   \"resolved\": \"https://registry.npmjs.org/lodash/-/lodash-4.17.21.tgz\",\n   \"integrity\": \"sha512-v2kDEe57lecTulaDIuNTPy3Ry4gLGJ6Z1O3vE1krgXZNrsQ+LFTGHVxVjcXPs17LhbZVGedAJv8XZ1tvj5FvSg==\",\n   \"dev\": true,\n   \"license\": \"MIT\"\n  },\n  \"node_modules/lodash.escaperegexp\": {\n   \"version\": \"4.1.2\",\n   \"resolved\": \"https://registry.npmjs.org/lodash.escaperegexp/-/lodash.escaperegexp-4.1.2.tgz\",\n   \"integrity\": \"sha512-TM9YBvyC84ZxE3rgfefxUWiQKLilstD6k7PTGt6wfbtXF8ixIJLOL3VYyV/z+ZiPLsVxAsKAFVwWlWeb2Y8Yyw==\",\n   \"license\": \"MIT\"\n  },\n  \"node_modules/lodash.isequal\": {\n   \"version\": \"4.5.0\",\n   \"resolved\": \"https://registry.npmjs.org/lodash.isequal/-/lodash.isequal-4.5.0.tgz\",\n   \"integrity\": \"sha512-pDo3lu8Jhfjqls6GkMgpahsF9kCyayhgykjyLMNFTKWrpVdAQtYyB4muAMWozBB4ig/dtWAmsMxLEI8wuz+DYQ==\",\n   \"deprecated\": \"This package is deprecated. Use require('node:util').isDeepStrictEqual instead.\",\n   \"license\": \"MIT\"\n  },\n  \"node_modules/lowercase-keys\": {\n   \"version\": \"2.0.0\",\n   \"resolved\": \"https://registry.npmjs.org/lowercase-keys/-/lowercase-keys-2.0.0.tgz\",\n   \"integrity\": \"sha512-tqNXrS78oMOE73NMxK4EMLQsQowWf8jKooH9g7xPavRT706R6bkQJ6DY2Te7QukaZsulxa30wQ7bk0pm4XiHmA==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"engines\": {\n    \"node\": \">=8\"\n   }\n  },\n  \"node_modules/lru-cache\": {\n   \"version\": \"6.0.0\",\n   \"resolved\": \"https://registry.npmjs.org/lru-cache/-/lru-cache-6.0.0.tgz\",\n   \"integrity\": \"sha512-Jo6dJ04CmSjuznwJSS3pUeWmd/H0ffTlkXXgwZi+eq1UCmqQwCh+eLsYOYCwY991i2Fah4h1BEMCx4qThGbsiA==\",\n   \"dev\": true,\n   \"license\": \"ISC\",\n   \"dependencies\": {\n    \"yallist\": \"^4.0.0\"\n   },\n   \"engines\": {\n    \"node\": \">=10\"\n   }\n  },\n  \"node_modules/matcher\": {\n   \"version\": \"3.0.0\",\n   \"resolved\": \"https://registry.npmjs.org/matcher/-/matcher-3.0.0.tgz\",\n   \"integrity\": \"sha512-OkeDaAZ/bQCxeFAozM55PKcKU0yJMPGifLwV4Qgjitu+5MoAfSQN4lsLJeXZ1b8w0x+/Emda6MZgXS1jvsapng==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"optional\": true,\n   \"dependencies\": {\n    \"escape-string-regexp\": \"^4.0.0\"\n   },\n   \"engines\": {\n    \"node\": \">=10\"\n   }\n  },\n  \"node_modules/math-intrinsics\": {\n   \"version\": \"1.1.0\",\n   \"resolved\": \"https://registry.npmjs.org/math-intrinsics/-/math-intrinsics-1.1.0.tgz\",\n   \"integrity\": \"sha512-/IXtbwEk5HTPyEwyKX6hGkYXxM9nbj64B+ilVJnC/R6B0pH5G4V3b0pVbL7DBj4tkhBAppbQUlf6F6Xl9LHu1g==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"engines\": {\n    \"node\": \">= 0.4\"\n   }\n  },\n  \"node_modules/mime\": {\n   \"version\": \"2.6.0\",\n   \"resolved\": \"https://registry.npmjs.org/mime/-/mime-2.6.0.tgz\",\n   \"integrity\": \"sha512-USPkMeET31rOMiarsBNIHZKLGgvKc/LrjofAnBlOttf5ajRvqiRA8QsenbcooctK6d6Ts6aqZXBA+XbkKthiQg==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"bin\": {\n    \"mime\": \"cli.js\"\n   },\n   \"engines\": {\n    \"node\": \">=4.0.0\"\n   }\n  },\n  \"node_modules/mime-db\": {\n   \"version\": \"1.52.0\",\n   \"resolved\": \"https://registry.npmjs.org/mime-db/-/mime-db-1.52.0.tgz\",\n   \"integrity\": \"sha512-sPU4uV7dYlvtWJxwwxHD0PuihVNiE7TyAbQ5SWxDCB9mUYvOgroQOwYQQOKPJ8CIbE+1ETVlOoK1UC2nU3gYvg==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"engines\": {\n    \"node\": \">= 0.6\"\n   }\n  },\n  \"node_modules/mime-types\": {\n   \"version\": \"2.1.35\",\n   \"resolved\": \"https://registry.npmjs.org/mime-types/-/mime-types-2.1.35.tgz\",\n   \"integrity\": \"sha512-ZDY+bPm5zTTF+YpCrAU9nK0UgICYPT0QtT1NZWFv4s++TNkcgVaT0g6+4R2uI4MjQjzysHB1zxuWL50hzaeXiw==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"mime-db\": \"1.52.0\"\n   },\n   \"engines\": {\n    \"node\": \">= 0.6\"\n   }\n  },\n  \"node_modules/mimic-response\": {\n   \"version\": \"1.0.1\",\n   \"resolved\": \"https://registry.npmjs.org/mimic-response/-/mimic-response-1.0.1.tgz\",\n   \"integrity\": \"sha512-j5EctnkH7amfV/q5Hgmoal1g2QHFJRraOtmx0JpIqkxhBhI/lJSl1nMpQ45hVarwNETOoWEimndZ4QK0RHxuxQ==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"engines\": {\n    \"node\": \">=4\"\n   }\n  },\n  \"node_modules/minimatch\": {\n   \"version\": \"5.1.6\",\n   \"resolved\": \"https://registry.npmjs.org/minimatch/-/minimatch-5.1.6.tgz\",\n   \"integrity\": \"sha512-lKwV/1brpG6mBUFHtb7NUmtABCb2WZZmm2wNiOA5hAb8VdCS4B3dtMWyvcoViccwAW/COERjXLt0zP1zXUN26g==\",\n   \"dev\": true,\n   \"license\": \"ISC\",\n   \"dependencies\": {\n    \"brace-expansion\": \"^2.0.1\"\n   },\n   \"engines\": {\n    \"node\": \">=10\"\n   }\n  },\n  \"node_modules/minimist\": {\n   \"version\": \"1.2.8\",\n   \"resolved\": \"https://registry.npmjs.org/minimist/-/minimist-1.2.8.tgz\",\n   \"integrity\": \"sha512-2yyAR8qBkN3YuheJanUpWC5U3bb5osDywNB8RzDVlDwDHbocAJveqqj1u8+SVD7jkWT4yvsHCpWqqWqAxb0zCA==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"funding\": {\n    \"url\": \"https://github.com/sponsors/ljharb\"\n   }\n  },\n  \"node_modules/minipass\": {\n   \"version\": \"5.0.0\",\n   \"resolved\": \"https://registry.npmjs.org/minipass/-/minipass-5.0.0.tgz\",\n   \"integrity\": \"sha512-3FnjYuehv9k6ovOEbyOswadCDPX1piCfhV8ncmYtHOjuPwylVWsghTLo7rabjC3Rx5xD4HDx8Wm1xnMF7S5qFQ==\",\n   \"dev\": true,\n   \"license\": \"ISC\",\n   \"engines\": {\n    \"node\": \">=8\"\n   }\n  },\n  \"node_modules/minizlib\": {\n   \"version\": \"2.1.2\",\n   \"resolved\": \"https://registry.npmjs.org/minizlib/-/minizlib-2.1.2.tgz\",\n   \"integrity\": \"sha512-bAxsR8BVfj60DWXHE3u30oHzfl4G7khkSuPW+qvpd7jFRHm7dLxOjUk1EHACJ/hxLY8phGJ0YhYHZo7jil7Qdg==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"minipass\": \"^3.0.0\",\n    \"yallist\": \"^4.0.0\"\n   },\n   \"engines\": {\n    \"node\": \">= 8\"\n   }\n  },\n  \"node_modules/minizlib/node_modules/minipass\": {\n   \"version\": \"3.3.6\",\n   \"resolved\": \"https://registry.npmjs.org/minipass/-/minipass-3.3.6.tgz\",\n   \"integrity\": \"sha512-DxiNidxSEK+tHG6zOIklvNOwm3hvCrbUrdtzY74U6HKTJxvIDfOUL5W5P2Ghd3DTkhhKPYGqeNUIh5qcM4YBfw==\",\n   \"dev\": true,\n   \"license\": \"ISC\",\n   \"dependencies\": {\n    \"yallist\": \"^4.0.0\"\n   },\n   \"engines\": {\n    \"node\": \">=8\"\n   }\n  },\n  \"node_modules/mkdirp\": {\n   \"version\": \"1.0.4\",\n   \"resolved\": \"https://registry.npmjs.org/mkdirp/-/mkdirp-1.0.4.tgz\",\n   \"integrity\": \"sha512-vVqVZQyf3WLx2Shd0qJ9xuvqgAyKPLAiqITEtqW0oIUjzo3PePDd6fW9iFz30ef7Ysp/oiWqbhszeGWW2T6Gzw==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"bin\": {\n    \"mkdirp\": \"bin/cmd.js\"\n   },\n   \"engines\": {\n    \"node\": \">=10\"\n   }\n  },\n  \"node_modules/ms\": {\n   \"version\": \"2.1.3\",\n   \"resolved\": \"https://registry.npmjs.org/ms/-/ms-2.1.3.tgz\",\n   \"integrity\": \"sha512-6FlzubTLZG3J2a/NVCAleEhjzq5oxgHyaCU9yYXvcLsvoVaHJq/s5xXI6/XXP6tz7R9xAOtHnSO/tXtF3WRTlA==\",\n   \"license\": \"MIT\"\n  },\n  \"node_modules/node-addon-api\": {\n   \"version\": \"1.7.2\",\n   \"resolved\": \"https://registry.npmjs.org/node-addon-api/-/node-addon-api-1.7.2.tgz\",\n   \"integrity\": \"sha512-ibPK3iA+vaY1eEjESkQkM0BbCqFOaZMiXRTtdB0u7b4djtY6JnsjvPdUHVMg6xQt3B8fpTTWHI9A+ADjM9frzg==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"optional\": true\n  },\n  \"node_modules/normalize-url\": {\n   \"version\": \"6.1.0\",\n   \"resolved\": \"https://registry.npmjs.org/normalize-url/-/normalize-url-6.1.0.tgz\",\n   \"integrity\": \"sha512-DlL+XwOy3NxAQ8xuC0okPgK46iuVNAK01YN7RueYBqqFeGsBjV9XmCAzAdgt+667bCl5kPh9EqKKDwnaPG1I7A==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"engines\": {\n    \"node\": \">=10\"\n   },\n   \"funding\": {\n    \"url\": \"https://github.com/sponsors/sindresorhus\"\n   }\n  },\n  \"node_modules/object-keys\": {\n   \"version\": \"1.1.1\",\n   \"resolved\": \"https://registry.npmjs.org/object-keys/-/object-keys-1.1.1.tgz\",\n   \"integrity\": \"sha512-NuAESUOUMrlIXOfHKzD6bpPu3tYt3xvjNdRIQ+FeT0lNb4K8WR70CaDxhuNguS2XG+GjkyMwOzsN5ZktImfhLA==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"optional\": true,\n   \"engines\": {\n    \"node\": \">= 0.4\"\n   }\n  },\n  \"node_modules/once\": {\n   \"version\": \"1.4.0\",\n   \"resolved\": \"https://registry.npmjs.org/once/-/once-1.4.0.tgz\",\n   \"integrity\": \"sha512-lNaJgI+2Q5URQBkccEKHTQOPaXdUxnZZElQTZY0MFUAuaEqe1E+Nyvgdz/aIyNi6Z9MzO5dv1H8n58/GELp3+w==\",\n   \"dev\": true,\n   \"license\": \"ISC\",\n   \"dependencies\": {\n    \"wrappy\": \"1\"\n   }\n  },\n  \"node_modules/p-cancelable\": {\n   \"version\": \"2.1.1\",\n   \"resolved\": \"https://registry.npmjs.org/p-cancelable/-/p-cancelable-2.1.1.tgz\",\n   \"integrity\": \"sha512-BZOr3nRQHOntUjTrH8+Lh54smKHoHyur8We1V8DSMVrl5A2malOOwuJRnKRDjSnkoeBh4at6BwEnb5I7Jl31wg==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"engines\": {\n    \"node\": \">=8\"\n   }\n  },\n  \"node_modules/package-json-from-dist\": {\n   \"version\": \"1.0.1\",\n   \"resolved\": \"https://registry.npmjs.org/package-json-from-dist/-/package-json-from-dist-1.0.1.tgz\",\n   \"integrity\": \"sha512-UEZIS3/by4OC8vL3P2dTXRETpebLI2NiI5vIrjaD/5UtrkFX/tNbwjTSRAGC/+7CAo2pIcBaRgWmcBBHcsaCIw==\",\n   \"dev\": true,\n   \"license\": \"BlueOak-1.0.0\"\n  },\n  \"node_modules/path-is-absolute\": {\n   \"version\": \"1.0.1\",\n   \"resolved\": \"https://registry.npmjs.org/path-is-absolute/-/path-is-absolute-1.0.1.tgz\",\n   \"integrity\": \"sha512-AVbw3UJ2e9bq64vSaS9Am0fje1Pa8pbGqTTsmXfaIiMpnr5DlDhfJOuLj9Sf95ZPVDAUerDfEk88MPmPe7UCQg==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"engines\": {\n    \"node\": \">=0.10.0\"\n   }\n  },\n  \"node_modules/path-key\": {\n   \"version\": \"3.1.1\",\n   \"resolved\": \"https://registry.npmjs.org/path-key/-/path-key-3.1.1.tgz\",\n   \"integrity\": \"sha512-ojmeN0qd+y0jszEtoY48r0Peq5dwMEkIlCOu6Q5f41lfkswXuKtYrhgoTpLnyIcHm24Uhqx+5Tqm2InSwLhE6Q==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"engines\": {\n    \"node\": \">=8\"\n   }\n  },\n  \"node_modules/path-scurry\": {\n   \"version\": \"1.11.1\",\n   \"resolved\": \"https://registry.npmjs.org/path-scurry/-/path-scurry-1.11.1.tgz\",\n   \"integrity\": \"sha512-Xa4Nw17FS9ApQFJ9umLiJS4orGjm7ZzwUrwamcGQuHSzDyth9boKDaycYdDcZDuqYATXw4HFXgaqWTctW/v1HA==\",\n   \"dev\": true,\n   \"license\": \"BlueOak-1.0.0\",\n   \"dependencies\": {\n    \"lru-cache\": \"^10.2.0\",\n    \"minipass\": \"^5.0.0 || ^6.0.2 || ^7.0.0\"\n   },\n   \"engines\": {\n    \"node\": \">=16 || 14 >=14.18\"\n   },\n   \"funding\": {\n    \"url\": \"https://github.com/sponsors/isaacs\"\n   }\n  },\n  \"node_modules/path-scurry/node_modules/lru-cache\": {\n   \"version\": \"10.4.3\",\n   \"resolved\": \"https://registry.npmjs.org/lru-cache/-/lru-cache-10.4.3.tgz\",\n   \"integrity\": \"sha512-JNAzZcXrCt42VGLuYz0zfAzDfAvJWW6AfYlDBQyDV5DClI2m5sAmK+OIO7s59XfsRsWHp02jAJrRadPRGTt6SQ==\",\n   \"dev\": true,\n   \"license\": \"ISC\"\n  },\n  \"node_modules/pend\": {\n   \"version\": \"1.2.0\",\n   \"resolved\": \"https://registry.npmjs.org/pend/-/pend-1.2.0.tgz\",\n   \"integrity\": \"sha512-F3asv42UuXchdzt+xXqfW1OGlVBe+mxa2mqI0pg5yAHZPvFmY3Y6drSf/GQ1A86WgWEN9Kzh/WrgKa6iGcHXLg==\",\n   \"dev\": true,\n   \"license\": \"MIT\"\n  },\n  \"node_modules/picocolors\": {\n   \"version\": \"1.1.1\",\n   \"resolved\": \"https://registry.npmjs.org/picocolors/-/picocolors-1.1.1.tgz\",\n   \"integrity\": \"sha512-xceH2snhtb5M9liqDsmEw56le376mTZkEX/jEb/RxNFyegNul7eNslCXP9FDj/Lcu0X8KEyMceP2ntpaHrDEVA==\",\n   \"dev\": true,\n   \"license\": \"ISC\"\n  },\n  \"node_modules/plist\": {\n   \"version\": \"3.1.0\",\n   \"resolved\": \"https://registry.npmjs.org/plist/-/plist-3.1.0.tgz\",\n   \"integrity\": \"sha512-uysumyrvkUX0rX/dEVqt8gC3sTBzd4zoWfLeS29nb53imdaXVvLINYXTI2GNqzaMuvacNx4uJQ8+b3zXR0pkgQ==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"@xmldom/xmldom\": \"^0.8.8\",\n    \"base64-js\": \"^1.5.1\",\n    \"xmlbuilder\": \"^15.1.1\"\n   },\n   \"engines\": {\n    \"node\": \">=10.4.0\"\n   }\n  },\n  \"node_modules/progress\": {\n   \"version\": \"2.0.3\",\n   \"resolved\": \"https://registry.npmjs.org/progress/-/progress-2.0.3.tgz\",\n   \"integrity\": \"sha512-7PiHtLll5LdnKIMw100I+8xJXR5gW2QwWYkT6iJva0bXitZKa/XMrSbdmg3r2Xnaidz9Qumd0VPaMrZlF9V9sA==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"engines\": {\n    \"node\": \">=0.4.0\"\n   }\n  },\n  \"node_modules/promise-retry\": {\n   \"version\": \"2.0.1\",\n   \"resolved\": \"https://registry.npmjs.org/promise-retry/-/promise-retry-2.0.1.tgz\",\n   \"integrity\": \"sha512-y+WKFlBR8BGXnsNlIHFGPZmyDf3DFMoLhaflAnyZgV6rG6xu+JwesTo2Q9R6XwYmtmwAFCkAk3e35jEdoeh/3g==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"err-code\": \"^2.0.2\",\n    \"retry\": \"^0.12.0\"\n   },\n   \"engines\": {\n    \"node\": \">=10\"\n   }\n  },\n  \"node_modules/pump\": {\n   \"version\": \"3.0.3\",\n   \"resolved\": \"https://registry.npmjs.org/pump/-/pump-3.0.3.tgz\",\n   \"integrity\": \"sha512-todwxLMY7/heScKmntwQG8CXVkWUOdYxIvY2s0VWAAMh/nd8SoYiRaKjlr7+iCs984f2P8zvrfWcDDYVb73NfA==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"end-of-stream\": \"^1.1.0\",\n    \"once\": \"^1.3.1\"\n   }\n  },\n  \"node_modules/punycode\": {\n   \"version\": \"2.3.1\",\n   \"resolved\": \"https://registry.npmjs.org/punycode/-/punycode-2.3.1.tgz\",\n   \"integrity\": \"sha512-vYt7UD1U9Wg6138shLtLOvdAu+8DsC/ilFtEVHcH+wydcSpNE20AfSOduf6MkRFahL5FY7X1oU7nKVZFtfq8Fg==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"engines\": {\n    \"node\": \">=6\"\n   }\n  },\n  \"node_modules/quick-lru\": {\n   \"version\": \"5.1.1\",\n   \"resolved\": \"https://registry.npmjs.org/quick-lru/-/quick-lru-5.1.1.tgz\",\n   \"integrity\": \"sha512-WuyALRjWPDGtt/wzJiadO5AXY+8hZ80hVpe6MyivgraREW751X3SbhRvG3eLKOYN+8VEvqLcf3wdnt44Z4S4SA==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"engines\": {\n    \"node\": \">=10\"\n   },\n   \"funding\": {\n    \"url\": \"https://github.com/sponsors/sindresorhus\"\n   }\n  },\n  \"node_modules/read-config-file\": {\n   \"version\": \"6.3.2\",\n   \"resolved\": \"https://registry.npmjs.org/read-config-file/-/read-config-file-6.3.2.tgz\",\n   \"integrity\": \"sha512-M80lpCjnE6Wt6zb98DoW8WHR09nzMSpu8XHtPkiTHrJ5Az9CybfeQhTJ8D7saeBHpGhLPIVyA8lcL6ZmdKwY6Q==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"config-file-ts\": \"^0.2.4\",\n    \"dotenv\": \"^9.0.2\",\n    \"dotenv-expand\": \"^5.1.0\",\n    \"js-yaml\": \"^4.1.0\",\n    \"json5\": \"^2.2.0\",\n    \"lazy-val\": \"^1.0.4\"\n   },\n   \"engines\": {\n    \"node\": \">=12.0.0\"\n   }\n  },\n  \"node_modules/require-directory\": {\n   \"version\": \"2.1.1\",\n   \"resolved\": \"https://registry.npmjs.org/require-directory/-/require-directory-2.1.1.tgz\",\n   \"integrity\": \"sha512-fGxEI7+wsG9xrvdjsrlmL22OMTTiHRwAMroiEeMgq8gzoLC/PQr7RsRDSTLUg/bZAZtF+TVIkHc6/4RIKrui+Q==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"engines\": {\n    \"node\": \">=0.10.0\"\n   }\n  },\n  \"node_modules/resolve-alpn\": {\n   \"version\": \"1.2.1\",\n   \"resolved\": \"https://registry.npmjs.org/resolve-alpn/-/resolve-alpn-1.2.1.tgz\",\n   \"integrity\": \"sha512-0a1F4l73/ZFZOakJnQ3FvkJ2+gSTQWz/r2KE5OdDY0TxPm5h4GkqkWWfM47T7HsbnOtcJVEF4epCVy6u7Q3K+g==\",\n   \"dev\": true,\n   \"license\": \"MIT\"\n  },\n  \"node_modules/responselike\": {\n   \"version\": \"2.0.1\",\n   \"resolved\": \"https://registry.npmjs.org/responselike/-/responselike-2.0.1.tgz\",\n   \"integrity\": \"sha512-4gl03wn3hj1HP3yzgdI7d3lCkF95F21Pz4BPGvKHinyQzALR5CapwC8yIi0Rh58DEMQ/SguC03wFj2k0M/mHhw==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"lowercase-keys\": \"^2.0.0\"\n   },\n   \"funding\": {\n    \"url\": \"https://github.com/sponsors/sindresorhus\"\n   }\n  },\n  \"node_modules/retry\": {\n   \"version\": \"0.12.0\",\n   \"resolved\": \"https://registry.npmjs.org/retry/-/retry-0.12.0.tgz\",\n   \"integrity\": \"sha512-9LkiTwjUh6rT555DtE9rTX+BKByPfrMzEAtnlEtdEwr3Nkffwiihqe2bWADg+OQRjt9gl6ICdmB/ZFDCGAtSow==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"engines\": {\n    \"node\": \">= 4\"\n   }\n  },\n  \"node_modules/roarr\": {\n   \"version\": \"2.15.4\",\n   \"resolved\": \"https://registry.npmjs.org/roarr/-/roarr-2.15.4.tgz\",\n   \"integrity\": \"sha512-CHhPh+UNHD2GTXNYhPWLnU8ONHdI+5DI+4EYIAOaiD63rHeYlZvyh8P+in5999TTSFgUYuKUAjzRI4mdh/p+2A==\",\n   \"dev\": true,\n   \"license\": \"BSD-3-Clause\",\n   \"optional\": true,\n   \"dependencies\": {\n    \"boolean\": \"^3.0.1\",\n    \"detect-node\": \"^2.0.4\",\n    \"globalthis\": \"^1.0.1\",\n    \"json-stringify-safe\": \"^5.0.1\",\n    \"semver-compare\": \"^1.0.0\",\n    \"sprintf-js\": \"^1.1.2\"\n   },\n   \"engines\": {\n    \"node\": \">=8.0\"\n   }\n  },\n  \"node_modules/safer-buffer\": {\n   \"version\": \"2.1.2\",\n   \"resolved\": \"https://registry.npmjs.org/safer-buffer/-/safer-buffer-2.1.2.tgz\",\n   \"integrity\": \"sha512-YZo3K82SD7Riyi0E1EQPojLz7kpepnSQI9IyPbHHg1XXXevb5dJI7tpyN2ADxGcQbHG7vcyRHk0cbwqcQriUtg==\",\n   \"dev\": true,\n   \"license\": \"MIT\"\n  },\n  \"node_modules/sanitize-filename\": {\n   \"version\": \"1.6.3\",\n   \"resolved\": \"https://registry.npmjs.org/sanitize-filename/-/sanitize-filename-1.6.3.tgz\",\n   \"integrity\": \"sha512-y/52Mcy7aw3gRm7IrcGDFx/bCk4AhRh2eI9luHOQM86nZsqwiRkkq2GekHXBBD+SmPidc8i2PqtYZl+pWJ8Oeg==\",\n   \"dev\": true,\n   \"license\": \"WTFPL OR ISC\",\n   \"dependencies\": {\n    \"truncate-utf8-bytes\": \"^1.0.0\"\n   }\n  },\n  \"node_modules/sax\": {\n   \"version\": \"1.4.3\",\n   \"resolved\": \"https://registry.npmjs.org/sax/-/sax-1.4.3.tgz\",\n   \"integrity\": \"sha512-yqYn1JhPczigF94DMS+shiDMjDowYO6y9+wB/4WgO0Y19jWYk0lQ4tuG5KI7kj4FTp1wxPj5IFfcrz/s1c3jjQ==\",\n   \"license\": \"BlueOak-1.0.0\"\n  },\n  \"node_modules/semver\": {\n   \"version\": \"6.3.1\",\n   \"resolved\": \"https://registry.npmjs.org/semver/-/semver-6.3.1.tgz\",\n   \"integrity\": \"sha512-BR7VvDCVHO+q2xBEWskxS6DJE1qRnb7DxzUrogb71CWoSficBxYsiAGd+Kl0mmq/MprG9yArRkyrQxTO6XjMzA==\",\n   \"dev\": true,\n   \"license\": \"ISC\",\n   \"bin\": {\n    \"semver\": \"bin/semver.js\"\n   }\n  },\n  \"node_modules/semver-compare\": {\n   \"version\": \"1.0.0\",\n   \"resolved\": \"https://registry.npmjs.org/semver-compare/-/semver-compare-1.0.0.tgz\",\n   \"integrity\": \"sha512-YM3/ITh2MJ5MtzaM429anh+x2jiLVjqILF4m4oyQB18W7Ggea7BfqdH/wGMK7dDiMghv/6WG7znWMwUDzJiXow==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"optional\": true\n  },\n  \"node_modules/serialize-error\": {\n   \"version\": \"7.0.1\",\n   \"resolved\": \"https://registry.npmjs.org/serialize-error/-/serialize-error-7.0.1.tgz\",\n   \"integrity\": \"sha512-8I8TjW5KMOKsZQTvoxjuSIa7foAwPWGOts+6o7sgjz41/qMD9VQHEDxi6PBvK2l0MXUmqZyNpUK+T2tQaaElvw==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"optional\": true,\n   \"dependencies\": {\n    \"type-fest\": \"^0.13.1\"\n   },\n   \"engines\": {\n    \"node\": \">=10\"\n   },\n   \"funding\": {\n    \"url\": \"https://github.com/sponsors/sindresorhus\"\n   }\n  },\n  \"node_modules/shebang-command\": {\n   \"version\": \"2.0.0\",\n   \"resolved\": \"https://registry.npmjs.org/shebang-command/-/shebang-command-2.0.0.tgz\",\n   \"integrity\": \"sha512-kHxr2zZpYtdmrN1qDjrrX/Z1rR1kG8Dx+gkpK1G4eXmvXswmcE1hTWBWYUzlraYw1/yZp6YuDY77YtvbN0dmDA==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"shebang-regex\": \"^3.0.0\"\n   },\n   \"engines\": {\n    \"node\": \">=8\"\n   }\n  },\n  \"node_modules/shebang-regex\": {\n   \"version\": \"3.0.0\",\n   \"resolved\": \"https://registry.npmjs.org/shebang-regex/-/shebang-regex-3.0.0.tgz\",\n   \"integrity\": \"sha512-7++dFhtcx3353uBaq8DDR4NuxBetBzC7ZQOhmTQInHEd6bSrXdiEyzCvG07Z44UYdLShWUyXt5M/yhz8ekcb1A==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"engines\": {\n    \"node\": \">=8\"\n   }\n  },\n  \"node_modules/signal-exit\": {\n   \"version\": \"4.1.0\",\n   \"resolved\": \"https://registry.npmjs.org/signal-exit/-/signal-exit-4.1.0.tgz\",\n   \"integrity\": \"sha512-bzyZ1e88w9O1iNJbKnOlvYTrWPDl46O1bG0D3XInv+9tkPrxrN8jUUTiFlDkkmKWgn1M6CfIA13SuGqOa9Korw==\",\n   \"dev\": true,\n   \"license\": \"ISC\",\n   \"engines\": {\n    \"node\": \">=14\"\n   },\n   \"funding\": {\n    \"url\": \"https://github.com/sponsors/isaacs\"\n   }\n  },\n  \"node_modules/simple-update-notifier\": {\n   \"version\": \"2.0.0\",\n   \"resolved\": \"https://registry.npmjs.org/simple-update-notifier/-/simple-update-notifier-2.0.0.tgz\",\n   \"integrity\": \"sha512-a2B9Y0KlNXl9u/vsW6sTIu9vGEpfKu2wRV6l1H3XEas/0gUIzGzBoP/IouTcUQbm9JWZLH3COxyn03TYlFax6w==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"semver\": \"^7.5.3\"\n   },\n   \"engines\": {\n    \"node\": \">=10\"\n   }\n  },\n  \"node_modules/simple-update-notifier/node_modules/semver\": {\n   \"version\": \"7.7.3\",\n   \"resolved\": \"https://registry.npmjs.org/semver/-/semver-7.7.3.tgz\",\n   \"integrity\": \"sha512-SdsKMrI9TdgjdweUSR9MweHA4EJ8YxHn8DFaDisvhVlUOe4BF1tLD7GAj0lIqWVl+dPb/rExr0Btby5loQm20Q==\",\n   \"dev\": true,\n   \"license\": \"ISC\",\n   \"bin\": {\n    \"semver\": \"bin/semver.js\"\n   },\n   \"engines\": {\n    \"node\": \">=10\"\n   }\n  },\n  \"node_modules/slice-ansi\": {\n   \"version\": \"3.0.0\",\n   \"resolved\": \"https://registry.npmjs.org/slice-ansi/-/slice-ansi-3.0.0.tgz\",\n   \"integrity\": \"sha512-pSyv7bSTC7ig9Dcgbw9AuRNUb5k5V6oDudjZoMBSr13qpLBG7tB+zgCkARjq7xIUgdz5P1Qe8u+rSGdouOOIyQ==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"optional\": true,\n   \"dependencies\": {\n    \"ansi-styles\": \"^4.0.0\",\n    \"astral-regex\": \"^2.0.0\",\n    \"is-fullwidth-code-point\": \"^3.0.0\"\n   },\n   \"engines\": {\n    \"node\": \">=8\"\n   }\n  },\n  \"node_modules/smart-buffer\": {\n   \"version\": \"4.2.0\",\n   \"resolved\": \"https://registry.npmjs.org/smart-buffer/-/smart-buffer-4.2.0.tgz\",\n   \"integrity\": \"sha512-94hK0Hh8rPqQl2xXc3HsaBoOXKV20MToPkcXvwbISWLEs+64sBq5kFgn2kJDHb1Pry9yrP0dxrCI9RRci7RXKg==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"optional\": true,\n   \"engines\": {\n    \"node\": \">= 6.0.0\",\n    \"npm\": \">= 3.0.0\"\n   }\n  },\n  \"node_modules/source-map\": {\n   \"version\": \"0.6.1\",\n   \"resolved\": \"https://registry.npmjs.org/source-map/-/source-map-0.6.1.tgz\",\n   \"integrity\": \"sha512-UjgapumWlbMhkBgzT7Ykc5YXUT46F0iKu8SGXq0bcwP5dz/h0Plj6enJqjz1Zbq2l5WaqYnrVbwWOWMyF3F47g==\",\n   \"dev\": true,\n   \"license\": \"BSD-3-Clause\",\n   \"engines\": {\n    \"node\": \">=0.10.0\"\n   }\n  },\n  \"node_modules/source-map-support\": {\n   \"version\": \"0.5.21\",\n   \"resolved\": \"https://registry.npmjs.org/source-map-support/-/source-map-support-0.5.21.tgz\",\n   \"integrity\": \"sha512-uBHU3L3czsIyYXKX88fdrGovxdSCoTGDRZ6SYXtSRxLZUzHg5P/66Ht6uoUlHu9EZod+inXhKo3qQgwXUT/y1w==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"buffer-from\": \"^1.0.0\",\n    \"source-map\": \"^0.6.0\"\n   }\n  },\n  \"node_modules/sprintf-js\": {\n   \"version\": \"1.1.3\",\n   \"resolved\": \"https://registry.npmjs.org/sprintf-js/-/sprintf-js-1.1.3.tgz\",\n   \"integrity\": \"sha512-Oo+0REFV59/rz3gfJNKQiBlwfHaSESl1pcGyABQsnnIfWOFt6JNj5gCog2U6MLZ//IGYD+nA8nI+mTShREReaA==\",\n   \"dev\": true,\n   \"license\": \"BSD-3-Clause\",\n   \"optional\": true\n  },\n  \"node_modules/stat-mode\": {\n   \"version\": \"1.0.0\",\n   \"resolved\": \"https://registry.npmjs.org/stat-mode/-/stat-mode-1.0.0.tgz\",\n   \"integrity\": \"sha512-jH9EhtKIjuXZ2cWxmXS8ZP80XyC3iasQxMDV8jzhNJpfDb7VbQLVW4Wvsxz9QZvzV+G4YoSfBUVKDOyxLzi/sg==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"engines\": {\n    \"node\": \">= 6\"\n   }\n  },\n  \"node_modules/string-width\": {\n   \"version\": \"4.2.3\",\n   \"resolved\": \"https://registry.npmjs.org/string-width/-/string-width-4.2.3.tgz\",\n   \"integrity\": \"sha512-wKyQRQpjJ0sIp62ErSZdGsjMJWsap5oRNihHhu6G7JVO/9jIB6UyevL+tXuOqrng8j/cxKTWyWUwvSTriiZz/g==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"emoji-regex\": \"^8.0.0\",\n    \"is-fullwidth-code-point\": \"^3.0.0\",\n    \"strip-ansi\": \"^6.0.1\"\n   },\n   \"engines\": {\n    \"node\": \">=8\"\n   }\n  },\n  \"node_modules/string-width-cjs\": {\n   \"name\": \"string-width\",\n   \"version\": \"4.2.3\",\n   \"resolved\": \"https://registry.npmjs.org/string-width/-/string-width-4.2.3.tgz\",\n   \"integrity\": \"sha512-wKyQRQpjJ0sIp62ErSZdGsjMJWsap5oRNihHhu6G7JVO/9jIB6UyevL+tXuOqrng8j/cxKTWyWUwvSTriiZz/g==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"emoji-regex\": \"^8.0.0\",\n    \"is-fullwidth-code-point\": \"^3.0.0\",\n    \"strip-ansi\": \"^6.0.1\"\n   },\n   \"engines\": {\n    \"node\": \">=8\"\n   }\n  },\n  \"node_modules/strip-ansi\": {\n   \"version\": \"6.0.1\",\n   \"resolved\": \"https://registry.npmjs.org/strip-ansi/-/strip-ansi-6.0.1.tgz\",\n   \"integrity\": \"sha512-Y38VPSHcqkFrCpFnQ9vuSXmquuv5oXOKpGeT6aGrr3o3Gc9AlVa6JBfUSOCnbxGGZF+/0ooI7KrPuUSztUdU5A==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"ansi-regex\": \"^5.0.1\"\n   },\n   \"engines\": {\n    \"node\": \">=8\"\n   }\n  },\n  \"node_modules/strip-ansi-cjs\": {\n   \"name\": \"strip-ansi\",\n   \"version\": \"6.0.1\",\n   \"resolved\": \"https://registry.npmjs.org/strip-ansi/-/strip-ansi-6.0.1.tgz\",\n   \"integrity\": \"sha512-Y38VPSHcqkFrCpFnQ9vuSXmquuv5oXOKpGeT6aGrr3o3Gc9AlVa6JBfUSOCnbxGGZF+/0ooI7KrPuUSztUdU5A==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"ansi-regex\": \"^5.0.1\"\n   },\n   \"engines\": {\n    \"node\": \">=8\"\n   }\n  },\n  \"node_modules/sumchecker\": {\n   \"version\": \"3.0.1\",\n   \"resolved\": \"https://registry.npmjs.org/sumchecker/-/sumchecker-3.0.1.tgz\",\n   \"integrity\": \"sha512-MvjXzkz/BOfyVDkG0oFOtBxHX2u3gKbMHIF/dXblZsgD3BWOFLmHovIpZY7BykJdAjcqRCBi1WYBNdEC9yI7vg==\",\n   \"dev\": true,\n   \"license\": \"Apache-2.0\",\n   \"dependencies\": {\n    \"debug\": \"^4.1.0\"\n   },\n   \"engines\": {\n    \"node\": \">= 8.0\"\n   }\n  },\n  \"node_modules/supports-color\": {\n   \"version\": \"7.2.0\",\n   \"resolved\": \"https://registry.npmjs.org/supports-color/-/supports-color-7.2.0.tgz\",\n   \"integrity\": \"sha512-qpCAvRl9stuOHveKsn7HncJRvv501qIacKzQlO/+Lwxc9+0q2wLyv4Dfvt80/DPn2pqOBsJdDiogXGR9+OvwRw==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"has-flag\": \"^4.0.0\"\n   },\n   \"engines\": {\n    \"node\": \">=8\"\n   }\n  },\n  \"node_modules/tar\": {\n   \"version\": \"6.2.1\",\n   \"resolved\": \"https://registry.npmjs.org/tar/-/tar-6.2.1.tgz\",\n   \"integrity\": \"sha512-DZ4yORTwrbTj/7MZYq2w+/ZFdI6OZ/f9SFHR+71gIVUZhOQPHzVCLpvRnPgyaMpfWxxk/4ONva3GQSyNIKRv6A==\",\n   \"dev\": true,\n   \"license\": \"ISC\",\n   \"dependencies\": {\n    \"chownr\": \"^2.0.0\",\n    \"fs-minipass\": \"^2.0.0\",\n    \"minipass\": \"^5.0.0\",\n    \"minizlib\": \"^2.1.1\",\n    \"mkdirp\": \"^1.0.3\",\n    \"yallist\": \"^4.0.0\"\n   },\n   \"engines\": {\n    \"node\": \">=10\"\n   }\n  },\n  \"node_modules/temp-file\": {\n   \"version\": \"3.4.0\",\n   \"resolved\": \"https://registry.npmjs.org/temp-file/-/temp-file-3.4.0.tgz\",\n   \"integrity\": \"sha512-C5tjlC/HCtVUOi3KWVokd4vHVViOmGjtLwIh4MuzPo/nMYTV/p1urt3RnMz2IWXDdKEGJH3k5+KPxtqRsUYGtg==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"async-exit-hook\": \"^2.0.1\",\n    \"fs-extra\": \"^10.0.0\"\n   }\n  },\n  \"node_modules/temp-file/node_modules/fs-extra\": {\n   \"version\": \"10.1.0\",\n   \"resolved\": \"https://registry.npmjs.org/fs-extra/-/fs-extra-10.1.0.tgz\",\n   \"integrity\": \"sha512-oRXApq54ETRj4eMiFzGnHWGy+zo5raudjuxN0b8H7s/RU2oW0Wvsx9O0ACRN/kRq9E8Vu/ReskGB5o3ji+FzHQ==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"graceful-fs\": \"^4.2.0\",\n    \"jsonfile\": \"^6.0.1\",\n    \"universalify\": \"^2.0.0\"\n   },\n   \"engines\": {\n    \"node\": \">=12\"\n   }\n  },\n  \"node_modules/temp-file/node_modules/jsonfile\": {\n   \"version\": \"6.2.0\",\n   \"resolved\": \"https://registry.npmjs.org/jsonfile/-/jsonfile-6.2.0.tgz\",\n   \"integrity\": \"sha512-FGuPw30AdOIUTRMC2OMRtQV+jkVj2cfPqSeWXv1NEAJ1qZ5zb1X6z1mFhbfOB/iy3ssJCD+3KuZ8r8C3uVFlAg==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"universalify\": \"^2.0.0\"\n   },\n   \"optionalDependencies\": {\n    \"graceful-fs\": \"^4.1.6\"\n   }\n  },\n  \"node_modules/temp-file/node_modules/universalify\": {\n   \"version\": \"2.0.1\",\n   \"resolved\": \"https://registry.npmjs.org/universalify/-/universalify-2.0.1.tgz\",\n   \"integrity\": \"sha512-gptHNQghINnc/vTGIk0SOFGFNXw7JVrlRUtConJRlvaw6DuX0wO5Jeko9sWrMBhh+PsYAZ7oXAiOnf/UKogyiw==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"engines\": {\n    \"node\": \">= 10.0.0\"\n   }\n  },\n  \"node_modules/tiny-typed-emitter\": {\n   \"version\": \"2.1.0\",\n   \"resolved\": \"https://registry.npmjs.org/tiny-typed-emitter/-/tiny-typed-emitter-2.1.0.tgz\",\n   \"integrity\": \"sha512-qVtvMxeXbVej0cQWKqVSSAHmKZEHAvxdF8HEUBFWts8h+xEo5m/lEiPakuyZ3BnCBjOD8i24kzNOiOLLgsSxhA==\",\n   \"license\": \"MIT\"\n  },\n  \"node_modules/tmp\": {\n   \"version\": \"0.2.5\",\n   \"resolved\": \"https://registry.npmjs.org/tmp/-/tmp-0.2.5.tgz\",\n   \"integrity\": \"sha512-voyz6MApa1rQGUxT3E+BK7/ROe8itEx7vD8/HEvt4xwXucvQ5G5oeEiHkmHZJuBO21RpOf+YYm9MOivj709jow==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"engines\": {\n    \"node\": \">=14.14\"\n   }\n  },\n  \"node_modules/tmp-promise\": {\n   \"version\": \"3.0.3\",\n   \"resolved\": \"https://registry.npmjs.org/tmp-promise/-/tmp-promise-3.0.3.tgz\",\n   \"integrity\": \"sha512-RwM7MoPojPxsOBYnyd2hy0bxtIlVrihNs9pj5SUvY8Zz1sQcQG2tG1hSr8PDxfgEB8RNKDhqbIlroIarSNDNsQ==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"tmp\": \"^0.2.0\"\n   }\n  },\n  \"node_modules/truncate-utf8-bytes\": {\n   \"version\": \"1.0.2\",\n   \"resolved\": \"https://registry.npmjs.org/truncate-utf8-bytes/-/truncate-utf8-bytes-1.0.2.tgz\",\n   \"integrity\": \"sha512-95Pu1QXQvruGEhv62XCMO3Mm90GscOCClvrIUwCM0PYOXK3kaF3l3sIHxx71ThJfcbM2O5Au6SO3AWCSEfW4mQ==\",\n   \"dev\": true,\n   \"license\": \"WTFPL\",\n   \"dependencies\": {\n    \"utf8-byte-length\": \"^1.0.1\"\n   }\n  },\n  \"node_modules/type-fest\": {\n   \"version\": \"0.13.1\",\n   \"resolved\": \"https://registry.npmjs.org/type-fest/-/type-fest-0.13.1.tgz\",\n   \"integrity\": \"sha512-34R7HTnG0XIJcBSn5XhDd7nNFPRcXYRZrBB2O2jdKqYODldSzBAqzsWoZYYvduky73toYS/ESqxPvkDf/F0XMg==\",\n   \"dev\": true,\n   \"license\": \"(MIT OR CC0-1.0)\",\n   \"optional\": true,\n   \"engines\": {\n    \"node\": \">=10\"\n   },\n   \"funding\": {\n    \"url\": \"https://github.com/sponsors/sindresorhus\"\n   }\n  },\n  \"node_modules/typescript\": {\n   \"version\": \"5.9.3\",\n   \"resolved\": \"https://registry.npmjs.org/typescript/-/typescript-5.9.3.tgz\",\n   \"integrity\": \"sha512-jl1vZzPDinLr9eUt3J/t7V6FgNEw9QjvBPdysz9KfQDD41fQrC2Y4vKQdiaUpFT4bXlb1RHhLpp8wtm6M5TgSw==\",\n   \"dev\": true,\n   \"license\": \"Apache-2.0\",\n   \"bin\": {\n    \"tsc\": \"bin/tsc\",\n    \"tsserver\": \"bin/tsserver\"\n   },\n   \"engines\": {\n    \"node\": \">=14.17\"\n   }\n  },\n  \"node_modules/undici-types\": {\n   \"version\": \"5.26.5\",\n   \"resolved\": \"https://registry.npmjs.org/undici-types/-/undici-types-5.26.5.tgz\",\n   \"integrity\": \"sha512-JlCMO+ehdEIKqlFxk6IfVoAUVmgz7cU7zD/h9XZ0qzeosSHmUJVOzSQvvYSYWXkFXC+IfLKSIffhv0sVZup6pA==\",\n   \"dev\": true,\n   \"license\": \"MIT\"\n  },\n  \"node_modules/universalify\": {\n   \"version\": \"0.1.2\",\n   \"resolved\": \"https://registry.npmjs.org/universalify/-/universalify-0.1.2.tgz\",\n   \"integrity\": \"sha512-rBJeI5CXAlmy1pV+617WB9J63U6XcazHHF2f2dbJix4XzpUF0RS3Zbj0FGIOCAva5P/d/GBOYaACQ1w+0azUkg==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"engines\": {\n    \"node\": \">= 4.0.0\"\n   }\n  },\n  \"node_modules/uri-js\": {\n   \"version\": \"4.4.1\",\n   \"resolved\": \"https://registry.npmjs.org/uri-js/-/uri-js-4.4.1.tgz\",\n   \"integrity\": \"sha512-7rKUyy33Q1yc98pQ1DAmLtwX109F7TIfWlW1Ydo8Wl1ii1SeHieeh0HHfPeL2fMXK6z0s8ecKs9frCuLJvndBg==\",\n   \"dev\": true,\n   \"license\": \"BSD-2-Clause\",\n   \"dependencies\": {\n    \"punycode\": \"^2.1.0\"\n   }\n  },\n  \"node_modules/utf8-byte-length\": {\n   \"version\": \"1.0.5\",\n   \"resolved\": \"https://registry.npmjs.org/utf8-byte-length/-/utf8-byte-length-1.0.5.tgz\",\n   \"integrity\": \"sha512-Xn0w3MtiQ6zoz2vFyUVruaCL53O/DwUvkEeOvj+uulMm0BkUGYWmBYVyElqZaSLhY6ZD0ulfU3aBra2aVT4xfA==\",\n   \"dev\": true,\n   \"license\": \"(WTFPL OR MIT)\"\n  },\n  \"node_modules/verror\": {\n   \"version\": \"1.10.1\",\n   \"resolved\": \"https://registry.npmjs.org/verror/-/verror-1.10.1.tgz\",\n   \"integrity\": \"sha512-veufcmxri4e3XSrT0xwfUR7kguIkaxBeosDg00yDWhk49wdwkSUrvvsm7nc75e1PUyvIeZj6nS8VQRYz2/S4Xg==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"optional\": true,\n   \"dependencies\": {\n    \"assert-plus\": \"^1.0.0\",\n    \"core-util-is\": \"1.0.2\",\n    \"extsprintf\": \"^1.2.0\"\n   },\n   \"engines\": {\n    \"node\": \">=0.6.0\"\n   }\n  },\n  \"node_modules/which\": {\n   \"version\": \"2.0.2\",\n   \"resolved\": \"https://registry.npmjs.org/which/-/which-2.0.2.tgz\",\n   \"integrity\": \"sha512-BLI3Tl1TW3Pvl70l3yq3Y64i+awpwXqsGBYWkkqMtnbXgrMD+yj7rhW0kuEDxzJaYXGjEW5ogapKNMEKNMjibA==\",\n   \"dev\": true,\n   \"license\": \"ISC\",\n   \"dependencies\": {\n    \"isexe\": \"^2.0.0\"\n   },\n   \"bin\": {\n    \"node-which\": \"bin/node-which\"\n   },\n   \"engines\": {\n    \"node\": \">= 8\"\n   }\n  },\n  \"node_modules/wrap-ansi\": {\n   \"version\": \"7.0.0\",\n   \"resolved\": \"https://registry.npmjs.org/wrap-ansi/-/wrap-ansi-7.0.0.tgz\",\n   \"integrity\": \"sha512-YVGIj2kamLSTxw6NsZjoBxfSwsn0ycdesmc4p+Q21c5zPuZ1pl+NfxVdxPtdHvmNVOQ6XSYG4AUtyt/Fi7D16Q==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"ansi-styles\": \"^4.0.0\",\n    \"string-width\": \"^4.1.0\",\n    \"strip-ansi\": \"^6.0.0\"\n   },\n   \"engines\": {\n    \"node\": \">=10\"\n   },\n   \"funding\": {\n    \"url\": \"https://github.com/chalk/wrap-ansi?sponsor=1\"\n   }\n  },\n  \"node_modules/wrap-ansi-cjs\": {\n   \"name\": \"wrap-ansi\",\n   \"version\": \"7.0.0\",\n   \"resolved\": \"https://registry.npmjs.org/wrap-ansi/-/wrap-ansi-7.0.0.tgz\",\n   \"integrity\": \"sha512-YVGIj2kamLSTxw6NsZjoBxfSwsn0ycdesmc4p+Q21c5zPuZ1pl+NfxVdxPtdHvmNVOQ6XSYG4AUtyt/Fi7D16Q==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"ansi-styles\": \"^4.0.0\",\n    \"string-width\": \"^4.1.0\",\n    \"strip-ansi\": \"^6.0.0\"\n   },\n   \"engines\": {\n    \"node\": \">=10\"\n   },\n   \"funding\": {\n    \"url\": \"https://github.com/chalk/wrap-ansi?sponsor=1\"\n   }\n  },\n  \"node_modules/wrappy\": {\n   \"version\": \"1.0.2\",\n   \"resolved\": \"https://registry.npmjs.org/wrappy/-/wrappy-1.0.2.tgz\",\n   \"integrity\": \"sha512-l4Sp/DRseor9wL6EvV2+TuQn63dMkPjZ/sp9XkghTEbV9KlPS1xUsZ3u7/IQO4wxtcFB4bgpQPRcR3QCvezPcQ==\",\n   \"dev\": true,\n   \"license\": \"ISC\"\n  },\n  \"node_modules/xmlbuilder\": {\n   \"version\": \"15.1.1\",\n   \"resolved\": \"https://registry.npmjs.org/xmlbuilder/-/xmlbuilder-15.1.1.tgz\",\n   \"integrity\": \"sha512-yMqGBqtXyeN1e3TGYvgNgDVZ3j84W4cwkOXQswghol6APgZWaff9lnbvN7MHYJOiXsvGPXtjTYJEiC9J2wv9Eg==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"engines\": {\n    \"node\": \">=8.0\"\n   }\n  },\n  \"node_modules/y18n\": {\n   \"version\": \"5.0.8\",\n   \"resolved\": \"https://registry.npmjs.org/y18n/-/y18n-5.0.8.tgz\",\n   \"integrity\": \"sha512-0pfFzegeDWJHJIAmTLRP2DwHjdF5s7jo9tuztdQxAhINCdvS+3nGINqPd00AphqJR/0LhANUS6/+7SCb98YOfA==\",\n   \"dev\": true,\n   \"license\": \"ISC\",\n   \"engines\": {\n    \"node\": \">=10\"\n   }\n  },\n  \"node_modules/yallist\": {\n   \"version\": \"4.0.0\",\n   \"resolved\": \"https://registry.npmjs.org/yallist/-/yallist-4.0.0.tgz\",\n   \"integrity\": \"sha512-3wdGidZyq5PB084XLES5TpOSRA3wjXAlIWMhum2kRcv/41Sn2emQ0dycQW4uZXLejwKvg6EsvbdlVL+FYEct7A==\",\n   \"dev\": true,\n   \"license\": \"ISC\"\n  },\n  \"node_modules/yargs\": {\n   \"version\": \"17.7.2\",\n   \"resolved\": \"https://registry.npmjs.org/yargs/-/yargs-17.7.2.tgz\",\n   \"integrity\": \"sha512-7dSzzRQ++CKnNI/krKnYRV7JKKPUXMEh61soaHKg9mrWEhzFWhFnxPxGl+69cD1Ou63C13NUPCnmIcrvqCuM6w==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"cliui\": \"^8.0.1\",\n    \"escalade\": \"^3.1.1\",\n    \"get-caller-file\": \"^2.0.5\",\n    \"require-directory\": \"^2.1.1\",\n    \"string-width\": \"^4.2.3\",\n    \"y18n\": \"^5.0.5\",\n    \"yargs-parser\": \"^21.1.1\"\n   },\n   \"engines\": {\n    \"node\": \">=12\"\n   }\n  },\n  \"node_modules/yargs-parser\": {\n   \"version\": \"21.1.1\",\n   \"resolved\": \"https://registry.npmjs.org/yargs-parser/-/yargs-parser-21.1.1.tgz\",\n   \"integrity\": \"sha512-tVpsJW7DdjecAiFpbIB1e3qxIQsE6NoPc5/eTdrbbIC4h0LVsWhnoa3g+m2HclBIujHzsxZ4VJVA+GUuc2/LBw==\",\n   \"dev\": true,\n   \"license\": \"ISC\",\n   \"engines\": {\n    \"node\": \">=12\"\n   }\n  },\n  \"node_modules/yauzl\": {\n   \"version\": \"2.10.0\",\n   \"resolved\": \"https://registry.npmjs.org/yauzl/-/yauzl-2.10.0.tgz\",\n   \"integrity\": \"sha512-p4a9I6X6nu6IhoGmBqAcbJy1mlC4j27vEPZX9F4L4/vZT3Lyq1VkFHw/V/PUcB9Buo+DG3iHkT0x3Qya58zc3g==\",\n   \"dev\": true,\n   \"license\": \"MIT\",\n   \"dependencies\": {\n    \"buffer-crc32\": \"~0.2.3\",\n    \"fd-slicer\": \"~1.1.0\"\n   }\n  }\n }\n}\n",
    "electron/package.json": "{\n \"name\": \"fortuna-faucet\",\n \"version\": \"1.0.0\",\n \"description\": \"Fortuna Faucet Data Management Console\",\n \"main\": \"main.js\",\n \"scripts\": {\n \"start\": \"electron .\",\n \"build\": \"electron-builder\",\n \"dist\": \"electron-builder\"\n },\n \"author\": \"Fortuna Development Team\",\n \"devDependencies\": {\n \"electron\": \"28.0.0\",\n \"electron-builder\": \"24.9.1\"\n },\n \"dependencies\": {\n \"electron-updater\": \"^6.1.1\"\n }\n}\n",
    "electron/resources/.gitkeep": "",
    "fortuna-backend-electron.spec": "# -*- mode: python ; coding: utf-8 -*-\nfrom pathlib import Path\nfrom PyInstaller.utils.hooks import collect_data_files, collect_submodules\n\nblock_cipher = None\nproject_root = Path(SPECPATH).parent\n\n# Helper function to include data files\ndef include(rel_path: str, target: str, store: list):\n    absolute = project_root / rel_path\n    if absolute.exists():\n        store.append((str(absolute), target))\n    else:\n        print(f\"[spec] WARNING: Skipping missing include: {absolute}\")\n\ndatas = []\nhiddenimports = set()\n\n# Include necessary data directories\ninclude('python_service/data', 'data', datas)\ninclude('python_service/json', 'json', datas)\ninclude('python_service/adapters', 'adapters', datas)\n\n# Automatically collect submodules and data files for key libraries\ndatas += collect_data_files('uvicorn')\ndatas += collect_data_files('fastapi')\ndatas += collect_data_files('starlette')\nhiddenimports.update(collect_submodules('python_service'))\nhiddenimports.update([\n    'asyncio',\n    'asyncio.windows_events',\n    'asyncio.selector_events',\n    'uvicorn.logging',\n    'uvicorn.loops.auto',\n    'uvicorn.protocols.http.h11_impl',\n    'uvicorn.protocols.http.httptools_impl',\n    'uvicorn.protocols.websockets.wsproto_impl',\n    'uvicorn.protocols.websockets.websockets_impl',\n    'uvicorn.lifespan.on',\n    'fastapi.routing',\n    'fastapi.middleware.cors',\n    'starlette.staticfiles',\n    'starlette.middleware.cors',\n    'pydantic_core',\n    'pydantic_settings.sources',\n    'anyio._backends._asyncio',\n    'httpcore',\n    'httpx',\n    'python_multipart',\n    'numpy',\n    'pandas',\n])\n\na = Analysis(\n    ['python_service/main.py'],\n    pathex=[str(project_root)],\n    binaries=[],\n    datas=datas,\n    hiddenimports=sorted(hiddenimports),\n    hookspath=[],\n    hooksconfig={},\n    runtime_hooks=[],\n    excludes=[],\n    win_no_prefer_redirects=False,\n    win_private_assemblies=False,\n    cipher=block_cipher,\n    noarchive=False,\n)\n\n# \u2622\ufe0f PYZ INJECTION: Force __init__ files into the PYZ archive as modules\n# This is the definitive fix for ModuleNotFoundError at runtime.\na.pure += [\n    ('python_service', str(project_root / 'python_service/__init__.py'), 'PYMODULE'),\n]\n\npyz = PYZ(a.pure, a.zipped_data, cipher=block_cipher)\n\nexe = EXE(\n    pyz,\n    a.scripts,\n    a.binaries,\n    a.zipfiles,\n    a.datas,\n    name='fortuna-backend',\n    debug=False,\n    bootloader_ignore_signals=False,\n    strip=False,\n    upx=True,\n    console=True,\n    disable_windowed_traceback=False,\n    argv_emulation=False,\n    target_arch=None,\n    codesign_identity=None,\n    entitlements_file=None,\n)\n",
    "python_service/__init__.py": "# This file makes the python_service directory a Python package.\n",
    "python_service/adapters/base_adapter_v3.py": "# python_service/adapters/base_v3.py\nfrom abc import ABC\nfrom abc import abstractmethod\nfrom typing import Any\nfrom typing import AsyncGenerator\nfrom typing import List\n\nimport httpx\nimport structlog\nfrom tenacity import RetryError\nfrom tenacity import retry\nfrom tenacity import stop_after_attempt\nfrom tenacity import wait_exponential\n\nfrom ..core.exceptions import AdapterHttpError\nfrom ..manual_override_manager import ManualOverrideManager\nfrom ..models import Race\n\n\nclass BaseAdapterV3(ABC):\n    \"\"\"\n    Abstract base class for all V3 data adapters.\n    Enforces a standardized fetch/parse pattern and includes robust request handling.\n    \"\"\"\n\n    def __init__(self, source_name: str, base_url: str, config=None, timeout: int = 20):\n        self.source_name = source_name\n        self.base_url = base_url\n        self.config = config\n        self.timeout = timeout\n        self.logger = structlog.get_logger(adapter_name=self.source_name)\n        self.http_client: httpx.AsyncClient = None  # Injected by the engine\n        self.manual_override_manager: ManualOverrideManager = None\n        self.supports_manual_override = True  # Can be overridden by subclasses\n\n    def enable_manual_override(self, manager: ManualOverrideManager):\n        \"\"\"Injects the manual override manager into the adapter.\"\"\"\n        self.manual_override_manager = manager\n\n    @abstractmethod\n    async def _fetch_data(self, date: str) -> Any:\n        \"\"\"\n        Fetches the raw data (e.g., HTML, JSON) for the given date.\n        This is the only method that should perform network operations.\n        \"\"\"\n        raise NotImplementedError\n\n    @abstractmethod\n    def _parse_races(self, raw_data: Any) -> List[Race]:\n        \"\"\"\n        Parses the raw data retrieved by _fetch_data into a list of Race objects.\n        This method should be a pure function with no side effects.\n        \"\"\"\n        raise NotImplementedError\n\n    async def get_races(self, date: str) -> AsyncGenerator[Race, None]:\n        \"\"\"\n        Orchestrates the fetch-then-parse pipeline for the adapter.\n        This public method should not be overridden by subclasses.\n        \"\"\"\n        raw_data = None\n\n        if self.manual_override_manager:\n            # This is not a full URL, but a representative key for the fetch operation\n            # Subclasses might need to override get_races to provide a more specific URL if needed\n            lookup_key = f\"{self.base_url}/racecards/{date}\"\n            manual_data = self.manual_override_manager.get_manual_data(self.source_name, lookup_key)\n            if manual_data:\n                self.logger.info(\"Using manually submitted data for request\", url=lookup_key)\n                # Reconstruct a dictionary similar to what _fetch_data would return\n                # This may need adjustment based on adapter specifics\n                raw_data = {\"pages\": [manual_data[0]], \"date\": date}\n\n        if raw_data is None:\n            try:\n                raw_data = await self._fetch_data(date)\n            except AdapterHttpError as e:\n                if self.manual_override_manager and self.supports_manual_override:\n                    self.manual_override_manager.register_failure(self.source_name, e.url)\n                raise  # Reraise the exception to be handled by the OddsEngine\n\n        if raw_data is not None:\n            parsed_races = self._parse_races(raw_data)\n            for race in parsed_races:\n                yield race\n\n    @retry(\n        wait=wait_exponential(multiplier=1, min=2, max=10),\n        stop=stop_after_attempt(3),\n        reraise=True,  # Reraise the final exception to be caught by get_races\n    )\n    async def make_request(self, http_client: httpx.AsyncClient, method: str, url: str, **kwargs) -> httpx.Response:\n        \"\"\"\n        Makes a resilient HTTP request with built-in retry logic using tenacity.\n        \"\"\"\n        # Ensure the URL is correctly formed, whether it's relative or absolute\n        full_url = url if url.startswith(\"http\") else f\"{self.base_url.rstrip('/')}/{url.lstrip('/')}\"\n\n        try:\n            self.logger.info(\"Making request\", method=method.upper(), url=full_url)\n            response = await http_client.request(method, full_url, timeout=self.timeout, **kwargs)\n            response.raise_for_status()  # Raise an exception for 4xx/5xx responses\n            return response\n        except httpx.HTTPStatusError as e:\n            self.logger.error(\n                \"HTTP Status Error during request\",\n                status_code=e.response.status_code,\n                url=str(e.request.url),\n            )\n            raise AdapterHttpError(\n                adapter_name=self.source_name,\n                status_code=e.response.status_code,\n                url=str(e.request.url),\n            ) from e\n        except (httpx.RequestError, RetryError) as e:\n            self.logger.error(\"Request Error or Retry Error\", error=str(e))\n            raise AdapterHttpError(\n                adapter_name=self.source_name,\n                status_code=503,  # Service Unavailable\n                url=full_url,\n            ) from e\n\n    def get_status(self) -> dict:\n        \"\"\"\n        Returns a dictionary representing the adapter's current status.\n        Subclasses can extend this to include more specific health checks.\n        \"\"\"\n        return {\n            \"adapter_name\": self.source_name,\n            \"status\": \"OK\",  # Basic status; can be enhanced in subclasses\n        }\n",
    "python_service/adapters/betfair_greyhound_adapter.py": "# python_service/adapters/betfair_greyhound_adapter.py\nimport re\nfrom datetime import datetime\nfrom datetime import timedelta\nfrom typing import Any\nfrom typing import List\nfrom typing import Optional\n\nfrom ..models import Race\nfrom ..models import Runner\nfrom .base_adapter_v3 import BaseAdapterV3\nfrom .betfair_auth_mixin import BetfairAuthMixin\n\n\nclass BetfairGreyhoundAdapter(BetfairAuthMixin, BaseAdapterV3):\n    \"\"\"Adapter for fetching greyhound racing data from the Betfair Exchange API, using V3 architecture.\"\"\"\n\n    SOURCE_NAME = \"BetfairGreyhounds\"\n    BASE_URL = \"https://api.betfair.com/exchange/betting/rest/v1.0/\"\n\n    def __init__(self, config=None):\n        super().__init__(source_name=self.SOURCE_NAME, base_url=self.BASE_URL, config=config)\n\n    async def _fetch_data(self, date: str) -> Any:\n        \"\"\"Fetches the raw market catalogue for greyhound races on a given date.\"\"\"\n        await self._authenticate(self.http_client)\n        if not self.session_token:\n            self.logger.error(\"Authentication failed, cannot fetch data.\")\n            return None\n\n        start_time, end_time = self._get_datetime_range(date)\n\n        response = await self.make_request(\n            self.http_client,\n            method=\"post\",\n            url=f\"{self.BASE_URL}listMarketCatalogue/\",\n            json={\n                \"filter\": {\n                    \"eventTypeIds\": [\"4339\"],  # Greyhound Racing\n                    \"marketCountries\": [\"GB\", \"IE\", \"AU\"],\n                    \"marketTypeCodes\": [\"WIN\"],\n                    \"marketStartTime\": {\n                        \"from\": start_time.isoformat(),\n                        \"to\": end_time.isoformat(),\n                    },\n                },\n                \"maxResults\": 1000,\n                \"marketProjection\": [\"EVENT\", \"RUNNER_DESCRIPTION\"],\n            },\n        )\n        return response.json() if response else None\n\n    def _parse_races(self, raw_data: Any) -> List[Race]:\n        \"\"\"Parses the raw market catalogue into a list of Race objects.\"\"\"\n        if not raw_data:\n            return []\n\n        races = []\n        for market in raw_data:\n            try:\n                if race := self._parse_race(market):\n                    races.append(race)\n            except (KeyError, TypeError):\n                self.logger.warning(\n                    \"Failed to parse a Betfair Greyhound market.\",\n                    exc_info=True,\n                    market=market,\n                )\n                continue\n        return races\n\n    def _parse_race(self, market: dict) -> Optional[Race]:\n        \"\"\"Parses a single market from the Betfair API into a Race object.\"\"\"\n        market_id = market.get(\"marketId\")\n        event = market.get(\"event\", {})\n        market_start_time = market.get(\"marketStartTime\")\n\n        if not all([market_id, market_start_time]):\n            return None\n\n        start_time = datetime.fromisoformat(market_start_time.replace(\"Z\", \"+00:00\"))\n\n        runners = [\n            Runner(\n                number=runner.get(\"sortPriority\", i + 1),\n                name=runner.get(\"runnerName\"),\n                scratched=runner.get(\"status\") != \"ACTIVE\",\n                selection_id=runner.get(\"selectionId\"),\n            )\n            for i, runner in enumerate(market.get(\"runners\", []))\n            if runner.get(\"runnerName\")\n        ]\n\n        return Race(\n            id=f\"bfg_{market_id}\",\n            venue=event.get(\"venue\", \"Unknown Venue\"),\n            race_number=self._extract_race_number(market.get(\"marketName\", \"\")),\n            start_time=start_time,\n            runners=runners,\n            source=self.source_name,\n        )\n\n    def _extract_race_number(self, name: str) -> int:\n        \"\"\"Extracts the race number from a market name (e.g., 'R1 480m').\"\"\"\n        match = re.search(r\"\\bR(\\d{1,2})\\b\", name)\n        return int(match.group(1)) if match else 0\n\n    def _get_datetime_range(self, date_str: str):\n        # Helper to create a datetime range for the Betfair API\n        start_time = datetime.strptime(date_str, \"%Y-%m-%d\")\n        end_time = start_time + timedelta(days=1)\n        return start_time, end_time\n",
    "python_service/adapters/brisnet_adapter.py": "# python_service/adapters/brisnet_adapter.py\nfrom datetime import datetime\nfrom typing import List\nfrom typing import Optional\n\nfrom bs4 import BeautifulSoup\nfrom dateutil.parser import parse\n\nfrom ..models import OddsData\nfrom ..models import Race\nfrom ..models import Runner\nfrom ..utils.odds import parse_odds_to_decimal\nfrom ..utils.text import normalize_venue_name\nfrom .base_adapter_v3 import BaseAdapterV3\n\n\nclass BrisnetAdapter(BaseAdapterV3):\n    \"\"\"\n    Adapter for brisnet.com, migrated to BaseAdapterV3.\n    \"\"\"\n\n    SOURCE_NAME = \"Brisnet\"\n    BASE_URL = \"https://www.brisnet.com\"\n\n    def __init__(self, config=None):\n        super().__init__(source_name=self.SOURCE_NAME, base_url=self.BASE_URL, config=config)\n\n    async def _fetch_data(self, date: str) -> Optional[dict]:\n        \"\"\"Fetches the raw HTML from the Brisnet race page.\"\"\"\n        # Note: Brisnet URL structure seems to require a track code, e.g., 'CD' for Churchill Downs.\n        # This implementation will need to be improved to dynamically handle different tracks.\n        # For now, it is hardcoded to Churchill Downs as a placeholder.\n        url = f\"/race/{date}/CD\"\n        response = await self.make_request(self.http_client, \"GET\", url)\n        return {\"html\": response.text, \"date\": date} if response and response.text else None\n\n    def _parse_races(self, raw_data: Optional[dict]) -> List[Race]:\n        \"\"\"Parses the raw HTML into a list of Race objects.\"\"\"\n        if not raw_data or not raw_data.get(\"html\"):\n            return []\n\n        html = raw_data[\"html\"]\n        race_date = raw_data[\"date\"]\n        soup = BeautifulSoup(html, \"html.parser\")\n\n        venue_text_node = soup.select_one(\"header h1\")\n        if not venue_text_node:\n            self.logger.warning(\"Could not find venue name on Brisnet page.\")\n            return []\n\n        venue_text = venue_text_node.text\n        venue = normalize_venue_name(venue_text.split(\" - \")[0])\n\n        races = []\n        for race_section in soup.select(\"section.race\"):\n            try:\n                race_number_str = race_section.get(\"data-racenumber\")\n                if not race_number_str or not race_number_str.isdigit():\n                    continue\n                race_number = int(race_number_str)\n\n                post_time_node = race_section.select_one(\".race-title span\")\n                if not post_time_node:\n                    continue\n                post_time_str = post_time_node.text.replace(\"Post Time: \", \"\").strip()\n                start_time = parse(f\"{race_date} {post_time_str}\")\n\n                runners = []\n                for row in race_section.select(\"tbody tr\"):\n                    if \"scratched\" in row.get(\"class\", []):\n                        continue\n\n                    cells = row.find_all(\"td\")\n                    if len(cells) < 3:\n                        continue\n\n                    number_text = cells[0].text.strip()\n                    if not number_text.isdigit():\n                        continue\n                    number = int(number_text)\n\n                    name = cells[1].text.strip()\n                    odds_str = cells[2].text.strip()\n\n                    win_odds = parse_odds_to_decimal(odds_str)\n                    odds = {}\n                    if win_odds:\n                        odds[self.source_name] = OddsData(\n                            win=win_odds,\n                            source=self.source_name,\n                            last_updated=datetime.now(),\n                        )\n\n                    runners.append(Runner(number=number, name=name, odds=odds))\n\n                if not runners:\n                    continue\n\n                race = Race(\n                    id=f\"brisnet_{venue.replace(' ', '').lower()}_{race_date}_{race_number}\",\n                    venue=venue,\n                    race_number=race_number,\n                    start_time=start_time,\n                    runners=runners,\n                    source=self.source_name,\n                    field_size=len(runners),\n                )\n                races.append(race)\n            except (ValueError, IndexError, TypeError):\n                self.logger.warning(\"Failed to parse a race on Brisnet, skipping.\", exc_info=True)\n                continue\n\n        return races\n",
    "python_service/adapters/horseracingnation_adapter.py": "# python_service/adapters/horseracingnation_adapter.py\nfrom typing import Any\nfrom typing import List\n\nfrom ..models import Race\nfrom .base_adapter_v3 import BaseAdapterV3\n\n\nclass HorseRacingNationAdapter(BaseAdapterV3):\n    \"\"\"\n    Adapter for horseracingnation.com.\n    This adapter is a non-functional stub and has not been implemented.\n    \"\"\"\n\n    SOURCE_NAME = \"HorseRacingNation\"\n    BASE_URL = \"https://www.horseracingnation.com\"\n\n    def __init__(self, config=None):\n        super().__init__(source_name=self.SOURCE_NAME, base_url=self.BASE_URL, config=config)\n\n    async def _fetch_data(self, date: str) -> Any:\n        \"\"\"This is a stub and does not fetch any data.\"\"\"\n        self.logger.warning(\n            f\"{self.source_name} is a non-functional stub and has not been implemented. It will not fetch any data.\"\n        )\n        return None\n\n    def _parse_races(self, raw_data: Any) -> List[Race]:\n        \"\"\"This is a stub and does not parse any data.\"\"\"\n        return []\n",
    "python_service/adapters/oddschecker_adapter.py": "# python_service/adapters/oddschecker_adapter.py\n\nimport asyncio\nfrom datetime import datetime\nfrom typing import Any\nfrom typing import List\nfrom typing import Optional\n\nfrom bs4 import BeautifulSoup\nfrom bs4 import Tag\n\nfrom ..models import OddsData\nfrom ..models import Race\nfrom ..models import Runner\nfrom ..utils.odds import parse_odds_to_decimal\nfrom .base_adapter_v3 import BaseAdapterV3\n\n\nclass OddscheckerAdapter(BaseAdapterV3):\n    \"\"\"Adapter for scraping horse racing odds from Oddschecker, migrated to BaseAdapterV3.\"\"\"\n\n    SOURCE_NAME = \"Oddschecker\"\n    BASE_URL = \"https://www.oddschecker.com\"\n\n    def __init__(self, config=None):\n        super().__init__(source_name=self.SOURCE_NAME, base_url=self.BASE_URL, config=config)\n\n    async def _fetch_data(self, date: str) -> Optional[dict]:\n        \"\"\"\n        Fetches the raw HTML for all race pages for a given date. This involves a multi-level fetch.\n        \"\"\"\n        # Note: Oddschecker doesn't seem to support historical dates well in its main nav,\n        # but we build the URL as if it does for future compatibility.\n        index_url = f\"/horse-racing/{date}\"\n        index_response = await self.make_request(self.http_client, \"GET\", index_url)\n        if not index_response:\n            self.logger.warning(\"Failed to fetch Oddschecker index page\", url=index_url)\n            return None\n\n        index_soup = BeautifulSoup(index_response.text, \"html.parser\")\n        # Find all links to individual race pages\n        race_links = {a[\"href\"] for a in index_soup.select(\"a.race-time-link[href]\")}\n\n        async def fetch_single_html(url_path: str):\n            response = await self.make_request(self.http_client, \"GET\", url_path)\n            return response.text if response else \"\"\n\n        tasks = [fetch_single_html(link) for link in race_links]\n        html_pages = await asyncio.gather(*tasks)\n        return {\"pages\": html_pages, \"date\": date}\n\n    def _parse_races(self, raw_data: Any) -> List[Race]:\n        \"\"\"Parses a list of raw HTML strings from different races into Race objects.\"\"\"\n        if not raw_data or not raw_data.get(\"pages\"):\n            return []\n\n        try:\n            race_date = datetime.strptime(raw_data[\"date\"], \"%Y-%m-%d\").date()\n        except ValueError:\n            self.logger.error(\n                \"Invalid date format provided to OddscheckerAdapter\",\n                date=raw_data.get(\"date\"),\n            )\n            return []\n\n        all_races = []\n        for html in raw_data[\"pages\"]:\n            if not html:\n                continue\n            try:\n                soup = BeautifulSoup(html, \"html.parser\")\n                race = self._parse_race_page(soup, race_date)\n                if race:\n                    all_races.append(race)\n            except (AttributeError, IndexError, ValueError):\n                self.logger.warning(\n                    \"Error parsing a race from Oddschecker, skipping race.\",\n                    exc_info=True,\n                )\n                continue\n        return all_races\n\n    def _parse_race_page(self, soup: BeautifulSoup, race_date) -> Optional[Race]:\n        track_name_node = soup.select_one(\"h1.meeting-name\")\n        if not track_name_node:\n            return None\n        track_name = track_name_node.get_text(strip=True)\n\n        race_time_node = soup.select_one(\"span.race-time\")\n        if not race_time_node:\n            return None\n        race_time_str = race_time_node.get_text(strip=True)\n\n        # Heuristic to find race number from navigation\n        active_link = soup.select_one(\"a.race-time-link.active\")\n        race_number = 1\n        if active_link:\n            all_links = soup.select(\"a.race-time-link\")\n            try:\n                race_number = all_links.index(active_link) + 1\n            except ValueError:\n                pass  # Keep default race number if active link not in all links\n\n        start_time = datetime.combine(race_date, datetime.strptime(race_time_str, \"%H:%M\").time())\n        runners = [runner for row in soup.select(\"tr.race-card-row\") if (runner := self._parse_runner_row(row))]\n\n        if not runners:\n            return None\n\n        return Race(\n            id=f\"oc_{track_name.lower().replace(' ', '')}_{start_time.strftime('%Y%m%d')}_r{race_number}\",\n            venue=track_name,\n            race_number=race_number,\n            start_time=start_time,\n            runners=runners,\n            source=self.source_name,\n        )\n\n    def _parse_runner_row(self, row: Tag) -> Optional[Runner]:\n        try:\n            name_node = row.select_one(\"span.selection-name\")\n            if not name_node:\n                return None\n            name = name_node.get_text(strip=True)\n\n            odds_node = row.select_one(\"span.bet-button-odds-desktop, span.best-price\")\n            if not odds_node:\n                return None\n            odds_str = odds_node.get_text(strip=True)\n\n            number_node = row.select_one(\"td.runner-number\")\n            if not number_node or not number_node.get_text(strip=True).isdigit():\n                return None\n            number = int(number_node.get_text(strip=True))\n\n            if not name or not odds_str:\n                return None\n\n            win_odds = parse_odds_to_decimal(odds_str)\n            odds_dict = {}\n            if win_odds and win_odds < 999:\n                odds_dict[self.source_name] = OddsData(\n                    win=win_odds, source=self.source_name, last_updated=datetime.now()\n                )\n\n            return Runner(number=number, name=name, odds=odds_dict)\n        except (AttributeError, ValueError):\n            self.logger.warning(\"Failed to parse a runner on Oddschecker, skipping runner.\")\n            return None\n",
    "python_service/adapters/racing_and_sports_adapter.py": "# python_service/adapters/racing_and_sports_adapter.py\n\nfrom datetime import datetime\nfrom typing import Any\nfrom typing import Dict\nfrom typing import List\nfrom typing import Optional\n\nfrom ..core.exceptions import AdapterConfigError\nfrom ..models import Race\nfrom ..models import Runner\nfrom .base_adapter_v3 import BaseAdapterV3\n\n\nclass RacingAndSportsAdapter(BaseAdapterV3):\n    \"\"\"Adapter for Racing and Sports API, migrated to BaseAdapterV3.\"\"\"\n\n    SOURCE_NAME = \"RacingAndSports\"\n    BASE_URL = \"https://api.racingandsports.com.au/\"\n\n    def __init__(self, config=None):\n        super().__init__(source_name=self.SOURCE_NAME, base_url=self.BASE_URL, config=config)\n        if not hasattr(config, \"RACING_AND_SPORTS_TOKEN\") or not config.RACING_AND_SPORTS_TOKEN:\n            raise AdapterConfigError(self.source_name, \"RACING_AND_SPORTS_TOKEN is not configured.\")\n        self.api_token = config.RACING_AND_SPORTS_TOKEN\n\n    async def _fetch_data(self, date: str) -> Optional[Dict[str, Any]]:\n        \"\"\"Fetches the raw meetings data from the Racing and Sports API.\"\"\"\n        headers = {\n            \"Authorization\": f\"Bearer {self.api_token}\",\n            \"Accept\": \"application/json\",\n        }\n        params = {\"date\": date, \"jurisdiction\": \"AUS\"}\n        response = await self.make_request(\n            self.http_client,\n            \"GET\",\n            \"v1/racing/meetings\",\n            headers=headers,\n            params=params,\n        )\n        return response.json() if response else None\n\n    def _parse_races(self, raw_data: Optional[Dict[str, Any]]) -> List[Race]:\n        \"\"\"Parses the raw meetings data into a list of Race objects.\"\"\"\n        all_races = []\n        if not raw_data or not isinstance(raw_data.get(\"meetings\"), list):\n            self.logger.warning(\"No 'meetings' in RacingAndSports response or invalid format.\")\n            return all_races\n\n        for meeting in raw_data.get(\"meetings\", []):\n            if not isinstance(meeting, dict):\n                continue\n            for race_summary in meeting.get(\"races\", []):\n                if not isinstance(race_summary, dict):\n                    continue\n                try:\n                    if parsed_race := self._parse_ras_race(meeting, race_summary):\n                        all_races.append(parsed_race)\n                except (KeyError, TypeError, ValueError):\n                    self.logger.warning(\n                        \"Failed to parse RacingAndSports race, skipping\",\n                        meeting=meeting.get(\"venueName\"),\n                        race_id=race_summary.get(\"raceId\"),\n                        exc_info=True,\n                    )\n        return all_races\n\n    def _parse_ras_race(self, meeting: Dict[str, Any], race: Dict[str, Any]) -> Optional[Race]:\n        \"\"\"Parses a single race object from the API response.\"\"\"\n        race_id = race.get(\"raceId\")\n        start_time_str = race.get(\"startTime\")\n        race_number = race.get(\"raceNumber\")\n\n        if not all([race_id, start_time_str, race_number]):\n            return None\n\n        runners = [\n            Runner(\n                number=rd.get(\"runnerNumber\", 0),\n                name=rd.get(\"horseName\", \"Unknown\"),\n                scratched=rd.get(\"isScratched\", False),\n            )\n            for rd in race.get(\"runners\", [])\n            if isinstance(rd, dict) and rd.get(\"runnerNumber\")\n        ]\n\n        if not runners:\n            return None\n\n        try:\n            start_time = datetime.fromisoformat(start_time_str)\n        except (ValueError, TypeError):\n            self.logger.warning(\n                \"Invalid start time format for RacingAndSports race\",\n                start_time_str=start_time_str,\n                race_id=race_id,\n            )\n            return None\n\n        return Race(\n            id=f\"ras_{race_id}\",\n            venue=meeting.get(\"venueName\", \"Unknown Venue\"),\n            race_number=race_number,\n            start_time=start_time,\n            runners=runners,\n            source=self.source_name,\n        )\n",
    "python_service/adapters/tab_adapter.py": "# python_service/adapters/tab_adapter.py\nfrom typing import Any\nfrom typing import List\n\nfrom ..models import Race\nfrom .base_adapter_v3 import BaseAdapterV3\n\n\nclass TabAdapter(BaseAdapterV3):\n    \"\"\"\n    Adapter for tab.com.au.\n    This adapter is a non-functional stub and has not been implemented.\n    \"\"\"\n\n    SOURCE_NAME = \"TAB\"\n    BASE_URL = \"https://www.tab.com.au\"\n\n    def __init__(self, config=None):\n        super().__init__(source_name=self.SOURCE_NAME, base_url=self.BASE_URL, config=config)\n\n    async def _fetch_data(self, date: str) -> Any:\n        \"\"\"This is a stub and does not fetch any data.\"\"\"\n        self.logger.warning(\n            f\"{self.source_name} is a non-functional stub and has not been implemented. It will not fetch any data.\"\n        )\n        return None\n\n    def _parse_races(self, raw_data: Any) -> List[Race]:\n        \"\"\"This is a stub and does not parse any data.\"\"\"\n        return []\n",
    "python_service/adapters/universal_adapter.py": "# python_service/adapters/universal_adapter.py\nimport json\nfrom typing import Any\nfrom typing import List\n\nfrom bs4 import BeautifulSoup\n\nfrom ..models import Race\nfrom .base_adapter_v3 import BaseAdapterV3\n\n\nclass UniversalAdapter(BaseAdapterV3):\n    \"\"\"\n    An adapter that executes logic from a declarative JSON definition file.\n    NOTE: This is a simplified proof-of-concept implementation.\n    \"\"\"\n\n    def __init__(self, config, definition_path: str):\n        with open(definition_path, \"r\") as f:\n            self.definition = json.load(f)\n\n        super().__init__(\n            source_name=self.definition[\"adapter_name\"],\n            base_url=self.definition[\"base_url\"],\n            config=config,\n        )\n\n    async def _fetch_data(self, date: str) -> Any:\n        \"\"\"Executes the fetch steps defined in the JSON definition.\"\"\"\n        self.logger.info(f\"Executing Universal Adapter PoC for {self.source_name}\")\n        response = await self.make_request(self.http_client, \"GET\", self.definition[\"start_url\"])\n        if not response:\n            return None\n\n        soup = BeautifulSoup(response.text, \"html.parser\")\n        track_links = [self.base_url + a[\"href\"] for a in soup.select(self.definition[\"steps\"][0][\"selector\"])]\n\n        # In a full implementation, we would fetch and return each track page's content.\n        # For this PoC, we are not fetching the individual track links.\n        self.logger.warning(\"UniversalAdapter is a proof-of-concept and does not fully fetch all data.\")\n        return track_links\n\n    def _parse_races(self, raw_data: Any) -> List[Race]:\n        \"\"\"This is a proof-of-concept and does not parse any data.\"\"\"\n        return []\n",
    "python_service/adapters/utils.py": "# python_service/adapters/utils.py\n# Compatibility shim to re-export parse_odds from the centralized location.\n\nfrom ..utils.odds import parse_odds\n\n__all__ = [\"parse_odds\"]\n",
    "python_service/adapters/xpressbet_adapter.py": "# python_service/adapters/xpressbet_adapter.py\nfrom typing import Any\nfrom typing import List\n\nfrom ..models import Race\nfrom .base_adapter_v3 import BaseAdapterV3\n\n\nclass XpressbetAdapter(BaseAdapterV3):\n    \"\"\"\n    Adapter for xpressbet.com.\n    This adapter is a non-functional stub and has not been implemented.\n    \"\"\"\n\n    SOURCE_NAME = \"Xpressbet\"\n    BASE_URL = \"https://www.xpressbet.com\"\n\n    def __init__(self, config=None):\n        super().__init__(source_name=self.SOURCE_NAME, base_url=self.BASE_URL, config=config)\n\n    async def _fetch_data(self, date: str) -> Any:\n        \"\"\"This is a stub and does not fetch any data.\"\"\"\n        self.logger.warning(\n            f\"{self.source_name} is a non-functional stub and has not been implemented. It will not fetch any data.\"\n        )\n        return None\n\n    def _parse_races(self, raw_data: Any) -> List[Race]:\n        \"\"\"This is a stub and does not parse any data.\"\"\"\n        return []\n",
    "python_service/config.py": "# python_service/config.py\nimport os\nimport sys\nfrom functools import lru_cache\nfrom pathlib import Path\nfrom typing import List\nfrom typing import Optional\n\nimport structlog\nfrom pydantic import Field\nfrom pydantic import model_validator\nfrom pydantic_settings import BaseSettings\n\nfrom .credentials_manager import SecureCredentialsManager\n\n# --- Encryption Setup ---\ntry:\n    from cryptography.fernet import Fernet\n\n    ENCRYPTION_ENABLED = True\nexcept ImportError:\n    ENCRYPTION_ENABLED = False\n\nKEY_FILE = Path(\".key\")\nCIPHER = None\nif ENCRYPTION_ENABLED and KEY_FILE.exists():\n    with open(KEY_FILE, \"rb\") as f:\n        key = f.read()\n    CIPHER = Fernet(key)\n\n\ndef decrypt_value(value: Optional[str]) -> str:\n    \"\"\"If a value is encrypted, decrypts it. Otherwise, returns it as is.\"\"\"\n    if value and value.startswith(\"encrypted:\") and CIPHER:\n        try:\n            return CIPHER.decrypt(value[10:].encode()).decode()\n        except Exception:\n            structlog.get_logger(__name__).error(\"Decryption failed on field.\")\n            return \"\"  # Fallback to an empty string on failure\n    return value or \"\"  # Ensure a non-None return value even if input is None\n\n\nclass Settings(BaseSettings):\n    API_KEY: str = Field(\"\")\n\n    # --- API Gateway Configuration ---\n    UVICORN_HOST: str = \"127.0.0.1\"\n    FORTUNA_PORT: int = 8000\n    UVICORN_RELOAD: bool = True\n\n    # --- Database Configuration ---\n    DATABASE_TYPE: str = \"sqlite\"\n    DATABASE_URL: str = \"sqlite:///./fortuna.db\"\n\n    # --- Optional Betfair Credentials ---\n    BETFAIR_APP_KEY: Optional[str] = None\n\n    # --- Caching & Performance ---\n    REDIS_URL: str = \"redis://localhost:6379\"\n    CACHE_TTL_SECONDS: int = 1800  # 30 minutes\n    MAX_CONCURRENT_REQUESTS: int = 10\n    HTTP_POOL_CONNECTIONS: int = 100\n    HTTP_POOL_MAXSIZE: int = 100\n    HTTP_MAX_KEEPALIVE: int = 50\n    DEFAULT_TIMEOUT: int = 30\n    ADAPTER_TIMEOUT: int = 20\n\n    # --- Logging ---\n    LOG_LEVEL: str = \"INFO\"\n\n    # --- Optional Adapter Keys ---\n    NEXT_PUBLIC_API_KEY: Optional[str] = None  # Allow frontend key to be present in .env\n    TVG_API_KEY: Optional[str] = None\n    RACING_AND_SPORTS_TOKEN: Optional[str] = None\n    POINTSBET_API_KEY: Optional[str] = None\n    GREYHOUND_API_URL: Optional[str] = None\n    THE_RACING_API_KEY: Optional[str] = None\n\n    # --- CORS Configuration ---\n    ALLOWED_ORIGINS: List[str] = [\"http://localhost:3000\", \"http://localhost:3001\"]\n\n    # --- Dynamic Path Configuration ---\n    # This determines the path to static files, crucial for PyInstaller builds\n    STATIC_FILES_DIR: Optional[str] = None\n\n    model_config = {\"env_file\": \".env\", \"case_sensitive\": True}\n\n    @model_validator(mode=\"after\")\n    def process_settings(self) -> \"Settings\":\n        \"\"\"\n        This validator runs after the initial settings are loaded from .env and\n        performs two key functions:\n        1. If API_KEY is missing, it falls back to the SecureCredentialsManager.\n        2. It decrypts any fields that were loaded from the .env file.\n        \"\"\"\n        # 1. Fallback for API_KEY\n        if not self.API_KEY:\n            self.API_KEY = SecureCredentialsManager.get_credential(\"api_key\") or \"MISSING\"\n\n        # 2. Security validation for API_KEY\n        insecure_keys = {\"test\", \"changeme\", \"default\", \"secret\", \"password\", \"admin\"}\n        if self.API_KEY in insecure_keys:\n            structlog.get_logger(__name__).warning(\n                \"insecure_api_key\",\n                key=self.API_KEY,\n                recommendation=\"The API_KEY should be a long, random string for security.\",\n            )\n\n        # 2. Decrypt sensitive fields\n        self.BETFAIR_APP_KEY = decrypt_value(self.BETFAIR_APP_KEY)\n\n        # 3. Set the static files directory for packaged apps\n        if getattr(sys, \"frozen\", False):\n            # Running in a PyInstaller bundle\n            self.STATIC_FILES_DIR = os.path.join(sys._MEIPASS, \"ui\")\n        else:\n            # Running in a normal Python environment\n            self.STATIC_FILES_DIR = None  # Not needed for local dev\n\n        return self\n\n\n@lru_cache()\ndef get_settings() -> Settings:\n    \"\"\"Loads settings and performs a proactive check for legacy paths.\"\"\"\n    log = structlog.get_logger(__name__)\n    if ENCRYPTION_ENABLED and not KEY_FILE.exists():\n        log.warning(\n            \"encryption_key_not_found\",\n            file=str(KEY_FILE),\n            recommendation=\"Run 'python manage_secrets.py' to generate a key.\",\n        )\n\n    settings = Settings()\n\n    # --- Legacy Path Detection ---\n    legacy_paths = [\"attic/\", \"checkmate_web/\", \"vba_source/\"]\n    for path in legacy_paths:\n        if os.path.exists(path):\n            log.warning(\n                \"legacy_path_detected\",\n                path=path,\n                recommendation=\"This directory is obsolete and should be removed for optimal performance and security.\",\n            )\n\n    return settings\n",
    "python_service/core/__init__.py": "",
    "python_service/core/exceptions.py": "# python_service/core/exceptions.py\n\"\"\"\nCustom, application-specific exceptions for the Fortuna Faucet service.\n\nThis module defines a hierarchy of exception classes to provide standardized\nerror handling, particularly for the data adapter layer. Using these specific\nexceptions instead of generic ones allows for more precise error handling and\nclearer logging throughout the application.\n\"\"\"\n\n\nclass FortunaException(Exception):\n    \"\"\"Base class for all custom exceptions in this application.\"\"\"\n\n    pass\n\n\nclass AdapterError(FortunaException):\n    \"\"\"Base class for all adapter-related errors.\"\"\"\n\n    def __init__(self, adapter_name: str, message: str):\n        self.adapter_name = adapter_name\n        super().__init__(f\"[{adapter_name}] {message}\")\n\n\nclass AdapterRequestError(AdapterError):\n    \"\"\"Raised for general network or request-related issues.\"\"\"\n\n    pass\n\n\nclass AdapterHttpError(AdapterRequestError):\n    \"\"\"Raised for unsuccessful HTTP responses (e.g., 4xx or 5xx status codes).\"\"\"\n\n    def __init__(self, adapter_name: str, status_code: int, url: str):\n        self.status_code = status_code\n        self.url = url\n        message = f\"Received HTTP {status_code} from {url}\"\n        super().__init__(adapter_name, message)\n\n\nclass AdapterAuthError(AdapterHttpError):\n    \"\"\"Raised specifically for HTTP 401/403 errors, indicating an auth failure.\"\"\"\n\n    pass\n\n\nclass AdapterRateLimitError(AdapterHttpError):\n    \"\"\"Raised specifically for HTTP 429 errors, indicating a rate limit has been hit.\"\"\"\n\n    pass\n\n\nclass AdapterTimeoutError(AdapterRequestError):\n    \"\"\"Raised when a request to an external API times out.\"\"\"\n\n    pass\n\n\nclass AdapterConnectionError(AdapterRequestError):\n    \"\"\"Raised for DNS lookup failures or refused connections.\"\"\"\n\n    pass\n\n\nclass AdapterConfigError(AdapterError):\n    \"\"\"Raised when an adapter is missing necessary configuration (e.g., an API key).\"\"\"\n\n    pass\n\n\nclass AdapterParsingError(AdapterError):\n    \"\"\"Raised when an adapter fails to parse the response from an API.\"\"\"\n\n    pass\n",
    "python_service/credentials_manager.py": "# python_service/credentials_manager.py\ntry:\n    import keyring\n\n    # This check is crucial for cross-platform compatibility\n    import keyring.backends.windows\n\n    IS_WINDOWS = True\nexcept ImportError:\n    keyring = None\n    IS_WINDOWS = False\n\n\nclass SecureCredentialsManager:\n    \"\"\"Manages secrets in the system's native credential store.\"\"\"\n\n    SERVICE_NAME = \"Fortuna\"\n\n    @staticmethod\n    def save_credential(account: str, secret: str) -> bool:\n        \"\"\"Saves a secret for a given account (e.g., 'api_key', 'betfair_username').\"\"\"\n        if not IS_WINDOWS:\n            print(\"Credential storage is only supported on Windows.\")\n            return False\n        try:\n            keyring.set_password(SecureCredentialsManager.SERVICE_NAME, account, secret)\n            return True\n        except Exception as e:\n            print(f\"\u274c Failed to save credential for {account}: {e}\")\n            return False\n\n    @staticmethod\n    def get_credential(account: str) -> str:\n        \"\"\"Retrieves a secret for a given account.\"\"\"\n        if not IS_WINDOWS:\n            return None\n        try:\n            return keyring.get_password(SecureCredentialsManager.SERVICE_NAME, account)\n        except Exception as e:\n            print(f\"\u274c Failed to retrieve credential for {account}: {e}\")\n            return None\n\n    @staticmethod\n    def get_betfair_credentials() -> tuple[str, str]:\n        \"\"\"Convenience method to retrieve both Betfair username and password.\"\"\"\n        username = SecureCredentialsManager.get_credential(\"betfair_username\")\n        password = SecureCredentialsManager.get_credential(\"betfair_password\")\n        return username, password\n\n    @staticmethod\n    def delete_credential(account: str):\n        \"\"\"Deletes a specific credential.\"\"\"\n        if not IS_WINDOWS:\n            return\n        try:\n            keyring.delete_password(SecureCredentialsManager.SERVICE_NAME, account)\n        except Exception:\n            pass\n",
    "python_service/db/init.py": "# python_service/db/init.py\nimport os\nimport sqlite3\n\nfrom ..config import get_settings\n\n\ndef initialize_database():\n    \"\"\"\n    Initializes the database based on the configuration.\n    Currently supports a simple SQLite fallback for local testing.\n    \"\"\"\n    settings = get_settings()\n    db_type = getattr(settings, \"DATABASE_TYPE\", \"sqlite\").lower()\n\n    if db_type == \"sqlite\":\n        # DATABASE_URL for sqlite will be like 'sqlite:///./fortuna.db'\n        db_path = settings.DATABASE_URL.split(\"///\")[1]\n\n        # Ensure the directory for the database exists\n        os.makedirs(os.path.dirname(db_path), exist_ok=True)\n\n        try:\n            conn = sqlite3.connect(db_path)\n            cursor = conn.cursor()\n\n            # The schema is based on the provided pg_schemas, adapted for SQLite\n            # This is a simplified version for demonstration.\n            cursor.execute(\n                \"\"\"\n            CREATE TABLE IF NOT EXISTS races (\n                id TEXT PRIMARY KEY,\n                venue TEXT NOT NULL,\n                race_number INTEGER NOT NULL,\n                start_time TEXT NOT NULL,\n                source TEXT,\n                field_size INTEGER\n            )\n            \"\"\"\n            )\n\n            cursor.execute(\n                \"\"\"\n            CREATE TABLE IF NOT EXISTS runners (\n                id INTEGER PRIMARY KEY AUTOINCREMENT,\n                race_id TEXT,\n                number INTEGER,\n                name TEXT,\n                odds REAL,\n                FOREIGN KEY (race_id) REFERENCES races (id)\n            )\n            \"\"\"\n            )\n\n            conn.commit()\n            conn.close()\n            print(\"SQLite database initialized successfully.\")\n        except sqlite3.Error as e:\n            print(f\"Error initializing SQLite database: {e}\")\n            raise\n",
    "python_service/etl.py": "# python_service/etl.py\n# ETL pipeline for populating the historical data warehouse\n\nimport json\nimport logging\nimport os\nfrom datetime import date\n\nimport requests\nfrom sqlalchemy import create_engine\nfrom sqlalchemy import text\nfrom sqlalchemy.exc import SQLAlchemyError\n\nlogging.basicConfig(level=logging.INFO)\nlogger = logging.getLogger(__name__)\n\n\nclass ScribesArchivesETL:\n    def __init__(self):\n        self.postgres_url = os.getenv(\"POSTGRES_URL\")\n        self.api_key = os.getenv(\"API_KEY\")\n        self.api_base_url = \"http://localhost:8000\"\n        self.engine = self._get_db_engine()\n\n    def _get_db_engine(self):\n        if not self.postgres_url:\n            logger.warning(\"POSTGRES_URL not set. ETL will be skipped.\")\n            return None\n        try:\n            return create_engine(self.postgres_url)\n        except Exception as e:\n            logger.error(f\"Failed to create database engine: {e}\", exc_info=True)\n            return None\n\n    def _fetch_race_data(self, target_date: date) -> list:\n        \"\"\"Fetches aggregated race data from the local API.\"\"\"\n        if not self.api_key:\n            raise ValueError(\"API_KEY not found in environment.\")\n\n        url = f\"{self.api_base_url}/api/races?race_date={target_date.isoformat()}\"\n        headers = {\"X-API-KEY\": self.api_key}\n        response = requests.get(url, headers=headers, timeout=120)\n        response.raise_for_status()\n        return response.json().get(\"races\", [])\n\n    def _validate_and_transform(self, race: dict) -> tuple:\n        \"\"\"Validates a race dictionary and transforms it for insertion.\"\"\"\n        if not all(k in race for k in [\"id\", \"venue\", \"race_number\", \"start_time\", \"runners\"]):\n            return (\n                None,\n                \"Missing core fields (id, venue, race_number, start_time, runners)\",\n            )\n\n        active_runners = [r for r in race.get(\"runners\", []) if not r.get(\"scratched\")]\n\n        transformed = {\n            \"race_id\": race[\"id\"],\n            \"venue\": race[\"venue\"],\n            \"race_number\": race[\"race_number\"],\n            \"start_time\": race[\"start_time\"],\n            \"source\": race.get(\"source\"),\n            \"qualification_score\": race.get(\"qualification_score\"),\n            \"field_size\": len(active_runners),\n        }\n        return transformed, None\n\n    def run(self, target_date: date):\n        if not self.engine:\n            return\n\n        logger.info(f\"Starting ETL process for {target_date.isoformat()}...\")\n        try:\n            races = self._fetch_race_data(target_date)\n        except (requests.RequestException, ValueError) as e:\n            logger.error(f\"Failed to fetch race data: {e}\", exc_info=True)\n            return\n\n        clean_records = []\n        quarantined_records = []\n\n        for race in races:\n            transformed, reason = self._validate_and_transform(race)\n            if transformed:\n                clean_records.append(transformed)\n            else:\n                quarantined_records.append(\n                    {\n                        \"race_id\": race.get(\"id\"),\n                        \"source\": race.get(\"source\"),\n                        \"payload\": json.dumps(race),\n                        \"reason\": reason,\n                    }\n                )\n\n        with self.engine.connect() as connection:\n            try:\n                with connection.begin():  # Transaction block\n                    if clean_records:\n                        # Using ON CONFLICT to prevent duplicates\n                        stmt = text(\n                            \"\"\"\n                            INSERT INTO historical_races (\n                                race_id, venue, race_number, start_time, source,\n                                qualification_score, field_size\n                            )\n                            VALUES (\n                                :race_id, :venue, :race_number, :start_time, :source,\n                                :qualification_score, :field_size\n                            )\n                            ON CONFLICT (race_id) DO NOTHING;\n                        \"\"\"\n                        )\n                        connection.execute(stmt, clean_records)\n                        logger.info(f\"Inserted/updated {len(clean_records)} records into historical_races.\")\n\n                    if quarantined_records:\n                        stmt = text(\n                            \"\"\"\n                            INSERT INTO quarantined_races (race_id, source, payload, reason)\n                            VALUES (:race_id, :source, :payload::jsonb, :reason);\n                        \"\"\"\n                        )\n                        connection.execute(stmt, quarantined_records)\n                        logger.warning(f\"Moved {len(quarantined_records)} records to quarantine.\")\n            except SQLAlchemyError as e:\n                logger.error(f\"Database transaction failed: {e}\", exc_info=True)\n\n        logger.info(\"ETL process finished.\")\n\n\ndef run_etl_for_yesterday():\n    from datetime import timedelta\n\n    yesterday = date.today() - timedelta(days=1)\n    etl = ScribesArchivesETL()\n    etl.run(yesterday)\n",
    "python_service/fortuna_service.py": "# fortuna_service.py\n# The main service runner, upgraded to the final Endgame architecture.\n\nimport json\nimport logging\nimport os\nimport sqlite3\nimport subprocess\nimport threading\nfrom datetime import datetime\nfrom typing import List\nfrom typing import Optional\n\nfrom .analyzer import TrifectaAnalyzer\nfrom .engine import Race\nfrom .engine import Settings\nfrom .engine import SuperchargedOrchestrator\n\n\nclass DatabaseHandler:\n    def __init__(self, db_path: str):\n        self.db_path = db_path\n        self.logger = logging.getLogger(self.__class__.__name__)\n        self._setup_database()\n\n    def _get_connection(self):\n        return sqlite3.connect(self.db_path, timeout=10)\n\n    def _setup_database(self):\n        try:\n            # Correctly resolve paths from the service's location\n            base_dir = os.path.abspath(os.path.join(os.path.dirname(__file__), \"..\"))\n            schema_path = os.path.join(base_dir, \"shared_database\", \"schema.sql\")\n            web_schema_path = os.path.join(base_dir, \"shared_database\", \"web_schema.sql\")\n\n            # Read both schema files\n            with open(schema_path, \"r\") as f:\n                schema = f.read()\n            with open(web_schema_path, \"r\") as f:\n                web_schema = f.read()\n\n            # Apply both schemas in a single transaction\n            with self._get_connection() as conn:\n                cursor = conn.cursor()\n                cursor.executescript(schema)\n                cursor.executescript(web_schema)\n                conn.commit()\n            self.logger.info(\"CRITICAL SUCCESS: All database schemas (base + web) applied successfully.\")\n        except Exception as e:\n            self.logger.critical(\n                f\"FATAL: Database setup failed. Other platforms will fail. Error: {e}\",\n                exc_info=True,\n            )\n            raise\n\n    def update_races_and_status(self, races: List[Race], statuses: List[dict]):\n        with self._get_connection() as conn:\n            cursor = conn.cursor()\n            for race in races:\n                cursor.execute(\n                    \"\"\"\n                    INSERT OR REPLACE INTO live_races (\n                        race_id, track_name, race_number, post_time, raw_data_json,\n                        fortuna_score, qualified, trifecta_factors_json, updated_at\n                    )\n                    VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)\n                \"\"\",\n                    (\n                        race.race_id,\n                        race.track_name,\n                        race.race_number,\n                        race.post_time,\n                        race.model_dump_json(),\n                        race.fortuna_score,\n                        race.is_qualified,\n                        race.trifecta_factors_json,\n                        datetime.now(),\n                    ),\n                )\n            for status in statuses:\n                cursor.execute(\n                    \"\"\"\n                    INSERT OR REPLACE INTO adapter_status (\n                        adapter_name, status, last_run, races_found, error_message,\n                        execution_time_ms\n                    )\n                    VALUES (?, ?, ?, ?, ?, ?)\n                \"\"\",\n                    (\n                        status.get(\"adapter_id\"),\n                        status.get(\"status\"),\n                        status.get(\"timestamp\"),\n                        status.get(\"races_found\"),\n                        status.get(\"error_message\"),\n                        int(status.get(\"response_time\", 0) * 1000),\n                    ),\n                )\n\n            if races or statuses:\n                cursor.execute(\n                    \"INSERT INTO events (event_type, payload) VALUES (?, ?)\",\n                    (\"RACES_UPDATED\", json.dumps({\"race_count\": len(races)})),\n                )\n\n            conn.commit()\n        self.logger.info(f\"Database updated with {len(races)} races and {len(statuses)} adapter statuses.\")\n\n\nclass FortunaBackgroundService:\n    def __init__(self):\n        self.logger = logging.getLogger(self.__class__.__name__)\n        from dotenv import load_dotenv\n\n        dotenv_path = os.path.join(os.path.dirname(__file__), \"..\", \".env\")\n        load_dotenv(dotenv_path=dotenv_path)\n\n        db_path = os.getenv(\"FORTUNA_DB_PATH\")\n        if not db_path:\n            self.logger.critical(\"FATAL: FORTUNA_DB_PATH environment variable not set. Service cannot start.\")\n            raise ValueError(\"FORTUNA_DB_PATH is not configured.\")\n\n        self.logger.info(f\"Database path loaded from environment: {db_path}\")\n\n        self.settings = Settings()\n        self.db_handler = DatabaseHandler(db_path)\n        self.orchestrator = SuperchargedOrchestrator(self.settings)\n        self.python_analyzer = TrifectaAnalyzer(self.settings)\n        self.stop_event = threading.Event()\n        self.rust_engine_path = os.path.join(\n            os.path.dirname(__file__),\n            \"..\",\n            \"rust_engine\",\n            \"target\",\n            \"release\",\n            \"fortuna_engine.exe\",\n        )\n\n    def _analyze_with_rust(self, races: List[Race]) -> Optional[List[Race]]:\n        self.logger.info(\"Attempting analysis with external Rust engine.\")\n        try:\n            race_data_json = json.dumps([r.model_dump() for r in races])\n            result = subprocess.run(\n                [self.rust_engine_path],\n                input=race_data_json,\n                capture_output=True,\n                text=True,\n                check=True,\n                timeout=30,\n            )\n            results_data = json.loads(result.stdout)\n            results_map = {res[\"race_id\"]: res for res in results_data}\n\n            for race in races:\n                if race.race_id in results_map:\n                    res = results_map[race.race_id]\n                    race.fortuna_score = res.get(\"fortuna_score\")\n                    race.is_qualified = res.get(\"qualified\")\n                    race.trifecta_factors_json = json.dumps(res.get(\"trifecta_factors\"))\n            return races\n        except FileNotFoundError:\n            self.logger.warning(\"Rust engine not found. Falling back to Python analyzer.\")\n            return None\n        except (\n            subprocess.CalledProcessError,\n            json.JSONDecodeError,\n            subprocess.TimeoutExpired,\n        ) as e:\n            self.logger.error(f\"Rust engine execution failed: {e}. Falling back to Python analyzer.\")\n            return None\n\n    def _analyze_with_python(self, races: List[Race]) -> List[Race]:\n        self.logger.info(\"Performing analysis with internal Python engine.\")\n        return [self.python_analyzer.analyze_race_advanced(race) for race in races]\n\n    def run_continuously(self, interval_seconds: int = 60):\n        self.logger.info(\"Background service thread starting continuous run.\")\n\n        while not self.stop_event.is_set():\n            try:\n                self.logger.info(\"Starting data collection and analysis cycle.\")\n                races, statuses = self.orchestrator.get_races_parallel()\n\n                analyzed_races = None\n                if os.path.exists(self.rust_engine_path):\n                    analyzed_races = self._analyze_with_rust(races)\n\n                if analyzed_races is None:  # Fallback condition\n                    analyzed_races = self._analyze_with_python(races)\n\n                if analyzed_races:  # Ensure we have something to update\n                    self.db_handler.update_races_and_status(analyzed_races, statuses)\n\n            except Exception as e:\n                self.logger.critical(f\"Unhandled exception in service loop: {e}\", exc_info=True)\n\n            self.logger.info(f\"Cycle complete. Sleeping for {interval_seconds} seconds.\")\n            self.stop_event.wait(interval_seconds)\n        self.logger.info(\"Background service run loop has terminated.\")\n\n    def start(self):\n        self.stop_event.clear()\n        self.thread = threading.Thread(target=self.run_continuously)\n        self.thread.daemon = True\n        self.thread.start()\n        self.logger.info(\"FortunaBackgroundService started.\")\n\n    def stop(self):\n        self.stop_event.set()\n        if hasattr(self, \"thread\") and self.thread.is_alive():\n            self.thread.join(timeout=10)\n        self.logger.info(\"FortunaBackgroundService stopped.\")\n",
    "python_service/middleware/__init__.py": "",
    "python_service/requirements.in": "#\n# Fortuna Faucet - High-Level Backend Dependencies\n# This is the source of truth. Run 'pip-compile' to generate requirements.txt.\n#\n\n# --- Core Application Framework (Hard Pins) ---\nfastapi\nuvicorn==0.30.1\ncryptography\n\n# --- Core Application Dependencies (Flexible) ---\ntenacity\npydantic-settings\nhttpx[http2]\nselectolax==0.4.0\nbeautifulsoup4\nslowapi\nredis\npandas\nnumpy\nscipy\naiosqlite\nSQLAlchemy\npsycopg2-binary\nstructlog\ncertifi\n\n# --- Desktop & OS Integration (Flexible) ---\npsutil\npywin32 ; sys_platform == 'win32'\nwindows-toasts ; sys_platform == 'win32'\nkeyring\npynput ; sys_platform == 'win32'\n\n# --- Development & Testing Dependencies ---\npytest\npytest-asyncio\nblack\n\n# --- Build Dependencies (Hard Pins) ---\n# THE FIX: Upgraded to 6.6.0 for official Python 3.12 support.\npyinstaller==6.6.0\nwheel\nsetuptools>=78.1.1,<81\npip-tools\nrequests>=2.32.4\nurllib3>=2.5.0\n",
    "python_service/run_electron_service.py": "import sys\nimport os\nimport asyncio\nimport multiprocessing\n\n# This script is the official entry point for the PyInstaller-built electron service.\n# Its sole purpose is to correctly configure the system path to ensure the\n# 'python_service' package can be found, then execute the application.\n\ndef launch():\n    \"\"\"\n    Configures sys.path and launches the main application.\n    \"\"\"\n    # Required for PyInstaller on Windows when using multiprocessing.\n    if getattr(sys, 'frozen', False):\n        multiprocessing.freeze_support()\n\n    # When the application is a frozen executable, the directory containing the\n    # .exe is the effective root for our package.\n    if getattr(sys, 'frozen', False):\n        # The `_MEIPASS` attribute is a special path created by PyInstaller\n        # that points to the temporary folder where bundled files are extracted.\n        # However, for package resolution, we need the directory *containing*\n        # the executable itself.\n        project_root = os.path.dirname(os.path.abspath(sys.executable))\n    else:\n        # In a normal development environment, the project root is the\n        # directory containing this script's parent.\n        project_root = os.path.dirname(os.path.abspath(__file__))\n\n    # Add the project root to the Python path.\n    # This allows the interpreter to find the 'python_service' package.\n    sys.path.insert(0, os.path.abspath(os.path.join(project_root, '..')))\n\n\n    # Now that the path is configured, we can safely import and run the main application.\n    try:\n        from python_service.main import main\n    except ModuleNotFoundError:\n        print(\"Fatal Error: Could not find the 'python_service' package.\", file=sys.stderr)\n        print(f\"Current sys.path: {sys.path}\", file=sys.stderr)\n        sys.exit(1)\n\n    # CRITICAL FIX FOR PYINSTALLER on WINDOWS: Force event loop policy\n    if sys.platform == \"win32\" and getattr(sys, 'frozen', False):\n        asyncio.set_event_loop_policy(asyncio.WindowsSelectorEventLoopPolicy())\n        print(\"[BOOT] Applied WindowsSelectorEventLoopPolicy for PyInstaller\", file=sys.stderr)\n\n    main()\n\nif __name__ == \"__main__\":\n    launch()\n",
    "python_service/utils/__init__.py": "",
    "scripts/install_fortuna_gui.bat": "@echo off\nREM Interactive MSI installation with standard Windows UI\n\ntitle Fortuna Faucet Installation Wizard\n\nnet session >nul 2>&1\nif %errorlevel% neq 0 (\n    echo ERROR: Administrator privileges required\n    echo Please right-click this file and select \"Run as Administrator\"\n    pause\n    exit /b 1\n)\n\nREM Assumes the MSI is in the 'dist' subfolder relative to the project root\nmsiexec.exe /i \"..\\dist\\Fortuna-Faucet-2.1.0-x64.msi\" /L*v \"%TEMP%\\fortuna_install.log\"\n\nif %errorlevel% equ 0 (\n    echo Installation completed successfully!\n    echo Access dashboard at: http://localhost:3000\n) else (\n    echo Installation failed. Log: %TEMP%\\fortuna_install.log\n)\npause",
    "scripts/uninstall_fortuna.bat": "@echo off\nREM Complete removal of Fortuna Faucet\n\nnet session >nul 2>&1\nif %errorlevel% neq 0 (\n    echo ERROR: Admin rights required\n    exit /b 1\n)\n\necho WARNING: This will remove Fortuna Faucet completely.\nset /p confirm=\"Are you sure? (y/N): \"\n\nif /i not \"%confirm%\"==\"y\" exit /b 0\n\nREM Find and remove MSI by UpgradeCode\nfor /f \"tokens=2 delims=\" %%A in ('wmic product where \"Name like 'Fortuna Faucet%%'\" get IdentifyingNumber /value') do (\n    for /f \"tokens=2 delims==\" %%B in (\"%%A\") do (\n        msiexec.exe /x %%B /qn /l*v \"%TEMP%\\fortuna_uninstall.log\"\n    )\n)\n\nREM Clean up directories\nif exist \"%PROGRAMFILES%\\Fortuna Faucet\" rmdir /s /q \"%PROGRAMFILES%\\Fortuna Faucet\" 2>nul\nif exist \"%APPDATA%\\Fortuna Faucet\" rmdir /s /q \"%APPDATA%\\Fortuna Faucet\" 2>nul\n\necho Uninstall complete.",
    "web_platform/frontend/package.json": "{\n  \"name\": \"frontend\",\n  \"version\": \"0.1.0\",\n  \"private\": true,\n  \"scripts\": {\n    \"dev\": \"next dev\",\n    \"build\": \"next build\",\n    \"start\": \"next start\"\n  },\n  \"dependencies\": {\n    \"@tanstack/react-query\": \"^5.28.9\",\n    \"file-saver\": \"^2.0.5\",\n    \"lucide-react\": \"^0.548.0\",\n    \"next\": \"^14.2.33\",\n    \"react\": \"^18\",\n    \"react-dom\": \"^18\",\n    \"socket.io-client\": \"^4.7.4\"\n  },\n  \"devDependencies\": {\n    \"@types/node\": \"^20\",\n    \"@types/react\": \"^18\",\n    \"@types/react-dom\": \"^18\",\n    \"autoprefixer\": \"^10.0.1\",\n    \"file-saver\": \"^2.0.5\",\n    \"next-pwa\": \"^5.6.0\",\n    \"postcss\": \"^8\",\n    \"tailwindcss\": \"^3.3.0\",\n    \"typescript\": \"^5\"\n  }\n}\n",
    "web_platform/frontend/public/workbox-4754cb34.js": "define([\"exports\"],function(t){\"use strict\";try{self[\"workbox:core:6.5.4\"]&&_()}catch(t){}const e=(t,...e)=>{let s=t;return e.length>0&&(s+=` :: ${JSON.stringify(e)}`),s};class s extends Error{constructor(t,s){super(e(t,s)),this.name=t,this.details=s}}try{self[\"workbox:routing:6.5.4\"]&&_()}catch(t){}const n=t=>t&&\"object\"==typeof t?t:{handle:t};class r{constructor(t,e,s=\"GET\"){this.handler=n(e),this.match=t,this.method=s}setCatchHandler(t){this.catchHandler=n(t)}}class i extends r{constructor(t,e,s){super(({url:e})=>{const s=t.exec(e.href);if(s&&(e.origin===location.origin||0===s.index))return s.slice(1)},e,s)}}class a{constructor(){this.t=new Map,this.i=new Map}get routes(){return this.t}addFetchListener(){self.addEventListener(\"fetch\",t=>{const{request:e}=t,s=this.handleRequest({request:e,event:t});s&&t.respondWith(s)})}addCacheListener(){self.addEventListener(\"message\",t=>{if(t.data&&\"CACHE_URLS\"===t.data.type){const{payload:e}=t.data,s=Promise.all(e.urlsToCache.map(e=>{\"string\"==typeof e&&(e=[e]);const s=new Request(...e);return this.handleRequest({request:s,event:t})}));t.waitUntil(s),t.ports&&t.ports[0]&&s.then(()=>t.ports[0].postMessage(!0))}})}handleRequest({request:t,event:e}){const s=new URL(t.url,location.href);if(!s.protocol.startsWith(\"http\"))return;const n=s.origin===location.origin,{params:r,route:i}=this.findMatchingRoute({event:e,request:t,sameOrigin:n,url:s});let a=i&&i.handler;const o=t.method;if(!a&&this.i.has(o)&&(a=this.i.get(o)),!a)return;let c;try{c=a.handle({url:s,request:t,event:e,params:r})}catch(t){c=Promise.reject(t)}const h=i&&i.catchHandler;return c instanceof Promise&&(this.o||h)&&(c=c.catch(async n=>{if(h)try{return await h.handle({url:s,request:t,event:e,params:r})}catch(t){t instanceof Error&&(n=t)}if(this.o)return this.o.handle({url:s,request:t,event:e});throw n})),c}findMatchingRoute({url:t,sameOrigin:e,request:s,event:n}){const r=this.t.get(s.method)||[];for(const i of r){let r;const a=i.match({url:t,sameOrigin:e,request:s,event:n});if(a)return r=a,(Array.isArray(r)&&0===r.length||a.constructor===Object&&0===Object.keys(a).length||\"boolean\"==typeof a)&&(r=void 0),{route:i,params:r}}return{}}setDefaultHandler(t,e=\"GET\"){this.i.set(e,n(t))}setCatchHandler(t){this.o=n(t)}registerRoute(t){this.t.has(t.method)||this.t.set(t.method,[]),this.t.get(t.method).push(t)}unregisterRoute(t){if(!this.t.has(t.method))throw new s(\"unregister-route-but-not-found-with-method\",{method:t.method});const e=this.t.get(t.method).indexOf(t);if(!(e>-1))throw new s(\"unregister-route-route-not-registered\");this.t.get(t.method).splice(e,1)}}let o;const c=()=>(o||(o=new a,o.addFetchListener(),o.addCacheListener()),o);function h(t,e,n){let a;if(\"string\"==typeof t){const s=new URL(t,location.href);a=new r(({url:t})=>t.href===s.href,e,n)}else if(t instanceof RegExp)a=new i(t,e,n);else if(\"function\"==typeof t)a=new r(t,e,n);else{if(!(t instanceof r))throw new s(\"unsupported-route-type\",{moduleName:\"workbox-routing\",funcName:\"registerRoute\",paramName:\"capture\"});a=t}return c().registerRoute(a),a}try{self[\"workbox:strategies:6.5.4\"]&&_()}catch(t){}const u={cacheWillUpdate:async({response:t})=>200===t.status||0===t.status?t:null},l={googleAnalytics:\"googleAnalytics\",precache:\"precache-v2\",prefix:\"workbox\",runtime:\"runtime\",suffix:\"undefined\"!=typeof registration?registration.scope:\"\"},f=t=>[l.prefix,t,l.suffix].filter(t=>t&&t.length>0).join(\"-\"),w=t=>t||f(l.precache),d=t=>t||f(l.runtime);function p(t,e){const s=new URL(t);for(const t of e)s.searchParams.delete(t);return s.href}class y{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}const g=new Set;function m(t){return\"string\"==typeof t?new Request(t):t}class v{constructor(t,e){this.h={},Object.assign(this,e),this.event=e.event,this.u=t,this.l=new y,this.p=[],this.m=[...t.plugins],this.v=new Map;for(const t of this.m)this.v.set(t,{});this.event.waitUntil(this.l.promise)}async fetch(t){const{event:e}=this;let n=m(t);if(\"navigate\"===n.mode&&e instanceof FetchEvent&&e.preloadResponse){const t=await e.preloadResponse;if(t)return t}const r=this.hasCallback(\"fetchDidFail\")?n.clone():null;try{for(const t of this.iterateCallbacks(\"requestWillFetch\"))n=await t({request:n.clone(),event:e})}catch(t){if(t instanceof Error)throw new s(\"plugin-error-request-will-fetch\",{thrownErrorMessage:t.message})}const i=n.clone();try{let t;t=await fetch(n,\"navigate\"===n.mode?void 0:this.u.fetchOptions);for(const s of this.iterateCallbacks(\"fetchDidSucceed\"))t=await s({event:e,request:i,response:t});return t}catch(t){throw r&&await this.runCallbacks(\"fetchDidFail\",{error:t,event:e,originalRequest:r.clone(),request:i.clone()}),t}}async fetchAndCachePut(t){const e=await this.fetch(t),s=e.clone();return this.waitUntil(this.cachePut(t,s)),e}async cacheMatch(t){const e=m(t);let s;const{cacheName:n,matchOptions:r}=this.u,i=await this.getCacheKey(e,\"read\"),a=Object.assign(Object.assign({},r),{cacheName:n});s=await caches.match(i,a);for(const t of this.iterateCallbacks(\"cachedResponseWillBeUsed\"))s=await t({cacheName:n,matchOptions:r,cachedResponse:s,request:i,event:this.event})||void 0;return s}async cachePut(t,e){const n=m(t);var r;await(r=0,new Promise(t=>setTimeout(t,r)));const i=await this.getCacheKey(n,\"write\");if(!e)throw new s(\"cache-put-with-no-response\",{url:(a=i.url,new URL(String(a),location.href).href.replace(new RegExp(`^${location.origin}`),\"\"))});var a;const o=await this.R(e);if(!o)return!1;const{cacheName:c,matchOptions:h}=this.u,u=await self.caches.open(c),l=this.hasCallback(\"cacheDidUpdate\"),f=l?await async function(t,e,s,n){const r=p(e.url,s);if(e.url===r)return t.match(e,n);const i=Object.assign(Object.assign({},n),{ignoreSearch:!0}),a=await t.keys(e,i);for(const e of a)if(r===p(e.url,s))return t.match(e,n)}(u,i.clone(),[\"__WB_REVISION__\"],h):null;try{await u.put(i,l?o.clone():o)}catch(t){if(t instanceof Error)throw\"QuotaExceededError\"===t.name&&await async function(){for(const t of g)await t()}(),t}for(const t of this.iterateCallbacks(\"cacheDidUpdate\"))await t({cacheName:c,oldResponse:f,newResponse:o.clone(),request:i,event:this.event});return!0}async getCacheKey(t,e){const s=`${t.url} | ${e}`;if(!this.h[s]){let n=t;for(const t of this.iterateCallbacks(\"cacheKeyWillBeUsed\"))n=m(await t({mode:e,request:n,event:this.event,params:this.params}));this.h[s]=n}return this.h[s]}hasCallback(t){for(const e of this.u.plugins)if(t in e)return!0;return!1}async runCallbacks(t,e){for(const s of this.iterateCallbacks(t))await s(e)}*iterateCallbacks(t){for(const e of this.u.plugins)if(\"function\"==typeof e[t]){const s=this.v.get(e),n=n=>{const r=Object.assign(Object.assign({},n),{state:s});return e[t](r)};yield n}}waitUntil(t){return this.p.push(t),t}async doneWaiting(){let t;for(;t=this.p.shift();)await t}destroy(){this.l.resolve(null)}async R(t){let e=t,s=!1;for(const t of this.iterateCallbacks(\"cacheWillUpdate\"))if(e=await t({request:this.request,response:e,event:this.event})||void 0,s=!0,!e)break;return s||e&&200!==e.status&&(e=void 0),e}}class R{constructor(t={}){this.cacheName=d(t.cacheName),this.plugins=t.plugins||[],this.fetchOptions=t.fetchOptions,this.matchOptions=t.matchOptions}handle(t){const[e]=this.handleAll(t);return e}handleAll(t){t instanceof FetchEvent&&(t={event:t,request:t.request});const e=t.event,s=\"string\"==typeof t.request?new Request(t.request):t.request,n=\"params\"in t?t.params:void 0,r=new v(this,{event:e,request:s,params:n}),i=this.q(r,s,e);return[i,this.D(i,r,s,e)]}async q(t,e,n){let r;await t.runCallbacks(\"handlerWillStart\",{event:n,request:e});try{if(r=await this.U(e,t),!r||\"error\"===r.type)throw new s(\"no-response\",{url:e.url})}catch(s){if(s instanceof Error)for(const i of t.iterateCallbacks(\"handlerDidError\"))if(r=await i({error:s,event:n,request:e}),r)break;if(!r)throw s}for(const s of t.iterateCallbacks(\"handlerWillRespond\"))r=await s({event:n,request:e,response:r});return r}async D(t,e,s,n){let r,i;try{r=await t}catch(i){}try{await e.runCallbacks(\"handlerDidRespond\",{event:n,request:s,response:r}),await e.doneWaiting()}catch(t){t instanceof Error&&(i=t)}if(await e.runCallbacks(\"handlerDidComplete\",{event:n,request:s,response:r,error:i}),e.destroy(),i)throw i}}function b(t){t.then(()=>{})}function q(){return q=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var n in s)({}).hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},q.apply(null,arguments)}let D,U;const x=new WeakMap,L=new WeakMap,I=new WeakMap,C=new WeakMap,E=new WeakMap;let N={get(t,e,s){if(t instanceof IDBTransaction){if(\"done\"===e)return L.get(t);if(\"objectStoreNames\"===e)return t.objectStoreNames||I.get(t);if(\"store\"===e)return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return k(t[e])},set:(t,e,s)=>(t[e]=s,!0),has:(t,e)=>t instanceof IDBTransaction&&(\"done\"===e||\"store\"===e)||e in t};function O(t){return t!==IDBDatabase.prototype.transaction||\"objectStoreNames\"in IDBTransaction.prototype?(U||(U=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(B(this),e),k(x.get(this))}:function(...e){return k(t.apply(B(this),e))}:function(e,...s){const n=t.call(B(this),e,...s);return I.set(n,e.sort?e.sort():[e]),k(n)}}function T(t){return\"function\"==typeof t?O(t):(t instanceof IDBTransaction&&function(t){if(L.has(t))return;const e=new Promise((e,s)=>{const n=()=>{t.removeEventListener(\"complete\",r),t.removeEventListener(\"error\",i),t.removeEventListener(\"abort\",i)},r=()=>{e(),n()},i=()=>{s(t.error||new DOMException(\"AbortError\",\"AbortError\")),n()};t.addEventListener(\"complete\",r),t.addEventListener(\"error\",i),t.addEventListener(\"abort\",i)});L.set(t,e)}(t),e=t,(D||(D=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(t=>e instanceof t)?new Proxy(t,N):t);var e}function k(t){if(t instanceof IDBRequest)return function(t){const e=new Promise((e,s)=>{const n=()=>{t.removeEventListener(\"success\",r),t.removeEventListener(\"error\",i)},r=()=>{e(k(t.result)),n()},i=()=>{s(t.error),n()};t.addEventListener(\"success\",r),t.addEventListener(\"error\",i)});return e.then(e=>{e instanceof IDBCursor&&x.set(e,t)}).catch(()=>{}),E.set(e,t),e}(t);if(C.has(t))return C.get(t);const e=T(t);return e!==t&&(C.set(t,e),E.set(e,t)),e}const B=t=>E.get(t);const P=[\"get\",\"getKey\",\"getAll\",\"getAllKeys\",\"count\"],M=[\"put\",\"add\",\"delete\",\"clear\"],W=new Map;function j(t,e){if(!(t instanceof IDBDatabase)||e in t||\"string\"!=typeof e)return;if(W.get(e))return W.get(e);const s=e.replace(/FromIndex$/,\"\"),n=e!==s,r=M.includes(s);if(!(s in(n?IDBIndex:IDBObjectStore).prototype)||!r&&!P.includes(s))return;const i=async function(t,...e){const i=this.transaction(t,r?\"readwrite\":\"readonly\");let a=i.store;return n&&(a=a.index(e.shift())),(await Promise.all([a[s](...e),r&&i.done]))[0]};return W.set(e,i),i}N=(t=>q({},t,{get:(e,s,n)=>j(e,s)||t.get(e,s,n),has:(e,s)=>!!j(e,s)||t.has(e,s)}))(N);try{self[\"workbox:expiration:6.5.4\"]&&_()}catch(t){}const S=\"cache-entries\",K=t=>{const e=new URL(t,location.href);return e.hash=\"\",e.href};class A{constructor(t){this._=null,this.L=t}I(t){const e=t.createObjectStore(S,{keyPath:\"id\"});e.createIndex(\"cacheName\",\"cacheName\",{unique:!1}),e.createIndex(\"timestamp\",\"timestamp\",{unique:!1})}C(t){this.I(t),this.L&&function(t,{blocked:e}={}){const s=indexedDB.deleteDatabase(t);e&&s.addEventListener(\"blocked\",t=>e(t.oldVersion,t)),k(s).then(()=>{})}(this.L)}async setTimestamp(t,e){const s={url:t=K(t),timestamp:e,cacheName:this.L,id:this.N(t)},n=(await this.getDb()).transaction(S,\"readwrite\",{durability:\"relaxed\"});await n.store.put(s),await n.done}async getTimestamp(t){const e=await this.getDb(),s=await e.get(S,this.N(t));return null==s?void 0:s.timestamp}async expireEntries(t,e){const s=await this.getDb();let n=await s.transaction(S).store.index(\"timestamp\").openCursor(null,\"prev\");const r=[];let i=0;for(;n;){const s=n.value;s.cacheName===this.L&&(t&&s.timestamp<t||e&&i>=e?r.push(n.value):i++),n=await n.continue()}const a=[];for(const t of r)await s.delete(S,t.id),a.push(t.url);return a}N(t){return this.L+\"|\"+K(t)}async getDb(){return this._||(this._=await function(t,e,{blocked:s,upgrade:n,blocking:r,terminated:i}={}){const a=indexedDB.open(t,e),o=k(a);return n&&a.addEventListener(\"upgradeneeded\",t=>{n(k(a.result),t.oldVersion,t.newVersion,k(a.transaction),t)}),s&&a.addEventListener(\"blocked\",t=>s(t.oldVersion,t.newVersion,t)),o.then(t=>{i&&t.addEventListener(\"close\",()=>i()),r&&t.addEventListener(\"versionchange\",t=>r(t.oldVersion,t.newVersion,t))}).catch(()=>{}),o}(\"workbox-expiration\",1,{upgrade:this.C.bind(this)})),this._}}class F{constructor(t,e={}){this.O=!1,this.T=!1,this.k=e.maxEntries,this.B=e.maxAgeSeconds,this.P=e.matchOptions,this.L=t,this.M=new A(t)}async expireEntries(){if(this.O)return void(this.T=!0);this.O=!0;const t=this.B?Date.now()-1e3*this.B:0,e=await this.M.expireEntries(t,this.k),s=await self.caches.open(this.L);for(const t of e)await s.delete(t,this.P);this.O=!1,this.T&&(this.T=!1,b(this.expireEntries()))}async updateTimestamp(t){await this.M.setTimestamp(t,Date.now())}async isURLExpired(t){if(this.B){const e=await this.M.getTimestamp(t),s=Date.now()-1e3*this.B;return void 0===e||e<s}return!1}async delete(){this.T=!1,await this.M.expireEntries(1/0)}}try{self[\"workbox:range-requests:6.5.4\"]&&_()}catch(t){}async function H(t,e){try{if(206===e.status)return e;const n=t.headers.get(\"range\");if(!n)throw new s(\"no-range-header\");const r=function(t){const e=t.trim().toLowerCase();if(!e.startsWith(\"bytes=\"))throw new s(\"unit-must-be-bytes\",{normalizedRangeHeader:e});if(e.includes(\",\"))throw new s(\"single-range-only\",{normalizedRangeHeader:e});const n=/(\\d*)-(\\d*)/.exec(e);if(!n||!n[1]&&!n[2])throw new s(\"invalid-range-values\",{normalizedRangeHeader:e});return{start:\"\"===n[1]?void 0:Number(n[1]),end:\"\"===n[2]?void 0:Number(n[2])}}(n),i=await e.blob(),a=function(t,e,n){const r=t.size;if(n&&n>r||e&&e<0)throw new s(\"range-not-satisfiable\",{size:r,end:n,start:e});let i,a;return void 0!==e&&void 0!==n?(i=e,a=n+1):void 0!==e&&void 0===n?(i=e,a=r):void 0!==n&&void 0===e&&(i=r-n,a=r),{start:i,end:a}}(i,r.start,r.end),o=i.slice(a.start,a.end),c=o.size,h=new Response(o,{status:206,statusText:\"Partial Content\",headers:e.headers});return h.headers.set(\"Content-Length\",String(c)),h.headers.set(\"Content-Range\",`bytes ${a.start}-${a.end-1}/${i.size}`),h}catch(t){return new Response(\"\",{status:416,statusText:\"Range Not Satisfiable\"})}}function $(t,e){const s=e();return t.waitUntil(s),s}try{self[\"workbox:precaching:6.5.4\"]&&_()}catch(t){}function z(t){if(!t)throw new s(\"add-to-cache-list-unexpected-type\",{entry:t});if(\"string\"==typeof t){const e=new URL(t,location.href);return{cacheKey:e.href,url:e.href}}const{revision:e,url:n}=t;if(!n)throw new s(\"add-to-cache-list-unexpected-type\",{entry:t});if(!e){const t=new URL(n,location.href);return{cacheKey:t.href,url:t.href}}const r=new URL(n,location.href),i=new URL(n,location.href);return r.searchParams.set(\"__WB_REVISION__\",e),{cacheKey:r.href,url:i.href}}class G{constructor(){this.updatedURLs=[],this.notUpdatedURLs=[],this.handlerWillStart=async({request:t,state:e})=>{e&&(e.originalRequest=t)},this.cachedResponseWillBeUsed=async({event:t,state:e,cachedResponse:s})=>{if(\"install\"===t.type&&e&&e.originalRequest&&e.originalRequest instanceof Request){const t=e.originalRequest.url;s?this.notUpdatedURLs.push(t):this.updatedURLs.push(t)}return s}}}class V{constructor({precacheController:t}){this.cacheKeyWillBeUsed=async({request:t,params:e})=>{const s=(null==e?void 0:e.cacheKey)||this.W.getCacheKeyForURL(t.url);return s?new Request(s,{headers:t.headers}):t},this.W=t}}let J,Q;async function X(t,e){let n=null;if(t.url){n=new URL(t.url).origin}if(n!==self.location.origin)throw new s(\"cross-origin-copy-response\",{origin:n});const r=t.clone(),i={headers:new Headers(r.headers),status:r.status,statusText:r.statusText},a=e?e(i):i,o=function(){if(void 0===J){const t=new Response(\"\");if(\"body\"in t)try{new Response(t.body),J=!0}catch(t){J=!1}J=!1}return J}()?r.body:await r.blob();return new Response(o,a)}class Y extends R{constructor(t={}){t.cacheName=w(t.cacheName),super(t),this.j=!1!==t.fallbackToNetwork,this.plugins.push(Y.copyRedirectedCacheableResponsesPlugin)}async U(t,e){const s=await e.cacheMatch(t);return s||(e.event&&\"install\"===e.event.type?await this.S(t,e):await this.K(t,e))}async K(t,e){let n;const r=e.params||{};if(!this.j)throw new s(\"missing-precache-entry\",{cacheName:this.cacheName,url:t.url});{const s=r.integrity,i=t.integrity,a=!i||i===s;n=await e.fetch(new Request(t,{integrity:\"no-cors\"!==t.mode?i||s:void 0})),s&&a&&\"no-cors\"!==t.mode&&(this.A(),await e.cachePut(t,n.clone()))}return n}async S(t,e){this.A();const n=await e.fetch(t);if(!await e.cachePut(t,n.clone()))throw new s(\"bad-precaching-response\",{url:t.url,status:n.status});return n}A(){let t=null,e=0;for(const[s,n]of this.plugins.entries())n!==Y.copyRedirectedCacheableResponsesPlugin&&(n===Y.defaultPrecacheCacheabilityPlugin&&(t=s),n.cacheWillUpdate&&e++);0===e?this.plugins.push(Y.defaultPrecacheCacheabilityPlugin):e>1&&null!==t&&this.plugins.splice(t,1)}}Y.defaultPrecacheCacheabilityPlugin={cacheWillUpdate:async({response:t})=>!t||t.status>=400?null:t},Y.copyRedirectedCacheableResponsesPlugin={cacheWillUpdate:async({response:t})=>t.redirected?await X(t):t};class Z{constructor({cacheName:t,plugins:e=[],fallbackToNetwork:s=!0}={}){this.F=new Map,this.H=new Map,this.$=new Map,this.u=new Y({cacheName:w(t),plugins:[...e,new V({precacheController:this})],fallbackToNetwork:s}),this.install=this.install.bind(this),this.activate=this.activate.bind(this)}get strategy(){return this.u}precache(t){this.addToCacheList(t),this.G||(self.addEventListener(\"install\",this.install),self.addEventListener(\"activate\",this.activate),this.G=!0)}addToCacheList(t){const e=[];for(const n of t){\"string\"==typeof n?e.push(n):n&&void 0===n.revision&&e.push(n.url);const{cacheKey:t,url:r}=z(n),i=\"string\"!=typeof n&&n.revision?\"reload\":\"default\";if(this.F.has(r)&&this.F.get(r)!==t)throw new s(\"add-to-cache-list-conflicting-entries\",{firstEntry:this.F.get(r),secondEntry:t});if(\"string\"!=typeof n&&n.integrity){if(this.$.has(t)&&this.$.get(t)!==n.integrity)throw new s(\"add-to-cache-list-conflicting-integrities\",{url:r});this.$.set(t,n.integrity)}if(this.F.set(r,t),this.H.set(r,i),e.length>0){const t=`Workbox is precaching URLs without revision info: ${e.join(\", \")}\\nThis is generally NOT safe. Learn more at https://bit.ly/wb-precache`;console.warn(t)}}}install(t){return $(t,async()=>{const e=new G;this.strategy.plugins.push(e);for(const[e,s]of this.F){const n=this.$.get(s),r=this.H.get(e),i=new Request(e,{integrity:n,cache:r,credentials:\"same-origin\"});await Promise.all(this.strategy.handleAll({params:{cacheKey:s},request:i,event:t}))}const{updatedURLs:s,notUpdatedURLs:n}=e;return{updatedURLs:s,notUpdatedURLs:n}})}activate(t){return $(t,async()=>{const t=await self.caches.open(this.strategy.cacheName),e=await t.keys(),s=new Set(this.F.values()),n=[];for(const r of e)s.has(r.url)||(await t.delete(r),n.push(r.url));return{deletedURLs:n}})}getURLsToCacheKeys(){return this.F}getCachedURLs(){return[...this.F.keys()]}getCacheKeyForURL(t){const e=new URL(t,location.href);return this.F.get(e.href)}getIntegrityForCacheKey(t){return this.$.get(t)}async matchPrecache(t){const e=t instanceof Request?t.url:t,s=this.getCacheKeyForURL(e);if(s){return(await self.caches.open(this.strategy.cacheName)).match(s)}}createHandlerBoundToURL(t){const e=this.getCacheKeyForURL(t);if(!e)throw new s(\"non-precached-url\",{url:t});return s=>(s.request=new Request(t),s.params=Object.assign({cacheKey:e},s.params),this.strategy.handle(s))}}const tt=()=>(Q||(Q=new Z),Q);class et extends r{constructor(t,e){super(({request:s})=>{const n=t.getURLsToCacheKeys();for(const r of function*(t,{ignoreURLParametersMatching:e=[/^utm_/,/^fbclid$/],directoryIndex:s=\"index.html\",cleanURLs:n=!0,urlManipulation:r}={}){const i=new URL(t,location.href);i.hash=\"\",yield i.href;const a=function(t,e=[]){for(const s of[...t.searchParams.keys()])e.some(t=>t.test(s))&&t.searchParams.delete(s);return t}(i,e);if(yield a.href,s&&a.pathname.endsWith(\"/\")){const t=new URL(a.href);t.pathname+=s,yield t.href}if(n){const t=new URL(a.href);t.pathname+=\".html\",yield t.href}if(r){const t=r({url:i});for(const e of t)yield e.href}}(s.url,e)){const e=n.get(r);if(e){return{cacheKey:e,integrity:t.getIntegrityForCacheKey(e)}}}},t.strategy)}}t.CacheFirst=class extends R{async U(t,e){let n,r=await e.cacheMatch(t);if(!r)try{r=await e.fetchAndCachePut(t)}catch(t){t instanceof Error&&(n=t)}if(!r)throw new s(\"no-response\",{url:t.url,error:n});return r}},t.ExpirationPlugin=class{constructor(t={}){this.cachedResponseWillBeUsed=async({event:t,request:e,cacheName:s,cachedResponse:n})=>{if(!n)return null;const r=this.V(n),i=this.J(s);b(i.expireEntries());const a=i.updateTimestamp(e.url);if(t)try{t.waitUntil(a)}catch(t){}return r?n:null},this.cacheDidUpdate=async({cacheName:t,request:e})=>{const s=this.J(t);await s.updateTimestamp(e.url),await s.expireEntries()},this.X=t,this.B=t.maxAgeSeconds,this.Y=new Map,t.purgeOnQuotaError&&function(t){g.add(t)}(()=>this.deleteCacheAndMetadata())}J(t){if(t===d())throw new s(\"expire-custom-caches-only\");let e=this.Y.get(t);return e||(e=new F(t,this.X),this.Y.set(t,e)),e}V(t){if(!this.B)return!0;const e=this.Z(t);if(null===e)return!0;return e>=Date.now()-1e3*this.B}Z(t){if(!t.headers.has(\"date\"))return null;const e=t.headers.get(\"date\"),s=new Date(e).getTime();return isNaN(s)?null:s}async deleteCacheAndMetadata(){for(const[t,e]of this.Y)await self.caches.delete(t),await e.delete();this.Y=new Map}},t.NetworkFirst=class extends R{constructor(t={}){super(t),this.plugins.some(t=>\"cacheWillUpdate\"in t)||this.plugins.unshift(u),this.tt=t.networkTimeoutSeconds||0}async U(t,e){const n=[],r=[];let i;if(this.tt){const{id:s,promise:a}=this.et({request:t,logs:n,handler:e});i=s,r.push(a)}const a=this.st({timeoutId:i,request:t,logs:n,handler:e});r.push(a);const o=await e.waitUntil((async()=>await e.waitUntil(Promise.race(r))||await a)());if(!o)throw new s(\"no-response\",{url:t.url});return o}et({request:t,logs:e,handler:s}){let n;return{promise:new Promise(e=>{n=setTimeout(async()=>{e(await s.cacheMatch(t))},1e3*this.tt)}),id:n}}async st({timeoutId:t,request:e,logs:s,handler:n}){let r,i;try{i=await n.fetchAndCachePut(e)}catch(t){t instanceof Error&&(r=t)}return t&&clearTimeout(t),!r&&i||(i=await n.cacheMatch(e)),i}},t.RangeRequestsPlugin=class{constructor(){this.cachedResponseWillBeUsed=async({request:t,cachedResponse:e})=>e&&t.headers.has(\"range\")?await H(t,e):e}},t.StaleWhileRevalidate=class extends R{constructor(t={}){super(t),this.plugins.some(t=>\"cacheWillUpdate\"in t)||this.plugins.unshift(u)}async U(t,e){const n=e.fetchAndCachePut(t).catch(()=>{});e.waitUntil(n);let r,i=await e.cacheMatch(t);if(i);else try{i=await n}catch(t){t instanceof Error&&(r=t)}if(!i)throw new s(\"no-response\",{url:t.url,error:r});return i}},t.cleanupOutdatedCaches=function(){self.addEventListener(\"activate\",t=>{const e=w();t.waitUntil((async(t,e=\"-precache-\")=>{const s=(await self.caches.keys()).filter(s=>s.includes(e)&&s.includes(self.registration.scope)&&s!==t);return await Promise.all(s.map(t=>self.caches.delete(t))),s})(e).then(t=>{}))})},t.clientsClaim=function(){self.addEventListener(\"activate\",()=>self.clients.claim())},t.precacheAndRoute=function(t,e){!function(t){tt().precache(t)}(t),function(t){const e=tt();h(new et(e,t))}(e)},t.registerRoute=h});\n",
    "web_platform/frontend/src/components/RaceCard.tsx": "// web_platform/frontend/src/components/RaceCard.tsx\n'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport type { Race, Runner } from '../types/racing';\n\n// Local types removed, now importing from '../types/racing'\n\ninterface RaceCardProps {\n  race: Race;\n}\n\nconst Countdown: React.FC<{ startTime: string }> = ({ startTime }) => {\n  const [currentTime, setCurrentTime] = useState(new Date());\n\n  useEffect(() => {\n    const timer = setInterval(() => setCurrentTime(new Date()), 1000);\n    return () => clearInterval(timer);\n  }, []);\n\n  const getCountdown = (startTimeStr: string) => {\n    const postTime = new Date(startTimeStr);\n    const diff = postTime.getTime() - currentTime.getTime();\n\n    if (diff <= 0) return { text: \"RACE COMPLETE\", color: \"text-gray-500\" };\n\n    const minutes = Math.floor(diff / 60000);\n    const seconds = Math.floor((diff % 60000) / 1000).toString().padStart(2, '0');\n\n    let color = \"text-green-400\";\n    if (minutes < 2) color = \"text-red-500 font-bold animate-pulse\";\n    else if (minutes < 10) color = \"text-yellow-400\";\n\n    return { text: `${minutes}:${seconds} to post`, color };\n  };\n\n  const countdown = getCountdown(startTime);\n\n  return (\n    <span className={`font-mono text-sm ${countdown.color}`}>{countdown.text}</span>\n  );\n};\n\nexport const RaceCard: React.FC<RaceCardProps> = ({ race }) => {\n  const activeRunners = race.runners.filter(r => !r.scratched);\n  activeRunners.sort((a, b) => a.number - b.number);\n\n  const getUniqueSourcesCount = (runners: Runner[]): number => {\n    const sources = new Set();\n    runners.forEach(runner => {\n      if (runner.odds) {\n        Object.keys(runner.odds).forEach(source => sources.add(source));\n      }\n    });\n    return sources.size;\n  };\n\n  const getBestOdds = (runner: Runner): { odds: number, source: string } | null => {\n    if (!runner.odds) return null;\n  const validOdds = Object.values(runner.odds).filter(o => o.win !== null && o.win !== undefined && o.win < 999);\n    if (validOdds.length === 0) return null;\n  const best = validOdds.reduce((min, o) => (o.win ?? 999) < (min.win ?? 999) ? o : min);\n    return { odds: best.win!, source: best.source };\n  };\n\n  return (\n    <div className={`race-card-enhanced border rounded-lg p-4 bg-gray-800 shadow-lg hover:border-purple-500 transition-all ${race.qualification_score && race.qualification_score >= 80 ? 'card-premium' : 'border-gray-700'}`}>\n      {/* Header with Smart Status Indicators */}\n      <div className=\"flex items-center justify-between mb-4\">\n        <div className=\"flex items-center gap-3\">\n          <div>\n            <h2 className=\"text-2xl font-bold text-white\">{race.venue}</h2>\n            <div className=\"flex gap-2 text-sm text-gray-400\">\n              <span>Race {race.race_number}</span>\n              <span>\u2022</span>\n              <Countdown startTime={race.start_time} />\n            </div>\n            {race.favorite && (\n              <div className=\"flex items-center gap-2 mt-2 text-sm text-yellow-400\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-4 w-4\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                  <path d=\"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z\" />\n                </svg>\n                <span className=\"font-semibold\">Favorite: {race.favorite.name}</span>\n              </div>\n            )}\n          </div>\n        </div>\n\n        {race.qualification_score && (\n          <div className={`px-4 py-2 rounded-full text-center ${\n            race.qualification_score >= 80 ? 'bg-red-500/20 text-red-400 border border-red-500/30' :\n            race.qualification_score >= 60 ? 'bg-yellow-500/20 text-yellow-400 border border-yellow-500/30' :\n            'bg-green-500/20 text-green-400 border border-green-500/30'\n          }`}>\n            <div className=\"font-bold text-lg\">{race.qualification_score.toFixed(0)}%</div>\n            <div className=\"text-xs\">Score</div>\n          </div>\n        )}\n      </div>\n\n      {/* Race Conditions Grid */}\n      <div className=\"grid grid-cols-4 gap-2 mb-4 p-3 bg-gray-800/50 rounded-lg\">\n        <div className=\"text-center\">\n          <div className=\"text-xs text-gray-400\">Distance</div>\n          <div className=\"text-sm font-semibold text-white\">{race.distance || 'N/A'}</div>\n        </div>\n        <div className=\"text-center\">\n          <div className=\"text-xs text-gray-400\">Surface</div>\n          <div className=\"text-sm font-semibold text-white\">{race.surface || 'Dirt'}</div>\n        </div>\n        <div className=\"text-center\">\n          <div className=\"text-xs text-gray-400\">Field</div>\n          <div className=\"text-sm font-semibold text-white\">{activeRunners.length}</div>\n        </div>\n        <div className=\"text-center\">\n          <div className=\"text-xs text-gray-400\">Sources</div>\n          <div className=\"text-sm font-semibold text-white\">{getUniqueSourcesCount(race.runners)}</div>\n        </div>\n      </div>\n\n      {/* Interactive Runner Rows */}\n      <div className=\"runners-table space-y-2\">\n        {activeRunners.map((runner, idx) => {\n          const bestOddsInfo = getBestOdds(runner);\n          return (\n            <div key={runner.number} className=\"runner-row group hover:bg-purple-500/10 transition-all rounded-md p-3\">\n              <div className=\"flex items-center justify-between\">\n                <div className=\"flex items-center gap-4 flex-1\">\n                  <div className={`w-10 h-10 rounded-full flex items-center justify-center font-bold transition-all group-hover:scale-110 text-gray-900 shadow-lg ${idx === 0 ? 'bg-gradient-to-br from-yellow-400 to-yellow-600 shadow-yellow-500/50' : idx === 1 ? 'bg-gradient-to-br from-gray-300 to-gray-500 shadow-gray-400/50' : idx === 2 ? 'bg-gradient-to-br from-orange-400 to-orange-600 shadow-orange-500/50' : 'bg-gray-700 text-gray-300'}`}>\n                    {runner.number}\n                  </div>\n                  <div className=\"flex flex-col\">\n                    <span className=\"font-bold text-white text-lg\">{runner.name}</span>\n                    <div className=\"flex gap-3 text-sm text-gray-400\">\n                      {runner.jockey && <span>J: {runner.jockey}</span>}\n                      {runner.trainer && <span>T: {runner.trainer}</span>}\n                    </div>\n                  </div>\n                </div>\n                {bestOddsInfo && (\n                  <div className=\"text-right\">\n                    <div className=\"text-2xl font-bold text-emerald-400\">{bestOddsInfo.odds.toFixed(2)}</div>\n                    <div className=\"text-xs text-gray-500\">via {bestOddsInfo.source}</div>\n                  </div>\n                )}\n              </div>\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n};",
    "web_platform/frontend/src/components/StatusDetailModal.tsx": "// web_platform/frontend/src/components/StatusDetailModal.tsx\nimport React from 'react';\n\ninterface StatusDetailModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  status: {\n      title: string;\n      details: string | Record<string, any>;\n  };\n}\n\nexport const StatusDetailModal: React.FC<StatusDetailModalProps> = ({ isOpen, onClose, status }) => {\n  if (!isOpen) {\n    return null;\n  }\n\n  const { title, details } = status;\n  const isDetailsString = typeof details === 'string';\n\n  // Determine status color only if details is an object with a status property\n  const statusColor = !isDetailsString && (details.status === 'SUCCESS' || details.status === 'OK')\n    ? 'text-green-400'\n    : 'text-gray-300'; // Default color\n\n  return (\n    <div className=\"fixed inset-0 bg-black/60 flex items-center justify-center z-50\" onClick={onClose}>\n      <div className=\"bg-gray-800 border border-gray-700 rounded-lg shadow-xl p-6 max-w-lg w-full\" onClick={e => e.stopPropagation()}>\n        <div className=\"flex justify-between items-start mb-4\">\n          <h3 className=\"text-xl font-bold text-white\">{title}</h3>\n          <button onClick={onClose} className=\"text-gray-400 hover:text-white\">&times;</button>\n        </div>\n        <div className=\"space-y-2 text-sm max-h-96 overflow-y-auto pr-2\">\n            {isDetailsString ? (\n                <div className=\"text-gray-300 whitespace-pre-wrap bg-gray-900/50 p-4 rounded-md\">{details}</div>\n            ) : (\n                Object.entries(details).map(([key, value]) => (\n                    <div key={key} className=\"grid grid-cols-3 gap-4 border-b border-gray-700/50 py-2\">\n                    <span className=\"font-semibold text-gray-400 capitalize\">{key.replace(/_/g, ' ')}</span>\n                    <span className={`col-span-2 break-words ${key === 'status' ? statusColor : 'text-gray-300'}`}>\n                        {typeof value === 'object' ? JSON.stringify(value, null, 2) : String(value)}\n                    </span>\n                    </div>\n                ))\n            )}\n        </div>\n        <button\n          onClick={onClose}\n          className=\"bg-gray-600 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded w-full mt-6\"\n        >\n          Close\n        </button>\n      </div>\n    </div>\n  );\n};\n",
    "web_platform/frontend/src/components/Tabs.tsx": "// src/components/Tabs.tsx\n'use client';\n\nimport React, { useState } from 'react';\n\ntype Tab = {\n  label: string;\n  content: React.ReactNode;\n};\n\ntype TabsProps = {\n  tabs: Tab[];\n};\n\nexport function Tabs({ tabs }: TabsProps) {\n  const [activeTab, setActiveTab] = useState(0);\n\n  return (\n    <div>\n      <div className=\"border-b border-slate-700\">\n        <nav className=\"-mb-px flex space-x-8\" aria-label=\"Tabs\">\n          {tabs.map((tab, index) => (\n            <button\n              key={tab.label}\n              onClick={() => setActiveTab(index)}\n              className={`${\n                activeTab === index\n                  ? 'border-blue-500 text-blue-400'\n                  : 'border-transparent text-slate-400 hover:text-slate-200 hover:border-slate-500'\n              } whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors focus:outline-none`}\n            >\n              {tab.label}\n            </button>\n          ))}\n        </nav>\n      </div>\n      <div className=\"mt-8\">{tabs[activeTab].content}</div>\n    </div>\n  );\n}\n",
    "web_platform/frontend/src/lib/queryClient.ts": "// web_platform/frontend/src/lib/queryClient.ts\nimport { QueryClient } from '@tanstack/react-query';\n\nexport const queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      retry: 3,\n      staleTime: 1000 * 60 * 5, // 5 minutes\n    },\n  },\n});\n",
    "web_platform/frontend/tailwind.config.ts": "import type { Config } from 'tailwindcss'\n\nconst config: Config = {\n  darkMode: 'media',\n  content: [\n    './src/pages/**/*.{js,ts,jsx,tsx,mdx}',\n    './src/components/**/*.{js,ts,jsx,tsx,mdx}',\n    './app/**/*.{js,ts,jsx,tsx,mdx}',\n  ],\n  theme: {\n    extend: {},\n  },\n  plugins: [],\n}\nexport default config",
    "web_service/backend/adapters/at_the_races_adapter.py": "# python_service/adapters/at_the_races_adapter.py\n\nimport asyncio\nfrom datetime import datetime\nfrom typing import Any\nfrom typing import List\nfrom typing import Optional\n\nfrom bs4 import BeautifulSoup\nfrom bs4 import Tag\n\nfrom ..models import OddsData\nfrom ..models import Race\nfrom ..models import Runner\nfrom ..utils.odds import parse_odds_to_decimal\nfrom ..utils.text import clean_text\nfrom ..utils.text import normalize_venue_name\nfrom .base_adapter_v3 import BaseAdapterV3\n\n\nclass AtTheRacesAdapter(BaseAdapterV3):\n    \"\"\"\n    Adapter for attheraces.com, migrated to BaseAdapterV3.\n    \"\"\"\n\n    SOURCE_NAME = \"AtTheRaces\"\n    BASE_URL = \"https://www.attheraces.com\"\n\n    def __init__(self, config=None):\n        super().__init__(source_name=self.SOURCE_NAME, base_url=self.BASE_URL, config=config)\n\n    async def _fetch_data(self, date: str) -> Optional[dict]:\n        \"\"\"\n        Fetches the raw HTML for all race pages for a given date.\n        Returns a dictionary containing the HTML content and the date.\n        \"\"\"\n        index_url = f\"/racecards/{date}\"\n        index_response = await self.make_request(self.http_client, \"GET\", index_url)\n        if not index_response:\n            self.logger.warning(\"Failed to fetch AtTheRaces index page\", url=index_url)\n            return None\n\n        index_soup = BeautifulSoup(index_response.text, \"html.parser\")\n        links = {a[\"href\"] for a in index_soup.select(\"a.race-time-link[href]\")}\n\n        async def fetch_single_html(url_path: str):\n            response = await self.make_request(self.http_client, \"GET\", url_path)\n            return response.text if response else \"\"\n\n        tasks = [fetch_single_html(link) for link in links]\n        html_pages = await asyncio.gather(*tasks)\n        return {\"pages\": html_pages, \"date\": date}\n\n    def _parse_races(self, raw_data: Any) -> List[Race]:\n        \"\"\"Parses a list of raw HTML strings into Race objects.\"\"\"\n        if not raw_data or not raw_data.get(\"pages\"):\n            return []\n\n        all_races = []\n        try:\n            race_date = datetime.strptime(raw_data[\"date\"], \"%Y-%m-%d\").date()\n        except ValueError:\n            self.logger.error(\n                \"Invalid date format provided to AtTheRacesAdapter\",\n                date=raw_data.get(\"date\"),\n            )\n            return []\n\n        for html in raw_data[\"pages\"]:\n            if not html:\n                continue\n            try:\n                soup = BeautifulSoup(html, \"html.parser\")\n                header_element = soup.select_one(\"h1.heading-racecard-title\")\n                if not header_element:\n                    continue\n                header = header_element.get_text()\n                track_name_raw, race_time = [p.strip() for p in header.split(\"|\")[:2]]\n                track_name = normalize_venue_name(track_name_raw)\n                active_link = soup.select_one(\"a.race-time-link.active\")\n                race_number = 1\n                if active_link:\n                    parent_div = active_link.find_parent(\"div\", \"races\")\n                    if parent_div:\n                        all_links = parent_div.select(\"a.race-time-link\")\n                        race_number = all_links.index(active_link) + 1\n\n                start_time = datetime.combine(race_date, datetime.strptime(race_time, \"%H:%M\").time())\n\n                runners = [self._parse_runner(row) for row in soup.select(\"div.card-horse\")]\n                race = Race(\n                    id=f\"atr_{track_name.replace(' ', '')}_{start_time.strftime('%Y%m%d')}_R{race_number}\",\n                    venue=track_name,\n                    race_number=race_number,\n                    start_time=start_time,\n                    runners=[r for r in runners if r],\n                    source=self.source_name,\n                )\n                all_races.append(race)\n            except (AttributeError, IndexError, ValueError):\n                self.logger.warning(\n                    \"Error parsing a race from AtTheRaces, skipping race.\",\n                    exc_info=True,\n                )\n                continue\n        return all_races\n\n    def _parse_runner(self, row: Tag) -> Optional[Runner]:\n        try:\n            name_element = row.select_one(\"h3.horse-name a\")\n            if not name_element:\n                return None\n            name = clean_text(name_element.get_text())\n\n            num_element = row.select_one(\"span.horse-number\")\n            if not num_element:\n                return None\n            num_str = clean_text(num_element.get_text())\n            number = int(\"\".join(filter(str.isdigit, num_str)))\n\n            odds_element = row.select_one(\"button.best-odds\")\n            odds_str = clean_text(odds_element.get_text()) if odds_element else \"\"\n\n            win_odds = parse_odds_to_decimal(odds_str)\n            odds_data = (\n                {\n                    self.source_name: OddsData(\n                        win=win_odds,\n                        source=self.source_name,\n                        last_updated=datetime.now(),\n                    )\n                }\n                if win_odds and win_odds < 999\n                else {}\n            )\n            return Runner(number=number, name=name, odds=odds_data)\n        except (AttributeError, ValueError):\n            self.logger.warning(\"Failed to parse a runner on AtTheRaces, skipping runner.\")\n            return None\n",
    "web_service/backend/adapters/betfair_datascientist_adapter.py": "# python_service/adapters/betfair_datascientist_adapter.py\n\nfrom datetime import datetime\nfrom io import StringIO\nfrom typing import List\nfrom typing import Optional\n\nimport pandas as pd\n\nfrom ..models import OddsData\nfrom ..models import Race\nfrom ..models import Runner\nfrom ..utils.text import normalize_venue_name\nfrom .base_adapter_v3 import BaseAdapterV3\n\n\nclass BetfairDataScientistAdapter(BaseAdapterV3):\n    \"\"\"\n    Adapter for the Betfair Data Scientist CSV models, migrated to BaseAdapterV3.\n    \"\"\"\n\n    ADAPTER_NAME = \"BetfairDataScientist\"\n\n    def __init__(self, model_name: str, url: str, config=None):\n        source_name = f\"{self.ADAPTER_NAME}_{model_name}\"\n        super().__init__(source_name=source_name, base_url=url, config=config)\n        self.model_name = model_name\n\n    async def _fetch_data(self, date: str) -> Optional[StringIO]:\n        \"\"\"Fetches the raw CSV data from the Betfair Data Scientist model endpoint.\"\"\"\n        endpoint = f\"?date={date}&presenter=RatingsPresenter&csv=true\"\n        self.logger.info(f\"Fetching data from {self.base_url}{endpoint}\")\n        response = await self.make_request(self.http_client, \"GET\", endpoint)\n        return StringIO(response.text) if response and response.text else None\n\n    def _parse_races(self, raw_data: Optional[StringIO]) -> List[Race]:\n        \"\"\"Parses the raw CSV data into a list of Race objects.\"\"\"\n        if not raw_data:\n            return []\n        try:\n            df = pd.read_csv(raw_data)\n            if df.empty:\n                self.logger.warning(\"Received empty CSV from Betfair Data Scientist.\")\n                return []\n\n            df = df.rename(\n                columns={\n                    \"meetings.races.bfExchangeMarketId\": \"market_id\",\n                    \"meetings.races.runners.bfExchangeSelectionId\": \"selection_id\",\n                    \"meetings.races.runners.ratedPrice\": \"rated_price\",\n                    \"meetings.races.raceName\": \"race_name\",\n                    \"meetings.name\": \"meeting_name\",\n                    \"meetings.races.raceNumber\": \"race_number\",\n                    \"meetings.races.runners.runnerName\": \"runner_name\",\n                    \"meetings.races.runners.clothNumber\": \"saddle_cloth\",\n                }\n            )\n            races: List[Race] = []\n            for market_id, group in df.groupby(\"market_id\"):\n                race_info = group.iloc[0]\n                runners = []\n                for _, row in group.iterrows():\n                    rated_price = row.get(\"rated_price\")\n                    odds_data = {}\n                    if pd.notna(rated_price):\n                        odds_data[self.source_name] = OddsData(\n                            win=float(rated_price),\n                            source=self.source_name,\n                            last_updated=datetime.now(),\n                        )\n\n                    runners.append(\n                        Runner(\n                            name=str(row.get(\"runner_name\", \"Unknown\")),\n                            number=int(row.get(\"saddle_cloth\", 0)),\n                            odds=odds_data,\n                        )\n                    )\n\n                race = Race(\n                    id=str(market_id),\n                    venue=normalize_venue_name(str(race_info.get(\"meeting_name\", \"\"))),\n                    race_number=int(race_info.get(\"race_number\", 0)),\n                    start_time=datetime.now(),  # Placeholder, not provided in source\n                    runners=runners,\n                    source=self.source_name,\n                )\n                races.append(race)\n            self.logger.info(f\"Normalized {len(races)} races from {self.model_name}.\")\n            return races\n        except (pd.errors.ParserError, KeyError) as e:\n            self.logger.error(\n                \"Failed to parse Betfair Data Scientist CSV.\",\n                exc_info=True,\n                error=str(e),\n            )\n            return []\n",
    "web_service/backend/adapters/the_racing_api_adapter.py": "# python_service/adapters/the_racing_api_adapter.py\n\nfrom datetime import datetime\nfrom decimal import Decimal\nfrom typing import Any\nfrom typing import Dict\nfrom typing import List\nfrom typing import Optional\n\nfrom ..core.exceptions import AdapterConfigError\nfrom ..models import OddsData\nfrom ..models import Race\nfrom ..models import Runner\nfrom .base_adapter_v3 import BaseAdapterV3\n\n\nclass TheRacingApiAdapter(BaseAdapterV3):\n    \"\"\"\n    Adapter for The Racing API, migrated to BaseAdapterV3.\n    \"\"\"\n\n    SOURCE_NAME = \"TheRacingAPI\"\n    BASE_URL = \"https://api.theracingapi.com/v1/\"\n\n    def __init__(self, config=None):\n        super().__init__(source_name=self.SOURCE_NAME, base_url=self.BASE_URL, config=config)\n        if not hasattr(config, \"THE_RACING_API_KEY\") or not config.THE_RACING_API_KEY:\n            raise AdapterConfigError(self.source_name, \"THE_RACING_API_KEY is not configured.\")\n        self.api_key = config.THE_RACING_API_KEY\n\n    async def _fetch_data(self, date: str) -> Optional[Dict[str, Any]]:\n        \"\"\"Fetches the raw racecard data from The Racing API.\"\"\"\n        endpoint = f\"racecards?date={date}&course=all&region=gb,ire\"\n        headers = {\"Authorization\": f\"Bearer {self.api_key}\"}\n        response = await self.make_request(self.http_client, \"GET\", endpoint, headers=headers)\n        return response.json() if response else None\n\n    def _parse_races(self, raw_data: Optional[Dict[str, Any]]) -> List[Race]:\n        \"\"\"Parses the raw JSON response into a list of Race objects.\"\"\"\n        if not raw_data or \"racecards\" not in raw_data:\n            self.logger.warning(\"'racecards' key missing in TheRacingAPI response.\")\n            return []\n\n        races = []\n        for race_data in raw_data.get(\"racecards\", []):\n            try:\n                race_id = race_data.get(\"race_id\")\n                off_time = race_data.get(\"off_time\")\n                course = race_data.get(\"course\")\n                race_no = race_data.get(\"race_no\")\n\n                if not all([race_id, off_time, course, race_no]):\n                    continue\n\n                start_time = datetime.fromisoformat(off_time.replace(\"Z\", \"+00:00\"))\n\n                race = Race(\n                    id=f\"tra_{race_id}\",\n                    venue=course,\n                    race_number=race_no,\n                    start_time=start_time,\n                    runners=self._parse_runners(race_data.get(\"runners\", [])),\n                    source=self.source_name,\n                    race_name=race_data.get(\"race_name\"),\n                    distance=race_data.get(\"distance_f\"),\n                )\n                races.append(race)\n            except Exception:\n                self.logger.error(\n                    \"Error parsing TheRacingAPI race\",\n                    race_id=race_data.get(\"race_id\"),\n                    exc_info=True,\n                )\n        return races\n\n    def _parse_runners(self, runners_data: List[Dict[str, Any]]) -> List[Runner]:\n        runners = []\n        for i, runner_data in enumerate(runners_data):\n            try:\n                horse = runner_data.get(\"horse\")\n                if not horse:\n                    continue\n\n                odds_data = {}\n                odds_list = runner_data.get(\"odds\", [])\n                if odds_list:\n                    odds_decimal_str = odds_list[0].get(\"odds_decimal\")\n                    if odds_decimal_str:\n                        win_odds = Decimal(str(odds_decimal_str))\n                        odds_data[self.source_name] = OddsData(\n                            win=win_odds,\n                            source=self.source_name,\n                            last_updated=datetime.now(),\n                        )\n\n                runners.append(\n                    Runner(\n                        number=runner_data.get(\"number\", i + 1),\n                        name=horse,\n                        odds=odds_data,\n                        jockey=runner_data.get(\"jockey\"),\n                        trainer=runner_data.get(\"trainer\"),\n                    )\n                )\n            except Exception:\n                self.logger.error(\n                    \"Error parsing TheRacingAPI runner\",\n                    runner_name=runner_data.get(\"horse\"),\n                    exc_info=True,\n                )\n        return runners\n",
    "web_service/backend/core/__init__.py": "",
    "web_service/backend/engine.py": "# python_service/engine.py\n\nimport asyncio\nimport json\nfrom copy import deepcopy\nfrom datetime import datetime\nfrom typing import Any\nfrom typing import Dict\nfrom typing import List\nfrom typing import Tuple\n\nimport httpx\nimport redis\nimport redis.asyncio as redis_async\nimport structlog\nfrom pydantic import ValidationError\n\nfrom .adapters.at_the_races_adapter import AtTheRacesAdapter\nfrom .adapters.base_adapter_v3 import BaseAdapterV3\nfrom .adapters.betfair_adapter import BetfairAdapter\n\n# from .adapters.betfair_datascientist_adapter import BetfairDataScientistAdapter\nfrom .adapters.betfair_greyhound_adapter import BetfairGreyhoundAdapter\nfrom .adapters.brisnet_adapter import BrisnetAdapter\nfrom .adapters.equibase_adapter import EquibaseAdapter\nfrom .adapters.fanduel_adapter import FanDuelAdapter\nfrom .adapters.gbgb_api_adapter import GbgbApiAdapter\nfrom .adapters.greyhound_adapter import GreyhoundAdapter\nfrom .adapters.harness_adapter import HarnessAdapter\nfrom .adapters.horseracingnation_adapter import HorseRacingNationAdapter\nfrom .adapters.nyrabets_adapter import NYRABetsAdapter\nfrom .adapters.oddschecker_adapter import OddscheckerAdapter\nfrom .adapters.pointsbet_greyhound_adapter import PointsBetGreyhoundAdapter\nfrom .adapters.punters_adapter import PuntersAdapter\nfrom .adapters.racing_and_sports_adapter import RacingAndSportsAdapter\nfrom .adapters.racing_and_sports_greyhound_adapter import RacingAndSportsGreyhoundAdapter\nfrom .adapters.racingpost_adapter import RacingPostAdapter\nfrom .adapters.racingtv_adapter import RacingTVAdapter\nfrom .adapters.sporting_life_adapter import SportingLifeAdapter\nfrom .adapters.tab_adapter import TabAdapter\nfrom .adapters.the_racing_api_adapter import TheRacingApiAdapter\nfrom .adapters.timeform_adapter import TimeformAdapter\nfrom .adapters.tvg_adapter import TVGAdapter\nfrom .adapters.twinspires_adapter import TwinSpiresAdapter\nfrom .adapters.xpressbet_adapter import XpressbetAdapter\nfrom .config import get_settings\nfrom .core.exceptions import AdapterConfigError\nfrom .core.exceptions import AdapterHttpError\nfrom .manual_override_manager import ManualOverrideManager\nfrom .models import AggregatedResponse\nfrom .models import Race\n\nlog = structlog.get_logger(__name__)\n\n\nclass OddsEngine:\n    def __init__(\n        self,\n        config=None,\n        manual_override_manager: ManualOverrideManager = None,\n        connection_manager=None,\n    ):\n        # THE FIX: Import the cache_manager singleton here to ensure tests can\n        # patch and reload it *before* the engine is initialized.\n        from .cache_manager import cache_manager\n\n        self.logger = structlog.get_logger(__name__)\n        self.logger.info(\"Initializing FortunaEngine...\")\n        self.connection_manager = connection_manager\n        self.cache_manager = cache_manager\n\n        try:\n            try:\n                self.config = config or get_settings()\n                self.logger.info(\"Configuration loaded.\")\n            except ValidationError as e:\n                self.logger.warning(\n                    \"Could not load settings, possibly in test environment.\",\n                    error=str(e),\n                )\n                # Create a default/mock config or re-raise if not in a test context\n                from .config import Settings\n\n                self.config = Settings(API_KEY=\"a_secure_test_api_key_that_is_long_enough\")\n\n            # Redis is now handled entirely by the CacheManager.\n\n            self.logger.info(\"Initializing adapters...\")\n            self.adapters: List[BaseAdapterV3] = []\n            adapter_classes = [\n                AtTheRacesAdapter,\n                BetfairAdapter,\n                BetfairGreyhoundAdapter,\n                BrisnetAdapter,\n                EquibaseAdapter,\n                FanDuelAdapter,\n                GbgbApiAdapter,\n                GreyhoundAdapter,\n                HarnessAdapter,\n                HorseRacingNationAdapter,\n                NYRABetsAdapter,\n                OddscheckerAdapter,\n                PuntersAdapter,\n                RacingAndSportsAdapter,\n                RacingAndSportsGreyhoundAdapter,\n                RacingPostAdapter,\n                RacingTVAdapter,\n                SportingLifeAdapter,\n                TabAdapter,\n                TheRacingApiAdapter,\n                TimeformAdapter,\n                TwinSpiresAdapter,\n                TVGAdapter,\n                XpressbetAdapter,\n                PointsBetGreyhoundAdapter,\n            ]\n\n            for adapter_cls in adapter_classes:\n                try:\n                    self.logger.info(f\"Attempting to initialize adapter: {adapter_cls.__name__}\")\n                    adapter_instance = adapter_cls(config=self.config)\n                    self.logger.info(f\"Successfully initialized adapter: {adapter_cls.__name__}\")\n                    if manual_override_manager and getattr(adapter_instance, \"supports_manual_override\", False):\n                        adapter_instance.enable_manual_override(manual_override_manager)\n                    self.adapters.append(adapter_instance)\n                except AdapterConfigError as e:\n                    self.logger.warning(\n                        \"Skipping adapter due to configuration error\",\n                        adapter=adapter_cls.__name__,\n                        error=str(e),\n                    )\n                except Exception:\n                    self.logger.error(\n                        f\"An unexpected error occurred while initializing {adapter_cls.__name__}\",\n                        exc_info=True,\n                    )\n\n            # Special case for BetfairDataScientistAdapter with extra args - DISABLED\n            # try:\n            #     bds_adapter = BetfairDataScientistAdapter(\n            #         model_name=\"ThoroughbredModel\",\n            #         url=\"https://betfair-data-supplier-prod.herokuapp.com/api/widgets/kvs-ratings/datasets\",\n            #         config=self.config,\n            #     )\n            #     if manual_override_manager and getattr(bds_adapter, \"supports_manual_override\", False):\n            #         bds_adapter.enable_manual_override(manual_override_manager)\n            #     self.adapters.append(bds_adapter)\n            # except Exception:\n            #     self.logger.warning(\n            #         \"Failed to initialize adapter: BetfairDataScientistAdapter\",\n            #         exc_info=True,\n            #     )\n\n            self.logger.info(f\"{len(self.adapters)} adapters initialized successfully.\")\n\n            self.logger.info(\"Initializing HTTP client...\")\n            self.http_limits = httpx.Limits(\n                max_connections=self.config.HTTP_POOL_CONNECTIONS,\n                max_keepalive_connections=self.config.HTTP_MAX_KEEPALIVE,\n            )\n            self.http_client = httpx.AsyncClient(limits=self.http_limits, http2=True)\n            self.logger.info(\"HTTP client initialized.\")\n\n            # Assign the shared client to each adapter\n            for adapter in self.adapters:\n                adapter.http_client = self.http_client\n\n            # Initialize semaphore for concurrency limiting\n            self.semaphore = asyncio.Semaphore(self.config.MAX_CONCURRENT_REQUESTS)\n            self.logger.info(\n                \"Concurrency semaphore initialized\",\n                limit=self.config.MAX_CONCURRENT_REQUESTS,\n            )\n\n            self.logger.info(\"FortunaEngine initialization complete.\")\n\n        except Exception:\n            self.logger.critical(\"CRITICAL FAILURE during FortunaEngine initialization.\", exc_info=True)\n            raise\n\n    async def close(self):\n        await self.http_client.aclose()\n\n    def get_all_adapter_statuses(self) -> List[Dict[str, Any]]:\n        return [adapter.get_status() for adapter in self.adapters]\n\n    async def get_from_cache(self, key):\n        return await self.cache_manager.get(key)\n\n    async def set_in_cache(self, key, value, ttl=300):\n        # THE FIX: The keyword argument is 'ttl_seconds', not 'ttl'.\n        await self.cache_manager.set(key, value, ttl_seconds=ttl)\n\n    async def _fetch_with_semaphore(self, adapter: BaseAdapterV3, date: str):\n        \"\"\"Acquires the semaphore before fetching data from an adapter.\"\"\"\n        async with self.semaphore:\n            return await self._time_adapter_fetch(adapter, date)\n\n    async def _time_adapter_fetch(self, adapter: BaseAdapterV3, date: str) -> Tuple[str, Dict[str, Any], float]:\n        \"\"\"\n        Wraps a V3 adapter's fetch call for safe, non-blocking execution,\n        and returns a consistent payload with timing information.\n        \"\"\"\n        start_time = datetime.now()\n        races: List[Race] = []\n        error_message = None\n        is_success = False\n        attempted_url = None\n\n        try:\n            race_data_list = await adapter.get_races(date)\n            races = [Race(**race_data) for race_data in race_data_list]\n            is_success = True\n        except AdapterHttpError as e:\n            self.logger.error(\n                \"HTTP failure during fetch from adapter.\",\n                adapter=adapter.source_name,\n                status_code=e.status_code,\n                url=e.url,\n                exc_info=False,\n            )\n            error_message = f\"HTTP Error {e.status_code} for {e.url}\"\n            attempted_url = e.url\n            races = [\n                Race(\n                    id=f\"error_{adapter.source_name.lower()}\",\n                    venue=adapter.source_name,\n                    race_number=0,\n                    start_time=datetime.now(),\n                    runners=[],\n                    source=adapter.source_name,\n                    is_error_placeholder=True,\n                    error_message=error_message,\n                )\n            ]\n        except Exception as e:\n            self.logger.error(\n                \"Critical failure during fetch from adapter.\",\n                adapter=adapter.source_name,\n                error=str(e),\n                exc_info=True,\n            )\n            error_message = str(e)\n            races = [\n                Race(\n                    id=f\"error_{adapter.source_name.lower()}\",\n                    venue=adapter.source_name,\n                    race_number=0,\n                    start_time=datetime.now(),\n                    runners=[],\n                    source=adapter.source_name,\n                    is_error_placeholder=True,\n                    error_message=error_message,\n                )\n            ]\n\n        duration = (datetime.now() - start_time).total_seconds()\n\n        payload = {\n            \"races\": races,\n            \"source_info\": {\n                \"name\": adapter.source_name,\n                \"status\": \"SUCCESS\" if is_success else \"FAILED\",\n                \"races_fetched\": len(races),\n                \"error_message\": error_message,\n                \"fetch_duration\": duration,\n                \"attempted_url\": attempted_url,\n            },\n        }\n        return (adapter.source_name, payload, duration)\n\n    def _race_key(self, race: Race) -> str:\n        return f\"{race.venue.lower().strip()}|{race.race_number}|{race.start_time.strftime('%H:%M')}\"\n\n    def _dedupe_races(self, races: List[Race]) -> List[Race]:\n        \"\"\"Deduplicates races and reconciles odds from different sources.\"\"\"\n        races_copy = deepcopy(races)\n        race_map: Dict[str, Race] = {}\n        for race in races_copy:\n            key = self._race_key(race)\n            if key not in race_map:\n                race_map[key] = race\n            else:\n                existing_race = race_map[key]\n                runner_map = {r.number: r for r in existing_race.runners}\n                for new_runner in race.runners:\n                    if new_runner.number in runner_map:\n                        existing_runner = runner_map[new_runner.number]\n                        existing_runner.odds.update(new_runner.odds)\n                    else:\n                        existing_race.runners.append(new_runner)\n                existing_race.source += f\", {race.source}\"\n\n        return list(race_map.values())\n\n    async def _broadcast_update(self, data: Dict[str, Any]):\n        \"\"\"Helper to broadcast data if the connection manager is available.\"\"\"\n        if self.connection_manager:\n            await self.connection_manager.broadcast(data)\n\n    async def fetch_all_odds(self, date: str, source_filter: str = None) -> Dict[str, Any]:\n        \"\"\"\n        Fetches and aggregates race data from all configured adapters.\n        The result of this method is cached and broadcasted via WebSocket.\n        \"\"\"\n        # Construct a cache key\n        cache_key = f\"fortuna_engine_races:{date}:{source_filter or 'all'}\"\n        cached_data = await self.get_from_cache(cache_key)\n        if cached_data:\n            log.info(\"Cache hit for fetch_all_odds\", key=cache_key)\n            return json.loads(cached_data)\n\n        log.info(\"Cache miss for fetch_all_odds\", key=cache_key)\n        target_adapters = self.adapters\n        if source_filter:\n            log.info(\"Applying source filter\", source=source_filter)\n            target_adapters = [a for a in self.adapters if a.source_name.lower() == source_filter.lower()]\n\n        tasks = [self._fetch_with_semaphore(adapter, date) for adapter in target_adapters]\n        results = await asyncio.gather(*tasks, return_exceptions=True)\n\n        source_infos = []\n        all_races = []\n        errors = []\n\n        for i, result in enumerate(results):\n            adapter = target_adapters[i]\n            if isinstance(result, Exception):\n                log.error(\"Adapter fetch task failed with an unhandled exception\", adapter=adapter.source_name, error=result)\n                errors.append({\n                    \"adapter_name\": adapter.source_name,\n                    \"error_message\": f\"Unhandled exception: {str(result)}\",\n                    \"attempted_url\": \"Unknown\"\n                })\n                source_infos.append({\n                    \"name\": adapter.source_name,\n                    \"status\": \"FAILED\",\n                    \"error_message\": f\"Unhandled exception: {str(result)}\",\n                })\n            else:\n                _adapter_name, adapter_result, _duration = result\n                source_info = adapter_result.get(\"source_info\", {})\n                source_infos.append(source_info)\n                if source_info.get(\"status\") == \"SUCCESS\":\n                    all_races.extend(adapter_result.get(\"races\", []))\n                else:\n                    errors.append({\n                        \"adapter_name\": adapter.source_name,\n                        \"error_message\": source_info.get(\"error_message\", \"Unknown error\"),\n                        \"attempted_url\": source_info.get(\"attempted_url\")\n                    })\n\n        deduped_races = self._dedupe_races(all_races)\n\n        response_obj = AggregatedResponse(\n            date=datetime.strptime(date, \"%Y-%m-%d\").date(),\n            races=deduped_races,\n            errors=errors,\n            source_info=source_infos,\n            metadata={\n                \"fetch_time\": datetime.now(),\n                \"sources_queried\": [a.source_name for a in target_adapters],\n                \"sources_successful\": len([s for s in source_infos if s[\"status\"] == \"SUCCESS\"]),\n                \"total_races\": len(deduped_races),\n                \"total_errors\": len(errors),\n            },\n        )\n\n        response_data = response_obj.model_dump(by_alias=True)\n\n        # Set the result in the cache\n        await self.set_in_cache(cache_key, json.dumps(response_data, default=str), ttl=300)\n        await self._broadcast_update(response_data)\n        return response_data\n",
    "web_service/backend/health_check.py": "import socket\nimport sys\n\n\ndef is_port_available(port=8000):\n    try:\n        sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\n        result = sock.connect_ex((\"127.0.0.1\", port))\n        sock.close()\n        return result != 0\n    except Exception:\n        return False\n\n\nif __name__ == \"__main__\":\n    if not is_port_available(8000):\n        print(\"ERROR: Port 8000 already in use. Kill existing process or use different port.\")\n        sys.exit(1)\n    print(\"Port 8000 available \u2713\")\n",
    "web_service/backend/manual_override_manager.py": "# python_service/manual_override_manager.py\nimport hashlib\nfrom datetime import datetime\nfrom datetime import timedelta\nfrom typing import Dict\nfrom typing import List\nfrom typing import Optional\nfrom typing import Tuple\n\nfrom pydantic import BaseModel\nfrom pydantic import Field\n\n\nclass ManualOverrideRequest(BaseModel):\n    request_id: str\n    adapter_name: str\n    url: str\n    timestamp: datetime = Field(default_factory=datetime.now)\n    status: str = \"pending\"  # pending, submitted, skipped\n\n\nclass ManualOverrideManager:\n    def __init__(self):\n        self._requests: Dict[str, ManualOverrideRequest] = {}\n        self._data: Dict[str, Tuple[str, str]] = {}  # request_id -> (content, content_type)\n\n    def _generate_id(self, adapter_name: str, url: str) -> str:\n        \"\"\"Generates a consistent ID for a given adapter and URL.\"\"\"\n        return hashlib.sha256(f\"{adapter_name}:{url}\".encode()).hexdigest()[:16]\n\n    def register_failure(self, adapter_name: str, url: str) -> str:\n        \"\"\"\n        Registers a failed fetch attempt and returns a unique request ID.\n        If a pending request for this exact resource already exists, it returns the existing ID.\n        \"\"\"\n        request_id = self._generate_id(adapter_name, url)\n        if request_id not in self._requests or self._requests[request_id].status != \"pending\":\n            request = ManualOverrideRequest(request_id=request_id, adapter_name=adapter_name, url=url)\n            self._requests[request_id] = request\n        return request_id\n\n    def submit_manual_data(self, request_id: str, raw_content: str, content_type: str) -> bool:\n        \"\"\"Submits manual data for a pending request.\"\"\"\n        if request_id in self._requests and self._requests[request_id].status == \"pending\":\n            self._data[request_id] = (raw_content, content_type)\n            self._requests[request_id].status = \"submitted\"\n            return True\n        return False\n\n    def skip_request(self, request_id: str) -> bool:\n        \"\"\"Marks a pending request as skipped.\"\"\"\n        if request_id in self._requests and self._requests[request_id].status == \"pending\":\n            self._requests[request_id].status = \"skipped\"\n            return True\n        return False\n\n    def get_pending_requests(self) -> List[ManualOverrideRequest]:\n        \"\"\"Returns a list of all requests that are currently pending.\"\"\"\n        return [req for req in self._requests.values() if req.status == \"pending\"]\n\n    def get_manual_data(self, adapter_name: str, url: str) -> Optional[Tuple[str, str]]:\n        \"\"\"\n        Retrieves submitted manual data for a given adapter and URL, if it exists.\n        Once retrieved, the data is consumed and will not be returned again.\n        \"\"\"\n        request_id = self._generate_id(adapter_name, url)\n        if request_id in self._data:\n            # Data is single-use; remove it after retrieval.\n            return self._data.pop(request_id)\n        return None\n\n    def clear_old_requests(self, max_age_hours: int = 24):\n        \"\"\"Removes requests and associated data older than a specified age.\"\"\"\n        cutoff = datetime.now() - timedelta(hours=max_age_hours)\n        old_request_ids = [req_id for req_id, req in self._requests.items() if req.timestamp < cutoff]\n        for req_id in old_request_ids:\n            self._requests.pop(req_id, None)\n            self._data.pop(req_id, None)\n",
    "web_service/backend/middleware/__init__.py": "",
    "web_service/backend/models.py": "# python_service/models.py\n\nfrom datetime import datetime\nfrom decimal import Decimal\nfrom typing import Annotated\nfrom typing import Any\nfrom typing import Callable\nfrom typing import Dict\nfrom typing import List\nfrom typing import Optional\n\nfrom pydantic import BaseModel\nfrom pydantic import ConfigDict\nfrom pydantic import Field\nfrom pydantic import WrapSerializer\n\n\ndef decimal_serializer(value: Decimal, handler: Callable[[Decimal], Any]) -> Any:\n    \"\"\"Custom serializer for Decimal to float conversion.\"\"\"\n    return float(value)\n\n\nJsonDecimal = Annotated[Decimal, WrapSerializer(decimal_serializer, when_used=\"json\")]\n\n\n# --- Configuration for Aliases (BUG #4 Fix) ---\nclass FortunaBaseModel(BaseModel):\n    model_config = ConfigDict(\n        populate_by_name=True,\n        arbitrary_types_allowed=True,\n    )\n\n\n# --- Core Data Models ---\nclass OddsData(FortunaBaseModel):\n    win: Optional[JsonDecimal] = None\n    place: Optional[JsonDecimal] = None\n    show: Optional[JsonDecimal] = None\n    source: str\n    last_updated: datetime\n\n\nclass Runner(FortunaBaseModel):\n    id: Optional[str] = None\n    name: str\n    number: Optional[int] = Field(None, alias=\"saddleClothNumber\")\n    scratched: bool = False\n    odds: Dict[str, OddsData] = {}\n    jockey: Optional[str] = None\n    trainer: Optional[str] = None\n\n\nclass Race(FortunaBaseModel):\n    id: str\n    venue: str\n    race_number: int = Field(..., alias=\"raceNumber\")\n    start_time: datetime = Field(..., alias=\"startTime\")\n    runners: List[Runner]\n    source: str\n    field_size: Optional[int] = None\n    qualification_score: Optional[float] = Field(None, alias=\"qualificationScore\")\n    favorite: Optional[Runner] = None\n    race_name: Optional[str] = None\n    distance: Optional[str] = None\n    is_error_placeholder: bool = Field(False, alias=\"isErrorPlaceholder\")\n    error_message: Optional[str] = Field(None, alias=\"errorMessage\")\n\n\nclass SourceInfo(FortunaBaseModel):\n    name: str\n    status: str\n    races_fetched: int = Field(..., alias=\"racesFetched\")\n    fetch_duration: float = Field(..., alias=\"fetchDuration\")\n    error_message: Optional[str] = Field(None, alias=\"errorMessage\")\n    attempted_url: Optional[str] = Field(None, alias=\"attemptedUrl\")\n\n\nclass AdapterError(FortunaBaseModel):\n    adapter_name: str = Field(..., alias=\"adapterName\")\n    error_message: str = Field(..., alias=\"errorMessage\")\n    attempted_url: Optional[str] = Field(None, alias=\"attemptedUrl\")\n\n\nclass AggregatedResponse(FortunaBaseModel):\n    races: List[Race]\n    errors: List[AdapterError]\n    source_info: List[SourceInfo] = Field(..., alias=\"sourceInfo\")\n\n\nclass QualifiedRacesResponse(FortunaBaseModel):\n    criteria: Dict[str, Any]\n    races: List[Race]\n\n\nclass TipsheetRace(FortunaBaseModel):\n    race_id: str = Field(..., alias=\"raceId\")\n    track_name: str = Field(..., alias=\"trackName\")\n    race_number: int = Field(..., alias=\"raceNumber\")\n    post_time: str = Field(..., alias=\"postTime\")\n    score: float\n    factors: Any  # JSON string stored as Any\n\n\nclass ManualParseRequest(FortunaBaseModel):\n    adapter_name: str\n    html_content: str = Field(..., max_length=5_000_000)  # ~5MB limit\n",
    "web_service/backend/notifications.py": "# python_service/notifications.py\n\nimport sys\n\nimport structlog\n\nlog = structlog.get_logger(__name__)\n\n\ndef send_toast(title: str, message: str):\n    \"\"\"\n    Sends a desktop notification. This function is platform-aware and will only\n    attempt to send a toast on Windows. On other operating systems, it will\n    log the notification content.\n    \"\"\"\n    if sys.platform == \"win32\":\n        try:\n            from windows_toasts import Toast\n            from windows_toasts import WindowsToaster\n\n            toaster = WindowsToaster(title)\n            new_toast = Toast()\n            new_toast.text_fields = [message]\n            toaster.show_toast(new_toast)\n            log.info(\"Sent Windows toast notification.\", title=title, message=message)\n        except ImportError:\n            log.warning(\n                \"windows_toasts library not found, skipping notification.\",\n                recommendation=\"Install with: pip install windows-toasts\",\n            )\n        except Exception:\n            log.error(\"Failed to send Windows toast notification.\", exc_info=True)\n    else:\n        log.info(\n            \"Skipping toast notification on non-Windows platform.\",\n            platform=sys.platform,\n            title=title,\n            message=message,\n        )\n",
    "web_service/backend/port_check.py": "import socket\nimport sys\n\n\ndef is_port_in_use(port: int, host: str = \"127.0.0.1\") -> bool:\n    \"\"\"\n    Checks if a local port is already in use.\n\n    Args:\n        port: The port number to check.\n        host: The host to check (defaults to localhost).\n\n    Returns:\n        True if the port is in use, False otherwise.\n    \"\"\"\n    with socket.socket(socket.AF_INET, socket.SOCK_STREAM) as s:\n        try:\n            s.bind((host, port))\n            return False\n        except OSError:\n            return True\n\n\ndef check_port_and_exit_if_in_use(port: int, host: str = \"127.0.0.1\"):\n    \"\"\"\n    Checks the specified port and exits the application with a user-friendly\n    message if it's already in use.\n    \"\"\"\n    # Note: A simple s.connect_ex((host, port)) == 0 is not reliable, as it can\n    # intermittently fail depending on socket states. A full bind attempt is\n    # the most robust way to check for port availability.\n    if is_port_in_use(port, host):\n        print(f\"--- FATAL ERROR ---\")\n        print(f\"Port {port} on host {host} is already in use by another application.\")\n        print(f\"Please close the other application or configure Fortuna Faucet to use a different port.\")\n        print(f\"-------------------\")\n        # Use sys.exit to ensure a clean exit, especially important for PyInstaller executables.\n        sys.exit(1)\n",
    "web_service/backend/requirements.txt": "#\n# This file is autogenerated by pip-compile with Python 3.12\n# by the following command:\n#\n#    pip-compile --output-file=python_service/requirements.txt python_service/requirements.in\n#\naiosqlite==0.21.0\n    # via -r python_service/requirements.in\naltgraph==0.17.4\n    # via pyinstaller\nannotated-doc==0.0.4\n    # via fastapi\nannotated-types==0.7.0\n    # via pydantic\nanyio==4.11.0\n    # via\n    #   httpx\n    #   starlette\nbeautifulsoup4==4.14.2\n    # via -r python_service/requirements.in\nblack==25.11.0\n    # via -r python_service/requirements.in\nbuild==1.3.0\n    # via pip-tools\ncertifi==2025.10.5\n    # via\n    #   -r python_service/requirements.in\n    #   httpcore\n    #   httpx\n    #   requests\ncffi==2.0.0\n    # via cryptography\ncharset-normalizer==3.4.4\n    # via requests\nclick==8.3.0\n    # via\n    #   black\n    #   pip-tools\n    #   uvicorn\ncryptography==46.0.3\n    # via\n    #   -r python_service/requirements.in\n    #   secretstorage\ndeprecated==1.3.1\n    # via limits\nfastapi==0.121.1\n    # via -r python_service/requirements.in\ngreenlet==3.2.4\n    # via sqlalchemy\nh11==0.16.0\n    # via\n    #   httpcore\n    #   uvicorn\nh2==4.3.0\n    # via httpx\nhpack==4.1.0\n    # via h2\nhttpcore==1.0.9\n    # via httpx\nhttpx[http2]==0.28.1\n    # via -r python_service/requirements.in\nhyperframe==6.1.0\n    # via h2\nidna==3.11\n    # via\n    #   anyio\n    #   httpx\n    #   requests\niniconfig==2.3.0\n    # via pytest\njaraco-classes==3.4.0\n    # via keyring\njaraco-context==6.0.1\n    # via keyring\njaraco-functools==4.3.0\n    # via keyring\njeepney==0.9.0\n    # via\n    #   keyring\n    #   secretstorage\nkeyring==25.6.0\n    # via -r python_service/requirements.in\nlimits==5.6.0\n    # via slowapi\nmore-itertools==10.8.0\n    # via\n    #   jaraco-classes\n    #   jaraco-functools\nmypy-extensions==1.1.0\n    # via black\nnumpy==2.3.4\n    # via\n    #   -r python_service/requirements.in\n    #   pandas\n    #   scipy\npackaging==25.0\n    # via\n    #   black\n    #   build\n    #   limits\n    #   pyinstaller\n    #   pyinstaller-hooks-contrib\n    #   pytest\npandas==2.3.3\n    # via -r python_service/requirements.in\npathspec==0.12.1\n    # via black\npip-tools==7.5.1\n    # via -r python_service/requirements.in\nplatformdirs==4.5.0\n    # via black\npluggy==1.6.0\n    # via pytest\npsutil==7.1.3\n    # via -r python_service/requirements.in\npsycopg2-binary==2.9.11\n    # via -r python_service/requirements.in\npycparser==2.23\n    # via cffi\npydantic==2.12.4\n    # via\n    #   fastapi\n    #   pydantic-settings\npydantic-core==2.41.5\n    # via pydantic\npydantic-settings==2.12.0\n    # via -r python_service/requirements.in\npygments==2.19.2\n    # via pytest\npyinstaller==6.6.0\n    # via -r python_service/requirements.in\npyinstaller-hooks-contrib==2025.9\n    # via pyinstaller\npyproject-hooks==1.2.0\n    # via\n    #   build\n    #   pip-tools\npytest==9.0.0\n    # via\n    #   -r python_service/requirements.in\n    #   pytest-asyncio\npytest-asyncio==1.3.0\n    # via -r python_service/requirements.in\npython-dateutil==2.9.0.post0\n    # via pandas\npython-dotenv==1.2.1\n    # via pydantic-settings\npytokens==0.3.0\n    # via black\npytz==2025.2\n    # via pandas\nredis==7.0.1\n    # via -r python_service/requirements.in\nrequests==2.32.5\n    # via -r python_service/requirements.in\nscipy==1.16.3\n    # via -r python_service/requirements.in\nsecretstorage==3.4.1\n    # via keyring\nselectolax==0.4.0\n    # via -r python_service/requirements.in\nsix==1.17.0\n    # via python-dateutil\nslowapi==0.1.9\n    # via -r python_service/requirements.in\nsniffio==1.3.1\n    # via anyio\nsoupsieve==2.8\n    # via beautifulsoup4\nsqlalchemy==2.0.44\n    # via -r python_service/requirements.in\nstarlette==0.49.3\n    # via fastapi\nstructlog==25.5.0\n    # via -r python_service/requirements.in\ntenacity==8.5.0\n    # via -r python_service/requirements.in\ntyping-extensions==4.15.0\n    # via\n    #   aiosqlite\n    #   anyio\n    #   beautifulsoup4\n    #   fastapi\n    #   limits\n    #   pydantic\n    #   pydantic-core\n    #   pytest-asyncio\n    #   sqlalchemy\n    #   starlette\n    #   typing-inspection\ntyping-inspection==0.4.2\n    # via\n    #   pydantic\n    #   pydantic-settings\ntzdata==2025.2\n    # via pandas\nurllib3==2.5.0\n    # via\n    #   -r python_service/requirements.in\n    #   requests\nuvicorn==0.30.1\n    # via -r python_service/requirements.in\nwheel==0.45.1\n    # via\n    #   -r python_service/requirements.in\n    #   pip-tools\nwrapt==2.0.1\n    # via deprecated\n\n# The following packages are considered to be unsafe in a requirements file:\n# pip\n# setuptools\n",
    "web_service/backend/requirements_minimal.txt": "httpx==0.25.0\nstructlog==23.2.0\npydantic==2.5.0\nuvicorn==0.24.0\nfastapi==0.104.1\ntenacity==8.2.3\n",
    "web_service/backend/utils/__init__.py": "",
    "web_service/backend/utils/odds.py": "# Centralized odds parsing utility, created by Operation: The A+ Trifecta\nfrom decimal import Decimal\nfrom decimal import InvalidOperation\nfrom typing import Optional\nfrom typing import Union\n\n\ndef parse_odds_to_decimal(odds: Union[str, int, float, None]) -> Optional[Decimal]:\n    \"\"\"\n    Parse various odds formats to Decimal for precise financial calculations.\n    Handles fractional, decimal, and special cases ('EVS', 'SP', etc.).\n    Returns None for unparseable or invalid values.\n    \"\"\"\n    if odds is None:\n        return None\n\n    if isinstance(odds, (int, float)):\n        return Decimal(str(odds))\n\n    odds_str = str(odds).strip().upper()\n\n    SPECIAL_CASES = {\n        \"EVS\": Decimal(\"2.0\"),\n        \"EVENS\": Decimal(\"2.0\"),\n        \"SP\": None,\n        \"SCRATCHED\": None,\n        \"SCR\": None,\n        \"\": None,\n    }\n\n    if odds_str in SPECIAL_CASES:\n        return SPECIAL_CASES[odds_str]\n\n    if \"/\" in odds_str:\n        try:\n            parts = odds_str.split(\"/\")\n            if len(parts) != 2:\n                return None\n            num, den = map(Decimal, parts)\n            if den <= 0:\n                return None\n            return Decimal(\"1.0\") + (num / den)\n        except (ValueError, InvalidOperation):\n            return None\n\n    try:\n        return Decimal(odds_str)\n    except (ValueError, InvalidOperation):\n        return None\n",
    "web_service/frontend/app/Providers.tsx": "// web_platform/frontend/app/Providers.tsx\n'use client';\n\nimport { QueryClientProvider } from '@tanstack/react-query';\nimport { queryClient } from './lib/queryClient';\nimport React from 'react';\n\nexport default function Providers({ children }: { children: React.ReactNode }) {\n  return (\n    <QueryClientProvider client={queryClient}>{children}</QueryClientProvider>\n  );\n}\n",
    "web_service/frontend/app/components/AdapterStatusPanel.tsx": "// web_platform/frontend/src/components/AdapterStatusPanel.tsx\n'use client';\n\nimport React from 'react';\nimport { SourceInfo } from '../types/racing';\n\ninterface AdapterStatusPanelProps {\n  adapter: SourceInfo;\n  onFetchRaces: (sourceName: string) => void;\n}\n\nexport const AdapterStatusPanel: React.FC<AdapterStatusPanelProps> = ({ adapter, onFetchRaces }) => {\n  const isConfigured = adapter.status !== 'CONFIG_ERROR';\n\n  return (\n    <div className={`p-4 rounded-lg border ${isConfigured ? 'bg-slate-800 border-slate-700' : 'bg-yellow-900/20 border-yellow-700/50'}`}>\n      <div className=\"flex justify-between items-center\">\n        <h3 className=\"font-bold text-lg text-white\">{adapter.name}</h3>\n        <span className={`px-2 py-0.5 rounded-full text-xs font-medium ${isConfigured ? 'bg-green-500/20 text-green-300' : 'bg-yellow-500/20 text-yellow-300'}`}>\n          {isConfigured ? 'Ready' : 'Not Configured'}\n        </span>\n      </div>\n      <div className=\"mt-4 flex gap-2\">\n        <button\n          onClick={() => onFetchRaces(adapter.name)}\n          disabled={!isConfigured}\n          className=\"flex-1 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:bg-slate-700 disabled:text-slate-400 disabled:cursor-not-allowed\"\n        >\n          Automatic Load\n        </button>\n        <button\n          disabled\n          className=\"flex-1 px-4 py-2 bg-slate-700 text-slate-400 rounded cursor-not-allowed\"\n        >\n          Manual Entry (Coming Soon)\n        </button>\n      </div>\n    </div>\n  );\n};\n",
    "web_service/frontend/app/types/racing.ts": "// web_platform/frontend/src/types/racing.ts\n// This file is the central source of truth for frontend racing data types.\n\n// --- Runner & Odds Interfaces ---\nexport interface OddsData {\n  win: number | null;\n  place: number | null;\n  show: number | null;\n  source: string;\n  last_updated: string;\n}\n\nexport interface Runner {\n  number: number;\n  name: string;\n  scratched: boolean;\n  selection_id?: number;\n  odds: Record<string, OddsData>;\n  jockey?: string;\n  trainer?: string;\n}\n\n// --- Race Interface ---\n// This interface matches the shape of the data returned by the API for the dashboard.\nexport interface Race {\n  id: string;\n  venue: string;\n  race_number: number;\n  start_time: string;\n  runners: Runner[];\n  source: string;\n  qualification_score?: number;\n  distance?: string;\n  surface?: string;\n  favorite?: Runner;\n  isErrorPlaceholder?: boolean;\n  errorMessage?: string;\n}\n\n// --- API Response Interfaces ---\nexport interface SourceInfo {\n  name: string;\n  status: 'SUCCESS' | 'FAILED' | 'CONFIG_ERROR' | 'PENDING';\n  racesFetched: number;\n  fetchDuration: number;\n  errorMessage?: string;\n  attemptedUrl?: string;\n}\n\nexport interface AdapterError {\n  adapterName: string;\n  errorMessage: string;\n  attemptedUrl?: string;\n}\n\nexport interface AggregatedRacesResponse {\n  races: Race[];\n  errors: AdapterError[];\n  source_info: SourceInfo[];\n}\n\n// --- Analysis Factor Interfaces (retained from previous version) ---\nexport interface Factor {\n    points: number;\n    ok: boolean;\n    reason: string;\n}\n\nexport interface TrifectaFactors {\n    [key: string]: Factor;\n}\n",
    "web_service/frontend/public/manifest.json": "{\n  \"name\": \"Fortuna Faucet Command Deck\",\n  \"short_name\": \"Fortuna\",\n  \"description\": \"Real-time racing analysis.\",\n  \"start_url\": \"/\",\n  \"display\": \"standalone\",\n  \"background_color\": \"#1a202c\",\n  \"theme_color\": \"#1a202c\",\n  \"icons\": [\n    {\n      \"src\": \"/icons/icon-192x192.png\",\n      \"sizes\": \"192x192\",\n      \"type\": \"image/png\"\n    },\n    {\n      \"src\": \"/icons/icon-512x512.png\",\n      \"sizes\": \"512x512\",\n      \"type\": \"image/png\"\n    }\n  ]\n}\n",
    "web_service/frontend/public/sw.js": "if(!self.define){let e,s={};const a=(a,n)=>(a=new URL(a+\".js\",n).href,s[a]||new Promise(s=>{if(\"document\"in self){const e=document.createElement(\"script\");e.src=a,e.onload=s,document.head.appendChild(e)}else e=a,importScripts(a),s()}).then(()=>{let e=s[a];if(!e)throw new Error(`Module ${a} didn\u2019t register its module`);return e}));self.define=(n,t)=>{const i=e||(\"document\"in self?document.currentScript.src:\"\")||location.href;if(s[i])return;let c={};const r=e=>a(e,i),o={module:{uri:i},exports:c,require:r};s[i]=Promise.all(n.map(e=>o[e]||r(e))).then(e=>(t(...e),c))}}define([\"./workbox-4754cb34\"],function(e){\"use strict\";importScripts(),self.skipWaiting(),e.clientsClaim(),e.precacheAndRoute([{url:\"/_next/app-build-manifest.json\",revision:\"b6130f23369e5df052a4061c412f24fa\"},{url:\"/_next/static/YkCCvmjhdkIswKuIgvFNH/_buildManifest.js\",revision:\"c155cce658e53418dec34664328b51ac\"},{url:\"/_next/static/YkCCvmjhdkIswKuIgvFNH/_ssgManifest.js\",revision:\"b6652df95db52feb4daf4eca35380933\"},{url:\"/_next/static/chunks/117-6326cd814d964913.js\",revision:\"YkCCvmjhdkIswKuIgvFNH\"},{url:\"/_next/static/chunks/816-7254031126ac0a96.js\",revision:\"YkCCvmjhdkIswKuIgvFNH\"},{url:\"/_next/static/chunks/928.d7f641058b89a54a.js\",revision:\"d7f641058b89a54a\"},{url:\"/_next/static/chunks/app/_not-found/page-e7dc36cd5a340c38.js\",revision:\"YkCCvmjhdkIswKuIgvFNH\"},{url:\"/_next/static/chunks/app/layout-605479d07717f01e.js\",revision:\"YkCCvmjhdkIswKuIgvFNH\"},{url:\"/_next/static/chunks/app/page-a2c385e93bfc2dac.js\",revision:\"YkCCvmjhdkIswKuIgvFNH\"},{url:\"/_next/static/chunks/fd9d1056-af804af0be509bea.js\",revision:\"YkCCvmjhdkIswKuIgvFNH\"},{url:\"/_next/static/chunks/framework-f66176bb897dc684.js\",revision:\"YkCCvmjhdkIswKuIgvFNH\"},{url:\"/_next/static/chunks/main-8563e00d234bd632.js\",revision:\"YkCCvmjhdkIswKuIgvFNH\"},{url:\"/_next/static/chunks/main-app-e0b3e4e952d25145.js\",revision:\"YkCCvmjhdkIswKuIgvFNH\"},{url:\"/_next/static/chunks/pages/_app-72b849fbd24ac258.js\",revision:\"YkCCvmjhdkIswKuIgvFNH\"},{url:\"/_next/static/chunks/pages/_error-7ba65e1336b92748.js\",revision:\"YkCCvmjhdkIswKuIgvFNH\"},{url:\"/_next/static/chunks/polyfills-42372ed130431b0a.js\",revision:\"846118c33b2c0e922d7b3a7676f81f6f\"},{url:\"/_next/static/chunks/webpack-d92cdde7bb2319ca.js\",revision:\"YkCCvmjhdkIswKuIgvFNH\"},{url:\"/_next/static/css/a55e4893d0564dbf.css\",revision:\"a55e4893d0564dbf\"},{url:\"/_next/static/media/19cfc7226ec3afaa-s.woff2\",revision:\"9dda5cfc9a46f256d0e131bb535e46f8\"},{url:\"/_next/static/media/21350d82a1f187e9-s.woff2\",revision:\"4e2553027f1d60eff32898367dd4d541\"},{url:\"/_next/static/media/8e9860b6e62d6359-s.woff2\",revision:\"01ba6c2a184b8cba08b0d57167664d75\"},{url:\"/_next/static/media/ba9851c3c22cd980-s.woff2\",revision:\"9e494903d6b0ffec1a1e14d34427d44d\"},{url:\"/_next/static/media/c5fe6dc8356a8c31-s.woff2\",revision:\"027a89e9ab733a145db70f09b8a18b42\"},{url:\"/_next/static/media/df0a9ae256c0569c-s.woff2\",revision:\"d54db44de5ccb18886ece2fda72bdfe0\"},{url:\"/_next/static/media/e4af272ccee01ff0-s.p.woff2\",revision:\"65850a373e258f1c897a2b3d75eb74de\"},{url:\"/manifest.json\",revision:\"23bffdb04aba9b85948642cffa772eae\"}],{ignoreURLParametersMatching:[]}),e.cleanupOutdatedCaches(),e.registerRoute(\"/\",new e.NetworkFirst({cacheName:\"start-url\",plugins:[{cacheWillUpdate:async({request:e,response:s,event:a,state:n})=>s&&\"opaqueredirect\"===s.type?new Response(s.body,{status:200,statusText:\"OK\",headers:s.headers}):s}]}),\"GET\"),e.registerRoute(/^https:\\/\\/fonts\\.(?:gstatic)\\.com\\/.*/i,new e.CacheFirst({cacheName:\"google-fonts-webfonts\",plugins:[new e.ExpirationPlugin({maxEntries:4,maxAgeSeconds:31536e3})]}),\"GET\"),e.registerRoute(/^https:\\/\\/fonts\\.(?:googleapis)\\.com\\/.*/i,new e.StaleWhileRevalidate({cacheName:\"google-fonts-stylesheets\",plugins:[new e.ExpirationPlugin({maxEntries:4,maxAgeSeconds:604800})]}),\"GET\"),e.registerRoute(/\\.(?:eot|otf|ttc|ttf|woff|woff2|font.css)$/i,new e.StaleWhileRevalidate({cacheName:\"static-font-assets\",plugins:[new e.ExpirationPlugin({maxEntries:4,maxAgeSeconds:604800})]}),\"GET\"),e.registerRoute(/\\.(?:jpg|jpeg|gif|png|svg|ico|webp)$/i,new e.StaleWhileRevalidate({cacheName:\"static-image-assets\",plugins:[new e.ExpirationPlugin({maxEntries:64,maxAgeSeconds:86400})]}),\"GET\"),e.registerRoute(/\\/_next\\/image\\?url=.+$/i,new e.StaleWhileRevalidate({cacheName:\"next-image\",plugins:[new e.ExpirationPlugin({maxEntries:64,maxAgeSeconds:86400})]}),\"GET\"),e.registerRoute(/\\.(?:mp3|wav|ogg)$/i,new e.CacheFirst({cacheName:\"static-audio-assets\",plugins:[new e.RangeRequestsPlugin,new e.ExpirationPlugin({maxEntries:32,maxAgeSeconds:86400})]}),\"GET\"),e.registerRoute(/\\.(?:mp4)$/i,new e.CacheFirst({cacheName:\"static-video-assets\",plugins:[new e.RangeRequestsPlugin,new e.ExpirationPlugin({maxEntries:32,maxAgeSeconds:86400})]}),\"GET\"),e.registerRoute(/\\.(?:js)$/i,new e.StaleWhileRevalidate({cacheName:\"static-js-assets\",plugins:[new e.ExpirationPlugin({maxEntries:32,maxAgeSeconds:86400})]}),\"GET\"),e.registerRoute(/\\.(?:css|less)$/i,new e.StaleWhileRevalidate({cacheName:\"static-style-assets\",plugins:[new e.ExpirationPlugin({maxEntries:32,maxAgeSeconds:86400})]}),\"GET\"),e.registerRoute(/\\/_next\\/data\\/.+\\/.+\\.json$/i,new e.StaleWhileRevalidate({cacheName:\"next-data\",plugins:[new e.ExpirationPlugin({maxEntries:32,maxAgeSeconds:86400})]}),\"GET\"),e.registerRoute(/\\.(?:json|xml|csv)$/i,new e.NetworkFirst({cacheName:\"static-data-assets\",plugins:[new e.ExpirationPlugin({maxEntries:32,maxAgeSeconds:86400})]}),\"GET\"),e.registerRoute(({url:e})=>{if(!(self.origin===e.origin))return!1;const s=e.pathname;return!s.startsWith(\"/api/auth/\")&&!!s.startsWith(\"/api/\")},new e.NetworkFirst({cacheName:\"apis\",networkTimeoutSeconds:10,plugins:[new e.ExpirationPlugin({maxEntries:16,maxAgeSeconds:86400})]}),\"GET\"),e.registerRoute(({url:e})=>{if(!(self.origin===e.origin))return!1;return!e.pathname.startsWith(\"/api/\")},new e.NetworkFirst({cacheName:\"others\",networkTimeoutSeconds:10,plugins:[new e.ExpirationPlugin({maxEntries:32,maxAgeSeconds:86400})]}),\"GET\"),e.registerRoute(({url:e})=>!(self.origin===e.origin),new e.NetworkFirst({cacheName:\"cross-origin\",networkTimeoutSeconds:10,plugins:[new e.ExpirationPlugin({maxEntries:32,maxAgeSeconds:3600})]}),\"GET\")});\n",
    "web_service/frontend/tsconfig.json": "{\n  \"compilerOptions\": {\n    \"lib\": [\n      \"dom\",\n      \"dom.iterable\",\n      \"esnext\"\n    ],\n    \"allowJs\": true,\n    \"skipLibCheck\": true,\n    \"strict\": false,\n    \"noEmit\": true,\n    \"incremental\": true,\n    \"esModuleInterop\": true,\n    \"module\": \"esnext\",\n    \"moduleResolution\": \"node\",\n    \"resolveJsonModule\": true,\n    \"isolatedModules\": true,\n    \"jsx\": \"preserve\",\n    \"plugins\": [\n      {\n        \"name\": \"next\"\n      }\n    ]\n  },\n  \"include\": [\n    \"next-env.d.ts\",\n    \".next/types/**/*.ts\",\n    \"**/*.ts\",\n    \"**/*.tsx\",\n    \"out/types/**/*.ts\"\n  ],\n  \"exclude\": [\n    \"node_modules\"\n  ]\n}\n",
    "wix/product_webservice.wxs": "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<Wix xmlns=\"http://schemas.microsoft.com/wix/2006/wi\"\n     xmlns:fire=\"http://schemas.microsoft.com/wix/FirewallExtension\"\n     xmlns:util=\"http://schemas.microsoft.com/wix/UtilExtension\">\n\n  <Product Id=\"*\"\n           Name=\"Fortuna Web Service\"\n           Language=\"1033\"\n           Version=\"$(var.Version)\"\n           Manufacturer=\"Fortuna Development Team\"\n           UpgradeCode=\"A3A4A3B6-2313-4375-9A97-15206C81454A\">\n\n    <Package InstallerVersion=\"200\" Compressed=\"yes\" InstallScope=\"perMachine\" />\n    <MajorUpgrade DowngradeErrorMessage=\"A newer version of [ProductName] is already installed.\" />\n    <MediaTemplate EmbedCab=\"yes\" />\n\n    <Property Id=\"ARPNOREPAIR\" Value=\"no\" />\n    <Property Id=\"ARPNOMODIFY\" Value=\"yes\" />\n\n    <UI>\n      <UIRef Id=\"WixUI_Minimal\" />\n    </UI>\n\n    <WixVariable Id=\"WixUILicenseRtf\" Value=\"electron\\assets\\license.rtf\"/>\n    <WixVariable Id=\"WixUIBannerBmp\"  Value=\"electron\\assets\\banner.bmp\"/>\n    <WixVariable Id=\"WixUIDialogBmp\"  Value=\"electron\\assets\\dialog.bmp\"/>\n\n    <Feature Id=\"ProductFeature\" Title=\"Fortuna Web Service\" Level=\"1\">\n      <ComponentGroupRef Id=\"WebServiceComponents\" />\n      <ComponentRef Id=\"ApplicationShortcut\" />\n    </Feature>\n  </Product>\n\n  <Fragment>\n    <Directory Id=\"TARGETDIR\" Name=\"SourceDir\">\n      <Directory Id=\"ProgramFilesFolder\">\n        <Directory Id=\"INSTALLDIR\" Name=\"FortunaWebService\"/>\n      </Directory>\n      <Directory Id=\"ProgramMenuFolder\">\n        <Directory Id=\"ApplicationProgramsFolder\" Name=\"Fortuna Web Service\"/>\n      </Directory>\n      <Directory Id=\"CommonAppDataFolder\">\n        <Directory Id=\"FortunaData\" Name=\"FortunaWebService\"/>\n      </Directory>\n    </Directory>\n  </Fragment>\n\n  <Fragment>\n    <ComponentGroup Id=\"WebServiceComponents\" Directory=\"INSTALLDIR\">\n      <Component Id=\"WebServiceExecutable\" Guid=\"3F2A4A9C-4055-4D62-812E-B715A0123594\">\n        <File Id=\"WebServiceExe\" Source=\"staging/fortuna-webservice.exe\" KeyPath=\"yes\"/>\n        <ServiceInstall Id=\"FortunaWebService\"\n                        Name=\"FortunaWebService\"\n                        DisplayName=\"Fortuna Web Service\"\n                        Description=\"Provides live odds and race data via a web interface.\"\n                        Start=\"auto\"\n                        Type=\"ownProcess\"\n                        ErrorControl=\"normal\"\n                        Account=\"NetworkService\"/>\n        <ServiceControl Id=\"StartFortunaWebService\"\n                        Name=\"FortunaWebService\"\n                        Start=\"install\"\n                        Stop=\"both\"\n                        Remove=\"uninstall\"\n                        Wait=\"yes\"/>\n        <fire:FirewallException Id=\"FortunaFirewall\"\n                                Name=\"FortunaWebService\"\n                                Port=\"8088\"\n                                Protocol=\"tcp\"\n                                Scope=\"any\"/>\n      </Component>\n    </ComponentGroup>\n  </Fragment>\n\n  <Fragment>\n    <DirectoryRef Id=\"ApplicationProgramsFolder\">\n      <Component Id=\"ApplicationShortcut\" Guid=\"5E95E5B9-4F3D-4B9A-819B-9149C5E4700F\">\n        <util:InternetShortcut Id=\"DashboardShortcut\"\n                               Name=\"Fortuna Dashboard\"\n                               Target=\"http://localhost:8088\"/>\n        <Shortcut Id=\"UninstallProduct\"\n                  Name=\"Uninstall Fortuna Web Service\"\n                  Target=\"[SystemFolder]msiexec.exe\"\n                  Arguments=\"/x [ProductCode]\"\n                  Description=\"Uninstalls Fortuna Web Service\"/>\n        <RemoveFolder Id=\"ApplicationProgramsFolder\" On=\"uninstall\"/>\n        <RegistryValue Root=\"HKCU\"\n                       Key=\"Software\\FortunaWebService\"\n                       Name=\"installed\"\n                       Type=\"integer\"\n                       Value=\"1\"\n                       KeyPath=\"yes\"/>\n      </Component>\n    </DirectoryRef>\n  </Fragment>\n</Wix>\n"
}