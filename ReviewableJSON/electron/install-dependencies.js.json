{
    "file_path": "electron/install-dependencies.js",
    "content": "// electron/install-dependencies.js\n// This script is executed by the MSI installer to set up the environment.\nconst { execSync } = require('child_process');\nconst path = require('path');\n\nconst ROOT_DIR = path.resolve(__dirname, '..');\nconst PYTHON_SERVICE_DIR = path.join(ROOT_DIR, 'python_service');\nconst FRONTEND_DIR = path.join(ROOT_DIR, 'web_platform', 'frontend');\n\nfunction log(message) {\n    console.log(`[INSTALLER] ${message}`);\n}\n\nfunction runCommand(command, cwd) {\n    log(`Executing: ${command} in ${cwd}`);\n    try {\n        execSync(command, { cwd, stdio: 'inherit' });\n        log(`SUCCESS: ${command}`);\n    } catch (error) {\n        log(`ERROR: Command failed: ${command}`);\n        log(error.message);\n        // In a real scenario, you might want to throw to halt installation\n    }\n}\n\nlog('--- Starting Fortuna Faucet Dependency Installation ---');\n\n// 1. Install Python Dependencies\nlog('Step 1: Installing Python dependencies...');\nconst venvPython = path.join(ROOT_DIR, '.venv', 'Scripts', 'python.exe');\nrunCommand(`\"${venvPython}\" -m pip install -r requirements.txt`, PYTHON_SERVICE_DIR);\n\n// 2. Install Frontend Dependencies\nlog('Step 2: Installing Frontend dependencies...');\nrunCommand('npm install', FRONTEND_DIR);\n\nlog('--- Dependency Installation Complete ---');"
}